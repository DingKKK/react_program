{"{\"assumptions\":{},\"sourceRoot\":\"/home/njucs/bugDetection&Repair/code/src/server/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/njucs/bugDetection&Repair/code\",\"filename\":\"/home/njucs/bugDetection&Repair/code/src/server/server.js\",\"targets\":{\"android\":\"124.0.0\",\"chrome\":\"101.0.0\",\"edge\":\"122.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"107.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/njucs/bugDetection&Repair/code\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.6:development":{"value":{"code":"\"use strict\";\n\nconst path = require('path');\nconst express = require('express');\nconst http = require('http');\nconst WebSocket = require('ws');\nconst fs = require('fs');\nconst {\n  exec\n} = require('child_process');\nconst {\n  notification\n} = require('antd');\nconst React = require('react');\nconst ReactDOMServer = require('react-dom/server');\nconst {\n  StaticRouter\n} = require('react-router-dom/server');\nconst App = require('../App').default;\nconst PORT = process.env.PORT || 3000;\nconst app = express();\napp.use(express.static('./build'));\napp.get('/*', (req, res) => {\n  fs.readFile('./build/index.html', 'utf-8', (err, data) => {\n    if (err) {\n      console.log(err);\n      return res.status(500).send('Some error happened');\n    }\n    const context = {};\n    const appHtml = ReactDOMServer.renderToString( /*#__PURE__*/React.createElement(StaticRouter, {\n      location: req.url,\n      context: context\n    }, /*#__PURE__*/React.createElement(App, null)));\n    if (context.url) {\n      res.redirect(context.url);\n    } else {\n      return res.send(data.replace('<div id=\"root\"></div>', \"<div id=\\\"root\\\">\".concat(appHtml, \"</div>\")));\n    }\n  });\n});\nconst server = http.createServer(app);\nconst wss = new WebSocket.Server({\n  server\n});\napp.get('/', (req, res) => {\n  res.send('WebSocket Server is running.');\n});\nwss.on('connection', ws => {\n  console.log('New client connected');\n  ws.on('message', message => {\n    // 接收到消息后执行命令\n    const parsedMessage = JSON.parse(message);\n    console.log('Parsed message:', parsedMessage);\n    if (parsedMessage.type === 'sortData') {\n      // TODO: the command to get sorted data\n      /*const command = '?';\n      exec(command, (error, stdout, stderr) => {\n        if (error) {\n          ws.send(JSON.stringify({\n            type:notification,\n            content: error.message}));\n        } else {\n          ws.send(JSON.stringify({\n            type: 'notification',\n            content: stdout}));\n            // TODO: get sorted data path\n            fs.readFile('?', 'utf8', (err, jsonString) => {\n            if (err) {\n              console.log(\"File read failed:\", err);\n              return;\n            }\n            try {\n              const data = JSON.parse(jsonString);\n              ws.send(JSON.stringify({\n                type: 'sortedData',\n                content: jsonString\n              }));\n              // 解析后的数据\n              console.log(data);\n            } catch(err) {\n              console.log('Error parsing JSON:', err);\n            }\n          });\n          }\n      });*/\n    }\n    if (parsedMessage.type === 'patchGeneration') {\n      const fileContent = JSON.stringify(parsedMessage.content);\n      const filePath = './intermediate_result/bug.json';\n      const bugType = parsedMessage.bugLabel;\n      fs.writeFile(filePath, fileContent, err => {\n        if (err) {\n          console.error('Error writing to file:', err);\n          ws.send(JSON.stringify({\n            type: 'notification',\n            content: \"\\u5199\\u5165\\u6587\\u4EF6\\u65F6\\u51FA\\u9519: \".concat(err.message)\n          }));\n        } else {\n          console.log('File written successfully');\n          ws.send(JSON.stringify({\n            type: 'notification',\n            content: '文件写入成功'\n          }));\n        }\n      });\n      // TODO: 补丁修复指令\n      /*const command = '?';\n      exec(command, (error, stdout, stderr) => {\n        if (error) {\n          ws.send(JSON.stringify({\n            type:notification,\n            content: error.message}));\n        } else {\n          // TODO: 发送type为download的消息给前端,读取补丁修复文件的内容传给前端供用户下载\n          fs.readFile('?', 'utf8', (err, fileContent) => {\n            if (err) {\n              console.log(\"File read failed:\", err);\n              return;\n            }\n            try {\n              ws.send(JSON.stringify({\n              type: 'download',\n              content: fileContent }));\n              // 解析后的数据\n              console.log(data);\n            } catch(err) {\n              console.log('Error parsing JSON:', err);\n            }\n          \n         }\n      });*/\n    }\n    if (parsedMessage.type == 'bugDetection') {\n      const fileContent = parsedMessage.content;\n      const filePath = './intermediate_result/example.c';\n      fs.writeFile(filePath, fileContent, err => {\n        if (err) {\n          console.error('Error writing to file:', err);\n          ws.send(JSON.stringify({\n            type: 'notification',\n            content: \"\\u5199\\u5165\\u6587\\u4EF6\\u65F6\\u51FA\\u9519: \".concat(err.message)\n          }));\n        } else {\n          console.log('File written successfully');\n          ws.send(JSON.stringify({\n            type: 'notification',\n            content: '文件写入成功'\n          }));\n        }\n      });\n      const command = '../infer-linux64-v1.1.0/bin/infer run --pulse -- clang -c ' + filePath;\n      exec(command, (error, stdout, stderr) => {\n        if (error) {\n          ws.send(JSON.stringify({\n            type: notification,\n            content: error.message\n          }));\n        } else {\n          ws.send(JSON.stringify({\n            type: 'notification',\n            content: stdout\n          }));\n          // 读取JSON文件\n          fs.readFile('./infer-out/report.json', 'utf8', (err, jsonString) => {\n            if (err) {\n              console.log(\"File read failed:\", err);\n              return;\n            }\n            try {\n              const data = JSON.parse(jsonString);\n              ws.send(JSON.stringify({\n                type: 'bugData',\n                content: jsonString\n              }));\n              // 解析后的数据\n              console.log(data);\n            } catch (err) {\n              console.log('Error parsing JSON:', err);\n            }\n          });\n        }\n      });\n    }\n  });\n  ws.on('close', () => {\n    console.log('Client disconnected');\n  });\n});\nserver.listen(PORT, () => {\n  console.log('WebSocket Server is listening on port 3000.');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwYXRoIiwicmVxdWlyZSIsImV4cHJlc3MiLCJodHRwIiwiV2ViU29ja2V0IiwiZnMiLCJleGVjIiwibm90aWZpY2F0aW9uIiwiUmVhY3QiLCJSZWFjdERPTVNlcnZlciIsIlN0YXRpY1JvdXRlciIsIkFwcCIsImRlZmF1bHQiLCJQT1JUIiwicHJvY2VzcyIsImVudiIsImFwcCIsInVzZSIsInN0YXRpYyIsImdldCIsInJlcSIsInJlcyIsInJlYWRGaWxlIiwiZXJyIiwiZGF0YSIsImNvbnNvbGUiLCJsb2ciLCJzdGF0dXMiLCJzZW5kIiwiY29udGV4dCIsImFwcEh0bWwiLCJyZW5kZXJUb1N0cmluZyIsImNyZWF0ZUVsZW1lbnQiLCJsb2NhdGlvbiIsInVybCIsInJlZGlyZWN0IiwicmVwbGFjZSIsImNvbmNhdCIsInNlcnZlciIsImNyZWF0ZVNlcnZlciIsIndzcyIsIlNlcnZlciIsIm9uIiwid3MiLCJtZXNzYWdlIiwicGFyc2VkTWVzc2FnZSIsIkpTT04iLCJwYXJzZSIsInR5cGUiLCJmaWxlQ29udGVudCIsInN0cmluZ2lmeSIsImNvbnRlbnQiLCJmaWxlUGF0aCIsImJ1Z1R5cGUiLCJidWdMYWJlbCIsIndyaXRlRmlsZSIsImVycm9yIiwiY29tbWFuZCIsInN0ZG91dCIsInN0ZGVyciIsImpzb25TdHJpbmciLCJsaXN0ZW4iXSwic291cmNlUm9vdCI6Ii9ob21lL25qdWNzL2J1Z0RldGVjdGlvbiZSZXBhaXIvY29kZS9zcmMvc2VydmVyLyIsInNvdXJjZXMiOlsic2VydmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5jb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xuY29uc3QgaHR0cCA9IHJlcXVpcmUoJ2h0dHAnKTtcbmNvbnN0IFdlYlNvY2tldCA9IHJlcXVpcmUoJ3dzJyk7XG5jb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5jb25zdCB7IGV4ZWMgfSA9IHJlcXVpcmUoJ2NoaWxkX3Byb2Nlc3MnKTtcbmNvbnN0IHsgbm90aWZpY2F0aW9uIH0gPSByZXF1aXJlKCdhbnRkJyk7XG5jb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5jb25zdCBSZWFjdERPTVNlcnZlciA9IHJlcXVpcmUoJ3JlYWN0LWRvbS9zZXJ2ZXInKTtcbmNvbnN0IHsgU3RhdGljUm91dGVyIH0gPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXItZG9tL3NlcnZlcicpO1xuY29uc3QgQXBwID0gcmVxdWlyZSgnLi4vQXBwJykuZGVmYXVsdDtcblxuY29uc3QgUE9SVCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgMzAwMDtcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmFwcC51c2UoZXhwcmVzcy5zdGF0aWMoJy4vYnVpbGQnKSk7XG5cbmFwcC5nZXQoJy8qJywgKHJlcSwgcmVzKSA9PiB7XG4gIGZzLnJlYWRGaWxlKCcuL2J1aWxkL2luZGV4Lmh0bWwnLCAndXRmLTgnLCAoZXJyLCBkYXRhKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZCgnU29tZSBlcnJvciBoYXBwZW5lZCcpO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbnRleHQgPSB7fTtcbiAgICBjb25zdCBhcHBIdG1sID0gUmVhY3RET01TZXJ2ZXIucmVuZGVyVG9TdHJpbmcoXG4gICAgICA8U3RhdGljUm91dGVyIGxvY2F0aW9uPXtyZXEudXJsfSBjb250ZXh0PXtjb250ZXh0fT5cbiAgICAgICAgPEFwcCAvPlxuICAgICAgPC9TdGF0aWNSb3V0ZXI+XG4gICAgKTtcblxuICAgIGlmIChjb250ZXh0LnVybCkge1xuICAgICAgcmVzLnJlZGlyZWN0KGNvbnRleHQudXJsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJlcy5zZW5kKFxuICAgICAgICBkYXRhLnJlcGxhY2UoXG4gICAgICAgICAgJzxkaXYgaWQ9XCJyb290XCI+PC9kaXY+JyxcbiAgICAgICAgICBgPGRpdiBpZD1cInJvb3RcIj4ke2FwcEh0bWx9PC9kaXY+YFxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfSk7XG59KTtcbmNvbnN0IHNlcnZlciA9IGh0dHAuY3JlYXRlU2VydmVyKGFwcCk7XG5jb25zdCB3c3MgPSBuZXcgV2ViU29ja2V0LlNlcnZlcih7IHNlcnZlciB9KTtcblxuYXBwLmdldCgnLycsIChyZXEsIHJlcykgPT4ge1xuICByZXMuc2VuZCgnV2ViU29ja2V0IFNlcnZlciBpcyBydW5uaW5nLicpO1xufSk7XG5cbndzcy5vbignY29ubmVjdGlvbicsICh3cykgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdOZXcgY2xpZW50IGNvbm5lY3RlZCcpO1xuICAgIHdzLm9uKCdtZXNzYWdlJywgKG1lc3NhZ2UpID0+IHtcbiAgICAvLyDmjqXmlLbliLDmtojmga/lkI7miafooYzlkb3ku6RcbiAgICBjb25zdCBwYXJzZWRNZXNzYWdlID0gSlNPTi5wYXJzZShtZXNzYWdlKTtcbiAgICBjb25zb2xlLmxvZygnUGFyc2VkIG1lc3NhZ2U6JywgcGFyc2VkTWVzc2FnZSk7XG4gICAgaWYgKHBhcnNlZE1lc3NhZ2UudHlwZSA9PT0gJ3NvcnREYXRhJykge1xuICAgICAgLy8gVE9ETzogdGhlIGNvbW1hbmQgdG8gZ2V0IHNvcnRlZCBkYXRhXG4gICAgICAvKmNvbnN0IGNvbW1hbmQgPSAnPyc7XG4gICAgICBleGVjKGNvbW1hbmQsIChlcnJvciwgc3Rkb3V0LCBzdGRlcnIpID0+IHtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgd3Muc2VuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICB0eXBlOm5vdGlmaWNhdGlvbixcbiAgICAgICAgICAgIGNvbnRlbnQ6IGVycm9yLm1lc3NhZ2V9KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd3Muc2VuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICB0eXBlOiAnbm90aWZpY2F0aW9uJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6IHN0ZG91dH0pKTtcbiAgICAgICAgICAgIC8vIFRPRE86IGdldCBzb3J0ZWQgZGF0YSBwYXRoXG4gICAgICAgICAgICBmcy5yZWFkRmlsZSgnPycsICd1dGY4JywgKGVyciwganNvblN0cmluZykgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZpbGUgcmVhZCBmYWlsZWQ6XCIsIGVycik7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGpzb25TdHJpbmcpO1xuICAgICAgICAgICAgICB3cy5zZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnc29ydGVkRGF0YScsXG4gICAgICAgICAgICAgICAgY29udGVudDoganNvblN0cmluZ1xuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgIC8vIOino+aekOWQjueahOaVsOaNrlxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgIH0gY2F0Y2goZXJyKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBwYXJzaW5nIEpTT046JywgZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuXG4gICAgICAgIH1cbiAgICAgIH0pOyovXG4gICAgfVxuICAgIGlmIChwYXJzZWRNZXNzYWdlLnR5cGUgPT09ICdwYXRjaEdlbmVyYXRpb24nKSB7XG4gICAgICBjb25zdCBmaWxlQ29udGVudCA9IEpTT04uc3RyaW5naWZ5KHBhcnNlZE1lc3NhZ2UuY29udGVudCk7XG4gICAgICBjb25zdCBmaWxlUGF0aCA9ICcuL2ludGVybWVkaWF0ZV9yZXN1bHQvYnVnLmpzb24nO1xuICAgICAgY29uc3QgYnVnVHlwZSA9IHBhcnNlZE1lc3NhZ2UuYnVnTGFiZWw7XG4gICAgICBmcy53cml0ZUZpbGUoZmlsZVBhdGgsIGZpbGVDb250ZW50LCAoZXJyKSA9PiB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB3cml0aW5nIHRvIGZpbGU6JywgZXJyKTtcbiAgICAgICAgICB3cy5zZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHR5cGU6ICdub3RpZmljYXRpb24nLFxuICAgICAgICAgICAgY29udGVudDogYOWGmeWFpeaWh+S7tuaXtuWHuumUmTogJHtlcnIubWVzc2FnZX1gIH0pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnRmlsZSB3cml0dGVuIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICAgIHdzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgdHlwZTogJ25vdGlmaWNhdGlvbicsXG4gICAgICAgICAgICBjb250ZW50OiAn5paH5Lu25YaZ5YWl5oiQ5YqfJyB9KSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gVE9ETzog6KGl5LiB5L+u5aSN5oyH5LukXG4gICAgICAvKmNvbnN0IGNvbW1hbmQgPSAnPyc7XG4gICAgICBleGVjKGNvbW1hbmQsIChlcnJvciwgc3Rkb3V0LCBzdGRlcnIpID0+IHtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgd3Muc2VuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICB0eXBlOm5vdGlmaWNhdGlvbixcbiAgICAgICAgICAgIGNvbnRlbnQ6IGVycm9yLm1lc3NhZ2V9KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gVE9ETzog5Y+R6YCBdHlwZeS4umRvd25sb2Fk55qE5raI5oGv57uZ5YmN56uvLOivu+WPluihpeS4geS/ruWkjeaWh+S7tueahOWGheWuueS8oOe7meWJjeerr+S+m+eUqOaIt+S4i+i9vVxuICAgICAgICAgIGZzLnJlYWRGaWxlKCc/JywgJ3V0ZjgnLCAoZXJyLCBmaWxlQ29udGVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZpbGUgcmVhZCBmYWlsZWQ6XCIsIGVycik7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHdzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICB0eXBlOiAnZG93bmxvYWQnLFxuICAgICAgICAgICAgICBjb250ZW50OiBmaWxlQ29udGVudCB9KSk7XG4gICAgICAgICAgICAgIC8vIOino+aekOWQjueahOaVsOaNrlxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgIH0gY2F0Y2goZXJyKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBwYXJzaW5nIEpTT046JywgZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBcblxuICAgICAgICB9XG4gICAgICB9KTsqL1xuICAgICAgXG4gICAgfVxuICAgIGlmIChwYXJzZWRNZXNzYWdlLnR5cGUgPT0gJ2J1Z0RldGVjdGlvbicpIHtcbiAgICAgIGNvbnN0IGZpbGVDb250ZW50ID0gcGFyc2VkTWVzc2FnZS5jb250ZW50O1xuICAgICAgY29uc3QgZmlsZVBhdGggPSAnLi9pbnRlcm1lZGlhdGVfcmVzdWx0L2V4YW1wbGUuYyc7XG4gICAgICBmcy53cml0ZUZpbGUoZmlsZVBhdGgsIGZpbGVDb250ZW50LCAoZXJyKSA9PiB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB3cml0aW5nIHRvIGZpbGU6JywgZXJyKTtcbiAgICAgICAgICB3cy5zZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHR5cGU6ICdub3RpZmljYXRpb24nLFxuICAgICAgICAgICAgY29udGVudDogYOWGmeWFpeaWh+S7tuaXtuWHuumUmTogJHtlcnIubWVzc2FnZX1gIH0pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnRmlsZSB3cml0dGVuIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICAgIHdzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgdHlwZTogJ25vdGlmaWNhdGlvbicsXG4gICAgICAgICAgICBjb250ZW50OiAn5paH5Lu25YaZ5YWl5oiQ5YqfJyB9KSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3QgY29tbWFuZCA9ICcuLi9pbmZlci1saW51eDY0LXYxLjEuMC9iaW4vaW5mZXIgcnVuIC0tcHVsc2UgLS0gY2xhbmcgLWMgJyArIGZpbGVQYXRoO1xuICAgICAgZXhlYyhjb21tYW5kLCAoZXJyb3IsIHN0ZG91dCwgc3RkZXJyKSA9PiB7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHdzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgdHlwZTpub3RpZmljYXRpb24sXG4gICAgICAgICAgICBjb250ZW50OiBlcnJvci5tZXNzYWdlfSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgdHlwZTogJ25vdGlmaWNhdGlvbicsXG4gICAgICAgICAgICBjb250ZW50OiBzdGRvdXR9KSk7XG4gICAgICAgICAgLy8g6K+75Y+WSlNPTuaWh+S7tlxuICAgICAgICAgIGZzLnJlYWRGaWxlKCcuL2luZmVyLW91dC9yZXBvcnQuanNvbicsICd1dGY4JywgKGVyciwganNvblN0cmluZykgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZpbGUgcmVhZCBmYWlsZWQ6XCIsIGVycik7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGpzb25TdHJpbmcpO1xuICAgICAgICAgICAgICB3cy5zZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnYnVnRGF0YScsXG4gICAgICAgICAgICAgICAgY29udGVudDoganNvblN0cmluZ1xuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgIC8vIOino+aekOWQjueahOaVsOaNrlxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgIH0gY2F0Y2goZXJyKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBwYXJzaW5nIEpTT046JywgZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgXG5cbiAgfSk7XG4gIHdzLm9uKCdjbG9zZScsICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnQ2xpZW50IGRpc2Nvbm5lY3RlZCcpO1xuICB9KTtcbn0pO1xuXG5zZXJ2ZXIubGlzdGVuKFBPUlQsICgpID0+IHtcbiAgY29uc29sZS5sb2coJ1dlYlNvY2tldCBTZXJ2ZXIgaXMgbGlzdGVuaW5nIG9uIHBvcnQgMzAwMC4nKTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUM1QixNQUFNQyxPQUFPLEdBQUdELE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDbEMsTUFBTUUsSUFBSSxHQUFHRixPQUFPLENBQUMsTUFBTSxDQUFDO0FBQzVCLE1BQU1HLFNBQVMsR0FBR0gsT0FBTyxDQUFDLElBQUksQ0FBQztBQUMvQixNQUFNSSxFQUFFLEdBQUdKLE9BQU8sQ0FBQyxJQUFJLENBQUM7QUFDeEIsTUFBTTtFQUFFSztBQUFLLENBQUMsR0FBR0wsT0FBTyxDQUFDLGVBQWUsQ0FBQztBQUN6QyxNQUFNO0VBQUVNO0FBQWEsQ0FBQyxHQUFHTixPQUFPLENBQUMsTUFBTSxDQUFDO0FBQ3hDLE1BQU1PLEtBQUssR0FBR1AsT0FBTyxDQUFDLE9BQU8sQ0FBQztBQUM5QixNQUFNUSxjQUFjLEdBQUdSLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQztBQUNsRCxNQUFNO0VBQUVTO0FBQWEsQ0FBQyxHQUFHVCxPQUFPLENBQUMseUJBQXlCLENBQUM7QUFDM0QsTUFBTVUsR0FBRyxHQUFHVixPQUFPLENBQUMsUUFBUSxDQUFDLENBQUNXLE9BQU87QUFFckMsTUFBTUMsSUFBSSxHQUFHQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsSUFBSSxJQUFJLElBQUk7QUFDckMsTUFBTUcsR0FBRyxHQUFHZCxPQUFPLENBQUMsQ0FBQztBQUNyQmMsR0FBRyxDQUFDQyxHQUFHLENBQUNmLE9BQU8sQ0FBQ2dCLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUVsQ0YsR0FBRyxDQUFDRyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQzFCaEIsRUFBRSxDQUFDaUIsUUFBUSxDQUFDLG9CQUFvQixFQUFFLE9BQU8sRUFBRSxDQUFDQyxHQUFHLEVBQUVDLElBQUksS0FBSztJQUN4RCxJQUFJRCxHQUFHLEVBQUU7TUFDUEUsT0FBTyxDQUFDQyxHQUFHLENBQUNILEdBQUcsQ0FBQztNQUNoQixPQUFPRixHQUFHLENBQUNNLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLHFCQUFxQixDQUFDO0lBQ3BEO0lBRUEsTUFBTUMsT0FBTyxHQUFHLENBQUMsQ0FBQztJQUNsQixNQUFNQyxPQUFPLEdBQUdyQixjQUFjLENBQUNzQixjQUFjLGVBQzNDdkIsS0FBQSxDQUFBd0IsYUFBQSxDQUFDdEIsWUFBWTtNQUFDdUIsUUFBUSxFQUFFYixHQUFHLENBQUNjLEdBQUk7TUFBQ0wsT0FBTyxFQUFFQTtJQUFRLGdCQUNoRHJCLEtBQUEsQ0FBQXdCLGFBQUEsQ0FBQ3JCLEdBQUcsTUFBRSxDQUNNLENBQ2hCLENBQUM7SUFFRCxJQUFJa0IsT0FBTyxDQUFDSyxHQUFHLEVBQUU7TUFDZmIsR0FBRyxDQUFDYyxRQUFRLENBQUNOLE9BQU8sQ0FBQ0ssR0FBRyxDQUFDO0lBQzNCLENBQUMsTUFBTTtNQUNMLE9BQU9iLEdBQUcsQ0FBQ08sSUFBSSxDQUNiSixJQUFJLENBQUNZLE9BQU8sQ0FDVix1QkFBdUIsc0JBQUFDLE1BQUEsQ0FDTFAsT0FBTyxXQUMzQixDQUNGLENBQUM7SUFDSDtFQUNGLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUNGLE1BQU1RLE1BQU0sR0FBR25DLElBQUksQ0FBQ29DLFlBQVksQ0FBQ3ZCLEdBQUcsQ0FBQztBQUNyQyxNQUFNd0IsR0FBRyxHQUFHLElBQUlwQyxTQUFTLENBQUNxQyxNQUFNLENBQUM7RUFBRUg7QUFBTyxDQUFDLENBQUM7QUFFNUN0QixHQUFHLENBQUNHLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDekJBLEdBQUcsQ0FBQ08sSUFBSSxDQUFDLDhCQUE4QixDQUFDO0FBQzFDLENBQUMsQ0FBQztBQUVGWSxHQUFHLENBQUNFLEVBQUUsQ0FBQyxZQUFZLEVBQUdDLEVBQUUsSUFBSztFQUN6QmxCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHNCQUFzQixDQUFDO0VBQ25DaUIsRUFBRSxDQUFDRCxFQUFFLENBQUMsU0FBUyxFQUFHRSxPQUFPLElBQUs7SUFDOUI7SUFDQSxNQUFNQyxhQUFhLEdBQUdDLElBQUksQ0FBQ0MsS0FBSyxDQUFDSCxPQUFPLENBQUM7SUFDekNuQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRW1CLGFBQWEsQ0FBQztJQUM3QyxJQUFJQSxhQUFhLENBQUNHLElBQUksS0FBSyxVQUFVLEVBQUU7TUFDckM7TUFDQTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7SUE3Qk07SUFpQ0YsSUFBSUgsYUFBYSxDQUFDRyxJQUFJLEtBQUssaUJBQWlCLEVBQUU7TUFDNUMsTUFBTUMsV0FBVyxHQUFHSCxJQUFJLENBQUNJLFNBQVMsQ0FBQ0wsYUFBYSxDQUFDTSxPQUFPLENBQUM7TUFDekQsTUFBTUMsUUFBUSxHQUFHLGdDQUFnQztNQUNqRCxNQUFNQyxPQUFPLEdBQUdSLGFBQWEsQ0FBQ1MsUUFBUTtNQUN0Q2pELEVBQUUsQ0FBQ2tELFNBQVMsQ0FBQ0gsUUFBUSxFQUFFSCxXQUFXLEVBQUcxQixHQUFHLElBQUs7UUFDM0MsSUFBSUEsR0FBRyxFQUFFO1VBQ1BFLE9BQU8sQ0FBQytCLEtBQUssQ0FBQyx3QkFBd0IsRUFBRWpDLEdBQUcsQ0FBQztVQUM1Q29CLEVBQUUsQ0FBQ2YsSUFBSSxDQUFDa0IsSUFBSSxDQUFDSSxTQUFTLENBQUM7WUFDckJGLElBQUksRUFBRSxjQUFjO1lBQ3BCRyxPQUFPLGlEQUFBZCxNQUFBLENBQWNkLEdBQUcsQ0FBQ3FCLE9BQU87VUFBRyxDQUFDLENBQUMsQ0FBQztRQUMxQyxDQUFDLE1BQU07VUFDTG5CLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDJCQUEyQixDQUFDO1VBQ3hDaUIsRUFBRSxDQUFDZixJQUFJLENBQUNrQixJQUFJLENBQUNJLFNBQVMsQ0FBQztZQUNyQkYsSUFBSSxFQUFFLGNBQWM7WUFDcEJHLE9BQU8sRUFBRTtVQUFTLENBQUMsQ0FBQyxDQUFDO1FBQ3pCO01BQ0YsQ0FBQyxDQUFDO01BQ0Y7TUFDQTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtJQUdJO0lBQ0EsSUFBSU4sYUFBYSxDQUFDRyxJQUFJLElBQUksY0FBYyxFQUFFO01BQ3hDLE1BQU1DLFdBQVcsR0FBR0osYUFBYSxDQUFDTSxPQUFPO01BQ3pDLE1BQU1DLFFBQVEsR0FBRyxpQ0FBaUM7TUFDbEQvQyxFQUFFLENBQUNrRCxTQUFTLENBQUNILFFBQVEsRUFBRUgsV0FBVyxFQUFHMUIsR0FBRyxJQUFLO1FBQzNDLElBQUlBLEdBQUcsRUFBRTtVQUNQRSxPQUFPLENBQUMrQixLQUFLLENBQUMsd0JBQXdCLEVBQUVqQyxHQUFHLENBQUM7VUFDNUNvQixFQUFFLENBQUNmLElBQUksQ0FBQ2tCLElBQUksQ0FBQ0ksU0FBUyxDQUFDO1lBQ3JCRixJQUFJLEVBQUUsY0FBYztZQUNwQkcsT0FBTyxpREFBQWQsTUFBQSxDQUFjZCxHQUFHLENBQUNxQixPQUFPO1VBQUcsQ0FBQyxDQUFDLENBQUM7UUFDMUMsQ0FBQyxNQUFNO1VBQ0xuQixPQUFPLENBQUNDLEdBQUcsQ0FBQywyQkFBMkIsQ0FBQztVQUN4Q2lCLEVBQUUsQ0FBQ2YsSUFBSSxDQUFDa0IsSUFBSSxDQUFDSSxTQUFTLENBQUM7WUFDckJGLElBQUksRUFBRSxjQUFjO1lBQ3BCRyxPQUFPLEVBQUU7VUFBUyxDQUFDLENBQUMsQ0FBQztRQUN6QjtNQUNGLENBQUMsQ0FBQztNQUNGLE1BQU1NLE9BQU8sR0FBRyw0REFBNEQsR0FBR0wsUUFBUTtNQUN2RjlDLElBQUksQ0FBQ21ELE9BQU8sRUFBRSxDQUFDRCxLQUFLLEVBQUVFLE1BQU0sRUFBRUMsTUFBTSxLQUFLO1FBQ3ZDLElBQUlILEtBQUssRUFBRTtVQUNUYixFQUFFLENBQUNmLElBQUksQ0FBQ2tCLElBQUksQ0FBQ0ksU0FBUyxDQUFDO1lBQ3JCRixJQUFJLEVBQUN6QyxZQUFZO1lBQ2pCNEMsT0FBTyxFQUFFSyxLQUFLLENBQUNaO1VBQU8sQ0FBQyxDQUFDLENBQUM7UUFDN0IsQ0FBQyxNQUFNO1VBQ0xELEVBQUUsQ0FBQ2YsSUFBSSxDQUFDa0IsSUFBSSxDQUFDSSxTQUFTLENBQUM7WUFDckJGLElBQUksRUFBRSxjQUFjO1lBQ3BCRyxPQUFPLEVBQUVPO1VBQU0sQ0FBQyxDQUFDLENBQUM7VUFDcEI7VUFDQXJELEVBQUUsQ0FBQ2lCLFFBQVEsQ0FBQyx5QkFBeUIsRUFBRSxNQUFNLEVBQUUsQ0FBQ0MsR0FBRyxFQUFFcUMsVUFBVSxLQUFLO1lBQ2xFLElBQUlyQyxHQUFHLEVBQUU7Y0FDUEUsT0FBTyxDQUFDQyxHQUFHLENBQUMsbUJBQW1CLEVBQUVILEdBQUcsQ0FBQztjQUNyQztZQUNGO1lBQ0EsSUFBSTtjQUNGLE1BQU1DLElBQUksR0FBR3NCLElBQUksQ0FBQ0MsS0FBSyxDQUFDYSxVQUFVLENBQUM7Y0FDbkNqQixFQUFFLENBQUNmLElBQUksQ0FBQ2tCLElBQUksQ0FBQ0ksU0FBUyxDQUFDO2dCQUNyQkYsSUFBSSxFQUFFLFNBQVM7Z0JBQ2ZHLE9BQU8sRUFBRVM7Y0FDWCxDQUFDLENBQUMsQ0FBQztjQUNIO2NBQ0FuQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsSUFBSSxDQUFDO1lBQ25CLENBQUMsQ0FBQyxPQUFNRCxHQUFHLEVBQUU7Y0FDWEUsT0FBTyxDQUFDQyxHQUFHLENBQUMscUJBQXFCLEVBQUVILEdBQUcsQ0FBQztZQUN6QztVQUNGLENBQUMsQ0FBQztRQUVKO01BQ0YsQ0FBQyxDQUFDO0lBQ0o7RUFJRixDQUFDLENBQUM7RUFDRm9CLEVBQUUsQ0FBQ0QsRUFBRSxDQUFDLE9BQU8sRUFBRSxNQUFNO0lBQ25CakIsT0FBTyxDQUFDQyxHQUFHLENBQUMscUJBQXFCLENBQUM7RUFDcEMsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUZZLE1BQU0sQ0FBQ3VCLE1BQU0sQ0FBQ2hELElBQUksRUFBRSxNQUFNO0VBQ3hCWSxPQUFPLENBQUNDLEdBQUcsQ0FBQyw2Q0FBNkMsQ0FBQztBQUM1RCxDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["path","require","express","http","WebSocket","fs","exec","notification","React","ReactDOMServer","StaticRouter","App","default","PORT","process","env","app","use","static","get","req","res","readFile","err","data","console","log","status","send","context","appHtml","renderToString","createElement","location","url","redirect","replace","concat","server","createServer","wss","Server","on","ws","message","parsedMessage","JSON","parse","type","fileContent","stringify","content","filePath","bugType","bugLabel","writeFile","error","command","stdout","stderr","jsonString","listen"],"sourceRoot":"/home/njucs/bugDetection&Repair/code/src/server/","sources":["server.js"],"sourcesContent":["const path = require('path');\nconst express = require('express');\nconst http = require('http');\nconst WebSocket = require('ws');\nconst fs = require('fs');\nconst { exec } = require('child_process');\nconst { notification } = require('antd');\nconst React = require('react');\nconst ReactDOMServer = require('react-dom/server');\nconst { StaticRouter } = require('react-router-dom/server');\nconst App = require('../App').default;\n\nconst PORT = process.env.PORT || 3000;\nconst app = express();\napp.use(express.static('./build'));\n\napp.get('/*', (req, res) => {\n  fs.readFile('./build/index.html', 'utf-8', (err, data) => {\n    if (err) {\n      console.log(err);\n      return res.status(500).send('Some error happened');\n    }\n\n    const context = {};\n    const appHtml = ReactDOMServer.renderToString(\n      <StaticRouter location={req.url} context={context}>\n        <App />\n      </StaticRouter>\n    );\n\n    if (context.url) {\n      res.redirect(context.url);\n    } else {\n      return res.send(\n        data.replace(\n          '<div id=\"root\"></div>',\n          `<div id=\"root\">${appHtml}</div>`\n        )\n      );\n    }\n  });\n});\nconst server = http.createServer(app);\nconst wss = new WebSocket.Server({ server });\n\napp.get('/', (req, res) => {\n  res.send('WebSocket Server is running.');\n});\n\nwss.on('connection', (ws) => {\n    console.log('New client connected');\n    ws.on('message', (message) => {\n    // 接收到消息后执行命令\n    const parsedMessage = JSON.parse(message);\n    console.log('Parsed message:', parsedMessage);\n    if (parsedMessage.type === 'sortData') {\n      // TODO: the command to get sorted data\n      /*const command = '?';\n      exec(command, (error, stdout, stderr) => {\n        if (error) {\n          ws.send(JSON.stringify({\n            type:notification,\n            content: error.message}));\n        } else {\n          ws.send(JSON.stringify({\n            type: 'notification',\n            content: stdout}));\n            // TODO: get sorted data path\n            fs.readFile('?', 'utf8', (err, jsonString) => {\n            if (err) {\n              console.log(\"File read failed:\", err);\n              return;\n            }\n            try {\n              const data = JSON.parse(jsonString);\n              ws.send(JSON.stringify({\n                type: 'sortedData',\n                content: jsonString\n              }));\n              // 解析后的数据\n              console.log(data);\n            } catch(err) {\n              console.log('Error parsing JSON:', err);\n            }\n          });\n\n\n        }\n      });*/\n    }\n    if (parsedMessage.type === 'patchGeneration') {\n      const fileContent = JSON.stringify(parsedMessage.content);\n      const filePath = './intermediate_result/bug.json';\n      const bugType = parsedMessage.bugLabel;\n      fs.writeFile(filePath, fileContent, (err) => {\n        if (err) {\n          console.error('Error writing to file:', err);\n          ws.send(JSON.stringify({\n            type: 'notification',\n            content: `写入文件时出错: ${err.message}` }));\n        } else {\n          console.log('File written successfully');\n          ws.send(JSON.stringify({\n            type: 'notification',\n            content: '文件写入成功' }));\n        }\n      });\n      // TODO: 补丁修复指令\n      /*const command = '?';\n      exec(command, (error, stdout, stderr) => {\n        if (error) {\n          ws.send(JSON.stringify({\n            type:notification,\n            content: error.message}));\n        } else {\n          // TODO: 发送type为download的消息给前端,读取补丁修复文件的内容传给前端供用户下载\n          fs.readFile('?', 'utf8', (err, fileContent) => {\n            if (err) {\n              console.log(\"File read failed:\", err);\n              return;\n            }\n            try {\n              ws.send(JSON.stringify({\n              type: 'download',\n              content: fileContent }));\n              // 解析后的数据\n              console.log(data);\n            } catch(err) {\n              console.log('Error parsing JSON:', err);\n            }\n          \n\n        }\n      });*/\n      \n    }\n    if (parsedMessage.type == 'bugDetection') {\n      const fileContent = parsedMessage.content;\n      const filePath = './intermediate_result/example.c';\n      fs.writeFile(filePath, fileContent, (err) => {\n        if (err) {\n          console.error('Error writing to file:', err);\n          ws.send(JSON.stringify({\n            type: 'notification',\n            content: `写入文件时出错: ${err.message}` }));\n        } else {\n          console.log('File written successfully');\n          ws.send(JSON.stringify({\n            type: 'notification',\n            content: '文件写入成功' }));\n        }\n      });\n      const command = '../infer-linux64-v1.1.0/bin/infer run --pulse -- clang -c ' + filePath;\n      exec(command, (error, stdout, stderr) => {\n        if (error) {\n          ws.send(JSON.stringify({\n            type:notification,\n            content: error.message}));\n        } else {\n          ws.send(JSON.stringify({\n            type: 'notification',\n            content: stdout}));\n          // 读取JSON文件\n          fs.readFile('./infer-out/report.json', 'utf8', (err, jsonString) => {\n            if (err) {\n              console.log(\"File read failed:\", err);\n              return;\n            }\n            try {\n              const data = JSON.parse(jsonString);\n              ws.send(JSON.stringify({\n                type: 'bugData',\n                content: jsonString\n              }));\n              // 解析后的数据\n              console.log(data);\n            } catch(err) {\n              console.log('Error parsing JSON:', err);\n            }\n          });\n\n        }\n      });\n    }\n    \n    \n\n  });\n  ws.on('close', () => {\n    console.log('Client disconnected');\n  });\n});\n\nserver.listen(PORT, () => {\n  console.log('WebSocket Server is listening on port 3000.');\n});\n"],"mappings":"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","ignoreList":[]}},"mtime":1718172250060},"{\"assumptions\":{},\"sourceRoot\":\"/home/njucs/bugDetection&Repair/code/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/njucs/bugDetection&Repair/code\",\"filename\":\"/home/njucs/bugDetection&Repair/code/src/App.js\",\"targets\":{\"android\":\"124.0.0\",\"chrome\":\"101.0.0\",\"edge\":\"122.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"107.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/njucs/bugDetection&Repair/code\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _antd = require(\"antd\");\nvar _FileUploader = _interopRequireDefault(require(\"./FileUploader\"));\nvar _FileTree = _interopRequireDefault(require(\"./FileTree\"));\nvar _FileEditorWithBugTable = _interopRequireDefault(require(\"./FileEditorWithBugTable\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n// src/App.js\n\nconst {\n  Sider,\n  Content\n} = _antd.Layout;\nconst App = () => {\n  const [selectedFile, setSelectedFile] = (0, _react.useState)(null);\n  const [fileData, setFileData] = (0, _react.useState)([]);\n  const [messages, setMessages] = (0, _react.useState)([]);\n  const [tableData, setTableData] = (0, _react.useState)([]);\n  const [bugData, setBugData] = (0, _react.useState)([]);\n  const [sortedData, setSortedData] = (0, _react.useState)(false);\n  const socket = (0, _react.useRef)(null);\n  (0, _react.useEffect)(() => {\n    socket.current = new WebSocket('ws://localhost:3000');\n    socket.current.onopen = () => setMessages(prev => [...prev, 'Connected to server']);\n    socket.current.onmessage = event => {\n      try {\n        let data = JSON.parse(event.data);\n        if (data.type === 'bugData') {\n          data = JSON.parse(data.content);\n          setBugData(data); // save all bug data\n          let index = 0;\n          const newDataList = data.map(item => {\n            index += 1;\n            return {\n              key: index,\n              id: index,\n              severity: item.severity,\n              type: item.bug_type,\n              qualifier: item.qualifier,\n              location: 'ln ' + item.line + ', cl ' + item.column\n            };\n          });\n          setTableData(newDataList);\n        } else if (data.type === 'download') {\n          const fileName = window.prompt('Enter file name:', 'download.txt'); // 弹出对话框获取文件名\n          if (fileName) {\n            // 如果用户输入了文件名\n            const data = \"Hello, world!\";\n            const blob = new Blob([data], {\n              type: 'text/plain'\n            });\n            const url = window.URL.createObjectURL(blob);\n            const a = document.createElement('a');\n            a.href = url;\n            a.download = fileName;\n            document.body.appendChild(a);\n            a.click();\n            document.body.removeChild(a);\n            window.URL.revokeObjectURL(url);\n          }\n        } else if (data.type === 'sortedData') {\n          data = JSON.parse(data.content);\n          let index = 0;\n          const newDataList = data.map(item => {\n            index += 1;\n            return {\n              key: index,\n              id: index,\n              severity: item.severity,\n              type: item.bug_type,\n              qualifier: item.qualifier,\n              location: 'ln ' + item.line + ', cl ' + item.column\n            };\n          });\n          setSortedData(newDataList);\n        }\n        setMessages(prev => [...prev, data.message]);\n      } catch (error) {\n        console.error('Error parsing message', error);\n        setMessages(prev => [...prev, 'Error parsing message']);\n      }\n    };\n    socket.current.onclose = () => setMessages(prev => [...prev, 'Disconnected from server']);\n    socket.current.onerror = error => setMessages(prev => [...prev, \"WebSocket error: \".concat(error.message)]);\n    return () => {\n      if (socket.current) {\n        socket.current.close();\n      }\n    };\n  }, []);\n  const handleFileSelect = file => {\n    if (file && file.type === 'file') {\n      setSelectedFile(file);\n      setTableData([]);\n    }\n  };\n  const bugDetection = newContent => {\n    console.log('sent');\n    if (selectedFile) {\n      const updatedFile = {\n        ...selectedFile,\n        content: newContent\n      };\n      setSelectedFile(updatedFile);\n      console.log(updatedFile.content);\n      if (socket.current && socket.current.readyState === WebSocket.OPEN) {\n        const messageContent = JSON.stringify({\n          type: 'bugDetection',\n          content: updatedFile.content\n        });\n        socket.current.send(messageContent);\n      }\n    }\n  };\n  const patchGeneration = (bugLabel, bugID) => {\n    if (selectedFile) {\n      if (socket.current && socket.current.readyState === WebSocket.OPEN) {\n        const messageContent = JSON.stringify({\n          type: 'patchGeneration',\n          bugLabel: bugLabel,\n          content: bugData[bugID - 1]\n        });\n        socket.current.send(messageContent);\n      }\n    }\n  };\n  const getSortedData = () => {\n    if (selectedFile) {\n      if (socket.current && socket.current.readyState === WebSocket.OPEN) {\n        const messageContent = JSON.stringify({\n          type: 'sortData'\n        });\n        socket.current.send(messageContent);\n      }\n    }\n  };\n  return /*#__PURE__*/_react.default.createElement(_antd.Layout, {\n    style: {\n      minHeight: '100vh'\n    }\n  }, /*#__PURE__*/_react.default.createElement(Sider, {\n    theme: \"light\"\n  }, /*#__PURE__*/_react.default.createElement(_FileUploader.default, {\n    onFileUpload: setFileData\n  }), /*#__PURE__*/_react.default.createElement(_FileTree.default, {\n    fileData: fileData,\n    onSelectFile: handleFileSelect\n  })), /*#__PURE__*/_react.default.createElement(_antd.Layout, null, /*#__PURE__*/_react.default.createElement(Content, null, selectedFile ? /*#__PURE__*/_react.default.createElement(_FileEditorWithBugTable.default, {\n    selectedFile: selectedFile,\n    onBugDetection: bugDetection,\n    tableData: tableData,\n    onPatchGeneration: patchGeneration,\n    getSortedData: getSortedData,\n    sortedData: sortedData\n  }) : /*#__PURE__*/_react.default.createElement(\"div\", {\n    style: {\n      padding: '20px'\n    }\n  }, \"\\u9009\\u62E9\\u4E00\\u4E2A\\u6587\\u4EF6\\u4EE5\\u5F00\\u59CB\\u7F16\\u8F91\"))));\n};\nvar _default = exports.default = App;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfYW50ZCIsIl9GaWxlVXBsb2FkZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX0ZpbGVUcmVlIiwiX0ZpbGVFZGl0b3JXaXRoQnVnVGFibGUiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJXZWFrTWFwIiwiciIsInQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTaWRlciIsIkNvbnRlbnQiLCJMYXlvdXQiLCJBcHAiLCJzZWxlY3RlZEZpbGUiLCJzZXRTZWxlY3RlZEZpbGUiLCJ1c2VTdGF0ZSIsImZpbGVEYXRhIiwic2V0RmlsZURhdGEiLCJtZXNzYWdlcyIsInNldE1lc3NhZ2VzIiwidGFibGVEYXRhIiwic2V0VGFibGVEYXRhIiwiYnVnRGF0YSIsInNldEJ1Z0RhdGEiLCJzb3J0ZWREYXRhIiwic2V0U29ydGVkRGF0YSIsInNvY2tldCIsInVzZVJlZiIsInVzZUVmZmVjdCIsImN1cnJlbnQiLCJXZWJTb2NrZXQiLCJvbm9wZW4iLCJwcmV2Iiwib25tZXNzYWdlIiwiZXZlbnQiLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwidHlwZSIsImNvbnRlbnQiLCJpbmRleCIsIm5ld0RhdGFMaXN0IiwibWFwIiwiaXRlbSIsImtleSIsImlkIiwic2V2ZXJpdHkiLCJidWdfdHlwZSIsInF1YWxpZmllciIsImxvY2F0aW9uIiwibGluZSIsImNvbHVtbiIsImZpbGVOYW1lIiwid2luZG93IiwicHJvbXB0IiwiYmxvYiIsIkJsb2IiLCJ1cmwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJocmVmIiwiZG93bmxvYWQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjbGljayIsInJlbW92ZUNoaWxkIiwicmV2b2tlT2JqZWN0VVJMIiwibWVzc2FnZSIsImVycm9yIiwiY29uc29sZSIsIm9uY2xvc2UiLCJvbmVycm9yIiwiY29uY2F0IiwiY2xvc2UiLCJoYW5kbGVGaWxlU2VsZWN0IiwiZmlsZSIsImJ1Z0RldGVjdGlvbiIsIm5ld0NvbnRlbnQiLCJsb2ciLCJ1cGRhdGVkRmlsZSIsInJlYWR5U3RhdGUiLCJPUEVOIiwibWVzc2FnZUNvbnRlbnQiLCJzdHJpbmdpZnkiLCJzZW5kIiwicGF0Y2hHZW5lcmF0aW9uIiwiYnVnTGFiZWwiLCJidWdJRCIsImdldFNvcnRlZERhdGEiLCJzdHlsZSIsIm1pbkhlaWdodCIsInRoZW1lIiwib25GaWxlVXBsb2FkIiwib25TZWxlY3RGaWxlIiwib25CdWdEZXRlY3Rpb24iLCJvblBhdGNoR2VuZXJhdGlvbiIsInBhZGRpbmciLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL25qdWNzL2J1Z0RldGVjdGlvbiZSZXBhaXIvY29kZS9zcmMvIiwic291cmNlcyI6WyJBcHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL0FwcC5qc1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExheW91dCAsIG1lc3NhZ2UgfSBmcm9tICdhbnRkJztcbmltcG9ydCBGaWxlVXBsb2FkZXIgZnJvbSAnLi9GaWxlVXBsb2FkZXInO1xuaW1wb3J0IEZpbGVUcmVlIGZyb20gJy4vRmlsZVRyZWUnO1xuaW1wb3J0IEZpbGVFZGl0b3JXaXRoQnVnVGFibGUgZnJvbSAnLi9GaWxlRWRpdG9yV2l0aEJ1Z1RhYmxlJztcbmNvbnN0IHsgU2lkZXIsIENvbnRlbnQgfSA9IExheW91dDtcblxuY29uc3QgQXBwID0gKCkgPT4ge1xuICBjb25zdCBbc2VsZWN0ZWRGaWxlLCBzZXRTZWxlY3RlZEZpbGVdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtmaWxlRGF0YSwgc2V0RmlsZURhdGFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW3RhYmxlRGF0YSwgc2V0VGFibGVEYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2J1Z0RhdGEsIHNldEJ1Z0RhdGFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbc29ydGVkRGF0YSwgc2V0U29ydGVkRGF0YV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHNvY2tldCA9IHVzZVJlZihudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNvY2tldC5jdXJyZW50ID0gbmV3IFdlYlNvY2tldCgnd3M6Ly9sb2NhbGhvc3Q6MzAwMCcpO1xuICAgIHNvY2tldC5jdXJyZW50Lm9ub3BlbiA9ICgpID0+IHNldE1lc3NhZ2VzKChwcmV2KSA9PiBbLi4ucHJldiwgJ0Nvbm5lY3RlZCB0byBzZXJ2ZXInXSk7XG4gICAgc29ja2V0LmN1cnJlbnQub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBsZXQgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XG4gICAgICAgIGlmKGRhdGEudHlwZSA9PT0gJ2J1Z0RhdGEnKXtcbiAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhLmNvbnRlbnQpO1xuICAgICAgICAgIHNldEJ1Z0RhdGEoZGF0YSk7IC8vIHNhdmUgYWxsIGJ1ZyBkYXRhXG4gICAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgICBjb25zdCBuZXdEYXRhTGlzdCA9IGRhdGEubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgICAgaW5kZXggKz0gMTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGtleTogaW5kZXgsXG4gICAgICAgICAgICAgIGlkOiBpbmRleCxcbiAgICAgICAgICAgICAgc2V2ZXJpdHk6IGl0ZW0uc2V2ZXJpdHksXG4gICAgICAgICAgICAgIHR5cGU6IGl0ZW0uYnVnX3R5cGUsXG4gICAgICAgICAgICAgIHF1YWxpZmllcjogaXRlbS5xdWFsaWZpZXIsXG4gICAgICAgICAgICAgIGxvY2F0aW9uOiAnbG4gJytpdGVtLmxpbmUrJywgY2wgJytpdGVtLmNvbHVtblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRUYWJsZURhdGEobmV3RGF0YUxpc3QpO1xuICAgICAgICB9IGVsc2UgaWYoZGF0YS50eXBlID09PSAnZG93bmxvYWQnKSB7XG4gICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSB3aW5kb3cucHJvbXB0KCdFbnRlciBmaWxlIG5hbWU6JywgJ2Rvd25sb2FkLnR4dCcpOyAvLyDlvLnlh7rlr7nor53moYbojrflj5bmlofku7blkI1cbiAgICAgICAgICBpZiAoZmlsZU5hbWUpIHsgLy8g5aaC5p6c55So5oi36L6T5YWl5LqG5paH5Lu25ZCNXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gXCJIZWxsbywgd29ybGQhXCI7XG4gICAgICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2RhdGFdLCB7IHR5cGU6ICd0ZXh0L3BsYWluJyB9KTtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICAgIGEuaHJlZiA9IHVybDtcbiAgICAgICAgICAgIGEuZG93bmxvYWQgPSBmaWxlTmFtZTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gICAgICAgICAgICBhLmNsaWNrKCk7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpO1xuICAgICAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZihkYXRhLnR5cGUgPT09ICdzb3J0ZWREYXRhJykge1xuICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEuY29udGVudCk7XG4gICAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgICBjb25zdCBuZXdEYXRhTGlzdCA9IGRhdGEubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgICAgaW5kZXggKz0gMTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGtleTogaW5kZXgsXG4gICAgICAgICAgICAgIGlkOiBpbmRleCxcbiAgICAgICAgICAgICAgc2V2ZXJpdHk6IGl0ZW0uc2V2ZXJpdHksXG4gICAgICAgICAgICAgIHR5cGU6IGl0ZW0uYnVnX3R5cGUsXG4gICAgICAgICAgICAgIHF1YWxpZmllcjogaXRlbS5xdWFsaWZpZXIsXG4gICAgICAgICAgICAgIGxvY2F0aW9uOiAnbG4gJytpdGVtLmxpbmUrJywgY2wgJytpdGVtLmNvbHVtblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRTb3J0ZWREYXRhKG5ld0RhdGFMaXN0KTtcbiAgICAgICAgfVxuICAgICAgICBzZXRNZXNzYWdlcygocHJldikgPT4gWy4uLnByZXYsIGRhdGEubWVzc2FnZV0pO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBtZXNzYWdlJywgZXJyb3IpO1xuICAgICAgICBzZXRNZXNzYWdlcygocHJldikgPT4gWy4uLnByZXYsICdFcnJvciBwYXJzaW5nIG1lc3NhZ2UnXSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBzb2NrZXQuY3VycmVudC5vbmNsb3NlID0gKCkgPT4gc2V0TWVzc2FnZXMoKHByZXYpID0+IFsuLi5wcmV2LCAnRGlzY29ubmVjdGVkIGZyb20gc2VydmVyJ10pO1xuICAgIHNvY2tldC5jdXJyZW50Lm9uZXJyb3IgPSAoZXJyb3IpID0+IHNldE1lc3NhZ2VzKChwcmV2KSA9PiBbLi4ucHJldiwgYFdlYlNvY2tldCBlcnJvcjogJHtlcnJvci5tZXNzYWdlfWBdKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoc29ja2V0LmN1cnJlbnQpIHtcbiAgICAgICAgc29ja2V0LmN1cnJlbnQuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgY29uc3QgaGFuZGxlRmlsZVNlbGVjdCA9IChmaWxlKSA9PiB7XG4gICAgaWYgKGZpbGUgJiYgZmlsZS50eXBlID09PSAnZmlsZScpIHtcbiAgICAgIHNldFNlbGVjdGVkRmlsZShmaWxlKTtcbiAgICAgIHNldFRhYmxlRGF0YShbXSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGJ1Z0RldGVjdGlvbiA9IChuZXdDb250ZW50KSA9PiB7XG4gICAgY29uc29sZS5sb2coJ3NlbnQnKTtcbiAgICBpZiAoc2VsZWN0ZWRGaWxlKSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRGaWxlID0geyAuLi5zZWxlY3RlZEZpbGUsIGNvbnRlbnQ6IG5ld0NvbnRlbnQgfTtcbiAgICAgICAgc2V0U2VsZWN0ZWRGaWxlKHVwZGF0ZWRGaWxlKTtcbiAgICAgICAgY29uc29sZS5sb2codXBkYXRlZEZpbGUuY29udGVudClcbiAgICAgICAgaWYgKHNvY2tldC5jdXJyZW50ICYmIHNvY2tldC5jdXJyZW50LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICAgICAgY29uc3QgbWVzc2FnZUNvbnRlbnQgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICB0eXBlOiAnYnVnRGV0ZWN0aW9uJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6IHVwZGF0ZWRGaWxlLmNvbnRlbnQsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc29ja2V0LmN1cnJlbnQuc2VuZChtZXNzYWdlQ29udGVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcGF0Y2hHZW5lcmF0aW9uID0gKGJ1Z0xhYmVsLCBidWdJRCkgPT4ge1xuICAgIGlmIChzZWxlY3RlZEZpbGUpIHtcbiAgICAgIGlmIChzb2NrZXQuY3VycmVudCAmJiBzb2NrZXQuY3VycmVudC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgICBjb25zdCBtZXNzYWdlQ29udGVudCA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB0eXBlOiAncGF0Y2hHZW5lcmF0aW9uJyxcbiAgICAgICAgICBidWdMYWJlbDogYnVnTGFiZWwsXG4gICAgICAgICAgY29udGVudDogYnVnRGF0YVtidWdJRC0xXSxcbiAgICAgICAgfSk7XG4gICAgICAgIHNvY2tldC5jdXJyZW50LnNlbmQobWVzc2FnZUNvbnRlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBnZXRTb3J0ZWREYXRhID0gKCkgPT4ge1xuICAgIGlmIChzZWxlY3RlZEZpbGUpIHtcbiAgICAgIGlmIChzb2NrZXQuY3VycmVudCAmJiBzb2NrZXQuY3VycmVudC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgICBjb25zdCBtZXNzYWdlQ29udGVudCA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB0eXBlOiAnc29ydERhdGEnLFxuICAgICAgICB9KTtcbiAgICAgICAgc29ja2V0LmN1cnJlbnQuc2VuZChtZXNzYWdlQ29udGVudCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gKFxuICAgIDxMYXlvdXQgc3R5bGU9e3sgbWluSGVpZ2h0OiAnMTAwdmgnIH19PlxuICAgICAgPFNpZGVyIHRoZW1lPVwibGlnaHRcIj5cbiAgICAgICAgPEZpbGVVcGxvYWRlciBvbkZpbGVVcGxvYWQ9e3NldEZpbGVEYXRhfS8+XG4gICAgICAgIDxGaWxlVHJlZSBmaWxlRGF0YT17ZmlsZURhdGF9IG9uU2VsZWN0RmlsZT17aGFuZGxlRmlsZVNlbGVjdH0gLz5cbiAgICAgIDwvU2lkZXI+XG4gICAgICA8TGF5b3V0PlxuICAgICAgICA8Q29udGVudD5cbiAgICAgICAgICB7c2VsZWN0ZWRGaWxlID8gKFxuICAgICAgICAgICAgPEZpbGVFZGl0b3JXaXRoQnVnVGFibGVcbiAgICAgICAgICAgICAgc2VsZWN0ZWRGaWxlPXtzZWxlY3RlZEZpbGV9XG4gICAgICAgICAgICAgIG9uQnVnRGV0ZWN0aW9uPXtidWdEZXRlY3Rpb259XG4gICAgICAgICAgICAgIHRhYmxlRGF0YT17dGFibGVEYXRhfVxuICAgICAgICAgICAgICBvblBhdGNoR2VuZXJhdGlvbj17cGF0Y2hHZW5lcmF0aW9ufVxuICAgICAgICAgICAgICBnZXRTb3J0ZWREYXRhPXtnZXRTb3J0ZWREYXRhfVxuICAgICAgICAgICAgICBzb3J0ZWREYXRhPXtzb3J0ZWREYXRhfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBwYWRkaW5nOiAnMjBweCcgfX0+6YCJ5oup5LiA5Liq5paH5Lu25Lul5byA5aeL57yW6L6RPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9Db250ZW50PlxuICAgICAgPC9MYXlvdXQ+XG4gICAgPC9MYXlvdXQ+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBBcHA7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBLElBQUFBLE1BQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLGFBQUEsR0FBQUMsc0JBQUEsQ0FBQUgsT0FBQTtBQUNBLElBQUFJLFNBQUEsR0FBQUQsc0JBQUEsQ0FBQUgsT0FBQTtBQUNBLElBQUFLLHVCQUFBLEdBQUFGLHNCQUFBLENBQUFILE9BQUE7QUFBOEQsU0FBQUcsdUJBQUFHLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxTQUFBRyx5QkFBQUgsQ0FBQSw2QkFBQUks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","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_antd","_FileUploader","_interopRequireDefault","_FileTree","_FileEditorWithBugTable","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","Sider","Content","Layout","App","selectedFile","setSelectedFile","useState","fileData","setFileData","messages","setMessages","tableData","setTableData","bugData","setBugData","sortedData","setSortedData","socket","useRef","useEffect","current","WebSocket","onopen","prev","onmessage","event","data","JSON","parse","type","content","index","newDataList","map","item","key","id","severity","bug_type","qualifier","location","line","column","fileName","window","prompt","blob","Blob","url","URL","createObjectURL","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","message","error","console","onclose","onerror","concat","close","handleFileSelect","file","bugDetection","newContent","log","updatedFile","readyState","OPEN","messageContent","stringify","send","patchGeneration","bugLabel","bugID","getSortedData","style","minHeight","theme","onFileUpload","onSelectFile","onBugDetection","onPatchGeneration","padding","_default","exports"],"sourceRoot":"/home/njucs/bugDetection&Repair/code/src/","sources":["App.js"],"sourcesContent":["// src/App.js\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Layout , message } from 'antd';\nimport FileUploader from './FileUploader';\nimport FileTree from './FileTree';\nimport FileEditorWithBugTable from './FileEditorWithBugTable';\nconst { Sider, Content } = Layout;\n\nconst App = () => {\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [fileData, setFileData] = useState([]);\n  const [messages, setMessages] = useState([]);\n  const [tableData, setTableData] = useState([]);\n  const [bugData, setBugData] = useState([]);\n  const [sortedData, setSortedData] = useState(false);\n  const socket = useRef(null);\n\n  useEffect(() => {\n    socket.current = new WebSocket('ws://localhost:3000');\n    socket.current.onopen = () => setMessages((prev) => [...prev, 'Connected to server']);\n    socket.current.onmessage = (event) => {\n      try {\n        let data = JSON.parse(event.data);\n        if(data.type === 'bugData'){\n          data = JSON.parse(data.content);\n          setBugData(data); // save all bug data\n          let index = 0;\n          const newDataList = data.map(item => {\n            index += 1;\n            return {\n              key: index,\n              id: index,\n              severity: item.severity,\n              type: item.bug_type,\n              qualifier: item.qualifier,\n              location: 'ln '+item.line+', cl '+item.column\n            };\n          });\n          setTableData(newDataList);\n        } else if(data.type === 'download') {\n          const fileName = window.prompt('Enter file name:', 'download.txt'); // 弹出对话框获取文件名\n          if (fileName) { // 如果用户输入了文件名\n            const data = \"Hello, world!\";\n            const blob = new Blob([data], { type: 'text/plain' });\n            const url = window.URL.createObjectURL(blob);\n            const a = document.createElement('a');\n            a.href = url;\n            a.download = fileName;\n            document.body.appendChild(a);\n            a.click();\n            document.body.removeChild(a);\n            window.URL.revokeObjectURL(url);\n          }\n        } else if(data.type === 'sortedData') {\n          data = JSON.parse(data.content);\n          let index = 0;\n          const newDataList = data.map(item => {\n            index += 1;\n            return {\n              key: index,\n              id: index,\n              severity: item.severity,\n              type: item.bug_type,\n              qualifier: item.qualifier,\n              location: 'ln '+item.line+', cl '+item.column\n            };\n          });\n          setSortedData(newDataList);\n        }\n        setMessages((prev) => [...prev, data.message]);\n      } catch (error) {\n        console.error('Error parsing message', error);\n        setMessages((prev) => [...prev, 'Error parsing message']);\n      }\n    };\n    socket.current.onclose = () => setMessages((prev) => [...prev, 'Disconnected from server']);\n    socket.current.onerror = (error) => setMessages((prev) => [...prev, `WebSocket error: ${error.message}`]);\n\n    return () => {\n      if (socket.current) {\n        socket.current.close();\n      }\n    };\n  }, []);\n\n  const handleFileSelect = (file) => {\n    if (file && file.type === 'file') {\n      setSelectedFile(file);\n      setTableData([]);\n    }\n  };\n\n  const bugDetection = (newContent) => {\n    console.log('sent');\n    if (selectedFile) {\n        const updatedFile = { ...selectedFile, content: newContent };\n        setSelectedFile(updatedFile);\n        console.log(updatedFile.content)\n        if (socket.current && socket.current.readyState === WebSocket.OPEN) {\n          const messageContent = JSON.stringify({\n            type: 'bugDetection',\n            content: updatedFile.content,\n          });\n          socket.current.send(messageContent);\n        }\n    }\n  };\n\n  const patchGeneration = (bugLabel, bugID) => {\n    if (selectedFile) {\n      if (socket.current && socket.current.readyState === WebSocket.OPEN) {\n        const messageContent = JSON.stringify({\n          type: 'patchGeneration',\n          bugLabel: bugLabel,\n          content: bugData[bugID-1],\n        });\n        socket.current.send(messageContent);\n      }\n    }\n  };\n\n  const getSortedData = () => {\n    if (selectedFile) {\n      if (socket.current && socket.current.readyState === WebSocket.OPEN) {\n        const messageContent = JSON.stringify({\n          type: 'sortData',\n        });\n        socket.current.send(messageContent);\n      }\n    }\n  };\n  return (\n    <Layout style={{ minHeight: '100vh' }}>\n      <Sider theme=\"light\">\n        <FileUploader onFileUpload={setFileData}/>\n        <FileTree fileData={fileData} onSelectFile={handleFileSelect} />\n      </Sider>\n      <Layout>\n        <Content>\n          {selectedFile ? (\n            <FileEditorWithBugTable\n              selectedFile={selectedFile}\n              onBugDetection={bugDetection}\n              tableData={tableData}\n              onPatchGeneration={patchGeneration}\n              getSortedData={getSortedData}\n              sortedData={sortedData}\n            />\n          ) : (\n            <div style={{ padding: '20px' }}>选择一个文件以开始编辑</div>\n          )}\n        </Content>\n      </Layout>\n    </Layout>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]}},"mtime":1718173459116},"{\"assumptions\":{},\"sourceRoot\":\"/home/njucs/bugDetection&Repair/code/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/njucs/bugDetection&Repair/code\",\"filename\":\"/home/njucs/bugDetection&Repair/code/src/FileUploader.js\",\"targets\":{\"android\":\"124.0.0\",\"chrome\":\"101.0.0\",\"edge\":\"122.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"107.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/njucs/bugDetection&Repair/code\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _antd = require(\"antd\");\nvar _icons = require(\"@ant-design/icons\");\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n// src/FileUploader.js\n\nconst FileUploader = _ref => {\n  let {\n    onFileUpload\n  } = _ref;\n  const handleUploadProgram = () => {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.directory = true;\n    input.webkitdirectory = true;\n    input.click();\n    input.onchange = async () => {\n      const folder = input.files;\n      if (!folder) return;\n      const folderStructure = await parseFolder(folder);\n      onFileUpload(folderStructure);\n    };\n  };\n  const parseFolder = async folder => {\n    const folderStructure = [];\n    for (let i = 0; i < folder.length; i++) {\n      const file = folder[i];\n      const pathSegments = file.webkitRelativePath.trim().split('/');\n      let currentLevel = folderStructure;\n      for (let index = 0; index < pathSegments.length; index++) {\n        let segment = pathSegments[index];\n        let existingNode = currentLevel.find(node => node.title === segment);\n        if (!existingNode) {\n          const newNode = {\n            title: segment,\n            key: segment + '_' + index,\n            type: segment.includes('.') ? 'file' : 'folder',\n            children: [],\n            content: null,\n            path: null,\n            isLeaf: index === pathSegments.length - 1\n          };\n          if (newNode.type === 'file') {\n            newNode.content = await readFile(file);\n            newNode.path = file.webkitRelativePath;\n            console.log(newNode.path);\n          }\n          currentLevel.push(newNode);\n          currentLevel = newNode.children;\n        } else {\n          currentLevel = existingNode.children;\n        }\n      }\n    }\n    return folderStructure;\n  };\n  const readFile = file => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = event => resolve(event.target.result);\n      reader.onerror = event => reject(event.target.error);\n      reader.readAsText(file);\n    });\n  };\n  return /*#__PURE__*/_react.default.createElement(_antd.Button, {\n    icon: /*#__PURE__*/_react.default.createElement(_icons.FolderOutlined, null),\n    style: {\n      margin: '8px'\n    },\n    onClick: handleUploadProgram\n  }, \"\\u4E0A\\u4F20\\u672C\\u5730\\u9879\\u76EE\");\n};\nvar _default = exports.default = FileUploader;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hbnRkIiwiX2ljb25zIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiRmlsZVVwbG9hZGVyIiwiX3JlZiIsIm9uRmlsZVVwbG9hZCIsImhhbmRsZVVwbG9hZFByb2dyYW0iLCJpbnB1dCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJkaXJlY3RvcnkiLCJ3ZWJraXRkaXJlY3RvcnkiLCJjbGljayIsIm9uY2hhbmdlIiwiZm9sZGVyIiwiZmlsZXMiLCJmb2xkZXJTdHJ1Y3R1cmUiLCJwYXJzZUZvbGRlciIsImkiLCJsZW5ndGgiLCJmaWxlIiwicGF0aFNlZ21lbnRzIiwid2Via2l0UmVsYXRpdmVQYXRoIiwidHJpbSIsInNwbGl0IiwiY3VycmVudExldmVsIiwiaW5kZXgiLCJzZWdtZW50IiwiZXhpc3RpbmdOb2RlIiwiZmluZCIsIm5vZGUiLCJ0aXRsZSIsIm5ld05vZGUiLCJrZXkiLCJpbmNsdWRlcyIsImNoaWxkcmVuIiwiY29udGVudCIsInBhdGgiLCJpc0xlYWYiLCJyZWFkRmlsZSIsImNvbnNvbGUiLCJsb2ciLCJwdXNoIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiZXZlbnQiLCJ0YXJnZXQiLCJyZXN1bHQiLCJvbmVycm9yIiwiZXJyb3IiLCJyZWFkQXNUZXh0IiwiQnV0dG9uIiwiaWNvbiIsIkZvbGRlck91dGxpbmVkIiwic3R5bGUiLCJtYXJnaW4iLCJvbkNsaWNrIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9uanVjcy9idWdEZXRlY3Rpb24mUmVwYWlyL2NvZGUvc3JjLyIsInNvdXJjZXMiOlsiRmlsZVVwbG9hZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9GaWxlVXBsb2FkZXIuanNcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICdhbnRkJztcbmltcG9ydCB7IEZvbGRlck91dGxpbmVkIH0gZnJvbSAnQGFudC1kZXNpZ24vaWNvbnMnO1xuXG5jb25zdCBGaWxlVXBsb2FkZXIgPSAoeyBvbkZpbGVVcGxvYWR9KSA9PiB7XG5cbiAgY29uc3QgaGFuZGxlVXBsb2FkUHJvZ3JhbSA9ICgpID0+IHtcbiAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgaW5wdXQudHlwZSA9ICdmaWxlJztcbiAgICBpbnB1dC5kaXJlY3RvcnkgPSB0cnVlO1xuICAgIGlucHV0LndlYmtpdGRpcmVjdG9yeSA9IHRydWU7XG4gICAgaW5wdXQuY2xpY2soKTtcblxuICAgIGlucHV0Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZm9sZGVyID0gaW5wdXQuZmlsZXM7XG4gICAgICBpZiAoIWZvbGRlcikgcmV0dXJuO1xuICAgICAgY29uc3QgZm9sZGVyU3RydWN0dXJlID0gYXdhaXQgcGFyc2VGb2xkZXIoZm9sZGVyKTtcbiAgICAgIG9uRmlsZVVwbG9hZChmb2xkZXJTdHJ1Y3R1cmUpO1xuICAgIH07XG4gIH07XG5cbiAgY29uc3QgcGFyc2VGb2xkZXIgPSBhc3luYyAoZm9sZGVyKSA9PiB7XG4gICAgY29uc3QgZm9sZGVyU3RydWN0dXJlID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmb2xkZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGZpbGUgPSBmb2xkZXJbaV07XG4gICAgICBjb25zdCBwYXRoU2VnbWVudHMgPSBmaWxlLndlYmtpdFJlbGF0aXZlUGF0aC50cmltKCkuc3BsaXQoJy8nKTtcbiAgICAgIGxldCBjdXJyZW50TGV2ZWwgPSBmb2xkZXJTdHJ1Y3R1cmU7XG5cbiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBwYXRoU2VnbWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIGxldCBzZWdtZW50ID0gcGF0aFNlZ21lbnRzW2luZGV4XTtcbiAgICAgICAgbGV0IGV4aXN0aW5nTm9kZSA9IGN1cnJlbnRMZXZlbC5maW5kKChub2RlKSA9PiBub2RlLnRpdGxlID09PSBzZWdtZW50KTtcblxuICAgICAgICBpZiAoIWV4aXN0aW5nTm9kZSkge1xuICAgICAgICAgIGNvbnN0IG5ld05vZGUgPSB7XG4gICAgICAgICAgICB0aXRsZTogc2VnbWVudCxcbiAgICAgICAgICAgIGtleTogc2VnbWVudCArICdfJyArIGluZGV4LFxuICAgICAgICAgICAgdHlwZTogc2VnbWVudC5pbmNsdWRlcygnLicpID8gJ2ZpbGUnIDogJ2ZvbGRlcicsXG4gICAgICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgICAgICBjb250ZW50OiBudWxsLFxuICAgICAgICAgICAgcGF0aDogbnVsbCxcbiAgICAgICAgICAgIGlzTGVhZjogaW5kZXggPT09IHBhdGhTZWdtZW50cy5sZW5ndGggLSAxLFxuICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKG5ld05vZGUudHlwZSA9PT0gJ2ZpbGUnKSB7XG4gICAgICAgICAgICBuZXdOb2RlLmNvbnRlbnQgPSBhd2FpdCByZWFkRmlsZShmaWxlKTtcbiAgICAgICAgICAgIG5ld05vZGUucGF0aCA9IGZpbGUud2Via2l0UmVsYXRpdmVQYXRoO1xuICAgICAgICAgICAgY29uc29sZS5sb2cobmV3Tm9kZS5wYXRoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY3VycmVudExldmVsLnB1c2gobmV3Tm9kZSk7XG4gICAgICAgICAgY3VycmVudExldmVsID0gbmV3Tm9kZS5jaGlsZHJlbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdXJyZW50TGV2ZWwgPSBleGlzdGluZ05vZGUuY2hpbGRyZW47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZvbGRlclN0cnVjdHVyZTtcbiAgfTtcblxuICBjb25zdCByZWFkRmlsZSA9IChmaWxlKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICByZWFkZXIub25sb2FkID0gKGV2ZW50KSA9PiByZXNvbHZlKGV2ZW50LnRhcmdldC5yZXN1bHQpO1xuICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoZXZlbnQpID0+IHJlamVjdChldmVudC50YXJnZXQuZXJyb3IpO1xuICAgICAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZSk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8QnV0dG9uIGljb249ezxGb2xkZXJPdXRsaW5lZCAvPn0gc3R5bGU9e3sgbWFyZ2luOiAnOHB4JyB9fSBvbkNsaWNrPXtoYW5kbGVVcGxvYWRQcm9ncmFtfT5cbiAgICAgIOS4iuS8oOacrOWcsOmhueebrlxuICAgIDwvQnV0dG9uPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRmlsZVVwbG9hZGVyO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFDQSxJQUFBQSxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxNQUFBLEdBQUFGLE9BQUE7QUFBbUQsU0FBQUQsdUJBQUFJLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFIbkQ7O0FBS0EsTUFBTUcsWUFBWSxHQUFHQyxJQUFBLElBQXFCO0VBQUEsSUFBcEI7SUFBRUM7RUFBWSxDQUFDLEdBQUFELElBQUE7RUFFbkMsTUFBTUUsbUJBQW1CLEdBQUdBLENBQUEsS0FBTTtJQUNoQyxNQUFNQyxLQUFLLEdBQUdDLFFBQVEsQ0FBQ0MsYUFBYSxDQUFDLE9BQU8sQ0FBQztJQUM3Q0YsS0FBSyxDQUFDRyxJQUFJLEdBQUcsTUFBTTtJQUNuQkgsS0FBSyxDQUFDSSxTQUFTLEdBQUcsSUFBSTtJQUN0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","map":{"version":3,"names":["_react","_interopRequireDefault","require","_antd","_icons","e","__esModule","default","FileUploader","_ref","onFileUpload","handleUploadProgram","input","document","createElement","type","directory","webkitdirectory","click","onchange","folder","files","folderStructure","parseFolder","i","length","file","pathSegments","webkitRelativePath","trim","split","currentLevel","index","segment","existingNode","find","node","title","newNode","key","includes","children","content","path","isLeaf","readFile","console","log","push","Promise","resolve","reject","reader","FileReader","onload","event","target","result","onerror","error","readAsText","Button","icon","FolderOutlined","style","margin","onClick","_default","exports"],"sourceRoot":"/home/njucs/bugDetection&Repair/code/src/","sources":["FileUploader.js"],"sourcesContent":["// src/FileUploader.js\nimport React from 'react';\nimport { Button } from 'antd';\nimport { FolderOutlined } from '@ant-design/icons';\n\nconst FileUploader = ({ onFileUpload}) => {\n\n  const handleUploadProgram = () => {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.directory = true;\n    input.webkitdirectory = true;\n    input.click();\n\n    input.onchange = async () => {\n      const folder = input.files;\n      if (!folder) return;\n      const folderStructure = await parseFolder(folder);\n      onFileUpload(folderStructure);\n    };\n  };\n\n  const parseFolder = async (folder) => {\n    const folderStructure = [];\n    for (let i = 0; i < folder.length; i++) {\n      const file = folder[i];\n      const pathSegments = file.webkitRelativePath.trim().split('/');\n      let currentLevel = folderStructure;\n\n      for (let index = 0; index < pathSegments.length; index++) {\n        let segment = pathSegments[index];\n        let existingNode = currentLevel.find((node) => node.title === segment);\n\n        if (!existingNode) {\n          const newNode = {\n            title: segment,\n            key: segment + '_' + index,\n            type: segment.includes('.') ? 'file' : 'folder',\n            children: [],\n            content: null,\n            path: null,\n            isLeaf: index === pathSegments.length - 1,\n          };\n          if (newNode.type === 'file') {\n            newNode.content = await readFile(file);\n            newNode.path = file.webkitRelativePath;\n            console.log(newNode.path);\n          }\n          currentLevel.push(newNode);\n          currentLevel = newNode.children;\n        } else {\n          currentLevel = existingNode.children;\n        }\n      }\n    }\n    return folderStructure;\n  };\n\n  const readFile = (file) => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = (event) => resolve(event.target.result);\n      reader.onerror = (event) => reject(event.target.error);\n      reader.readAsText(file);\n    });\n  };\n\n  return (\n    <Button icon={<FolderOutlined />} style={{ margin: '8px' }} onClick={handleUploadProgram}>\n      上传本地项目\n    </Button>\n  );\n};\n\nexport default FileUploader;\n"],"mappings":"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","ignoreList":[]}},"mtime":1716465305650},"{\"assumptions\":{},\"sourceRoot\":\"/home/njucs/bugDetection&Repair/code/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/njucs/bugDetection&Repair/code\",\"filename\":\"/home/njucs/bugDetection&Repair/code/src/FileTree.js\",\"targets\":{\"android\":\"124.0.0\",\"chrome\":\"101.0.0\",\"edge\":\"122.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"107.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/njucs/bugDetection&Repair/code\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _antd = require(\"antd\");\nvar _icons = require(\"@ant-design/icons\");\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n// src/FileTree.js\n\nconst {\n  TreeNode\n} = _antd.Tree;\nconst FileTree = _ref => {\n  let {\n    fileData,\n    onSelectFile\n  } = _ref;\n  const renderTreeNodes = data => {\n    return data.map(_ref2 => {\n      let {\n        title,\n        key,\n        children,\n        type,\n        content,\n        path\n      } = _ref2;\n      return /*#__PURE__*/_react.default.createElement(TreeNode, {\n        key: key,\n        title: title,\n        type: type,\n        content: content,\n        path: path,\n        icon: type === 'file' ? /*#__PURE__*/_react.default.createElement(_icons.FileOutlined, null) : /*#__PURE__*/_react.default.createElement(_icons.FolderOutlined, null),\n        selectable: type === 'file'\n      }, children && renderTreeNodes(children));\n    });\n  };\n  return /*#__PURE__*/_react.default.createElement(_antd.Tree, {\n    showIcon: true,\n    defaultExpandAll: true,\n    onSelect: (selectedKeys, _ref3) => {\n      let {\n        node\n      } = _ref3;\n      return onSelectFile(node);\n    }\n  }, renderTreeNodes(fileData));\n};\nvar _default = exports.default = FileTree;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hbnRkIiwiX2ljb25zIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiVHJlZU5vZGUiLCJUcmVlIiwiRmlsZVRyZWUiLCJfcmVmIiwiZmlsZURhdGEiLCJvblNlbGVjdEZpbGUiLCJyZW5kZXJUcmVlTm9kZXMiLCJkYXRhIiwibWFwIiwiX3JlZjIiLCJ0aXRsZSIsImtleSIsImNoaWxkcmVuIiwidHlwZSIsImNvbnRlbnQiLCJwYXRoIiwiY3JlYXRlRWxlbWVudCIsImljb24iLCJGaWxlT3V0bGluZWQiLCJGb2xkZXJPdXRsaW5lZCIsInNlbGVjdGFibGUiLCJzaG93SWNvbiIsImRlZmF1bHRFeHBhbmRBbGwiLCJvblNlbGVjdCIsInNlbGVjdGVkS2V5cyIsIl9yZWYzIiwibm9kZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvbmp1Y3MvYnVnRGV0ZWN0aW9uJlJlcGFpci9jb2RlL3NyYy8iLCJzb3VyY2VzIjpbIkZpbGVUcmVlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9GaWxlVHJlZS5qc1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFRyZWUgfSBmcm9tICdhbnRkJztcbmltcG9ydCB7IEZpbGVPdXRsaW5lZCwgRm9sZGVyT3V0bGluZWQgfSBmcm9tICdAYW50LWRlc2lnbi9pY29ucyc7XG5cbmNvbnN0IHsgVHJlZU5vZGUgfSA9IFRyZWU7XG5cbmNvbnN0IEZpbGVUcmVlID0gKHsgZmlsZURhdGEsIG9uU2VsZWN0RmlsZSB9KSA9PiB7XG4gIGNvbnN0IHJlbmRlclRyZWVOb2RlcyA9IChkYXRhKSA9PiB7XG4gICAgcmV0dXJuIGRhdGEubWFwKCh7IHRpdGxlLCBrZXksIGNoaWxkcmVuLCB0eXBlLCBjb250ZW50LCBwYXRoIH0pID0+IChcbiAgICAgIDxUcmVlTm9kZVxuICAgICAgICBrZXk9e2tleX1cbiAgICAgICAgdGl0bGU9e3RpdGxlfVxuICAgICAgICB0eXBlPXt0eXBlfVxuICAgICAgICBjb250ZW50PXtjb250ZW50fVxuICAgICAgICBwYXRoPXtwYXRofVxuICAgICAgICBpY29uPXt0eXBlID09PSAnZmlsZScgPyA8RmlsZU91dGxpbmVkIC8+IDogPEZvbGRlck91dGxpbmVkIC8+fVxuICAgICAgICBzZWxlY3RhYmxlPXt0eXBlID09PSAnZmlsZSd9XG4gICAgICA+XG4gICAgICAgIHtjaGlsZHJlbiAmJiByZW5kZXJUcmVlTm9kZXMoY2hpbGRyZW4pfVxuICAgICAgPC9UcmVlTm9kZT5cbiAgICApKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxUcmVlIHNob3dJY29uIGRlZmF1bHRFeHBhbmRBbGwgb25TZWxlY3Q9eyhzZWxlY3RlZEtleXMsIHsgbm9kZSB9KSA9PiBvblNlbGVjdEZpbGUobm9kZSl9PlxuICAgICAge3JlbmRlclRyZWVOb2RlcyhmaWxlRGF0YSl9XG4gICAgPC9UcmVlPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRmlsZVRyZWU7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBLElBQUFBLE1BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLE1BQUEsR0FBQUYsT0FBQTtBQUFpRSxTQUFBRCx1QkFBQUksQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUhqRTs7QUFLQSxNQUFNO0VBQUVHO0FBQVMsQ0FBQyxHQUFHQyxVQUFJO0FBRXpCLE1BQU1DLFFBQVEsR0FBR0MsSUFBQSxJQUFnQztFQUFBLElBQS9CO0lBQUVDLFFBQVE7SUFBRUM7RUFBYSxDQUFDLEdBQUFGLElBQUE7RUFDMUMsTUFBTUcsZUFBZSxHQUFJQyxJQUFJLElBQUs7SUFDaEMsT0FBT0EsSUFBSSxDQUFDQyxHQUFHLENBQUNDLEtBQUE7TUFBQSxJQUFDO1FBQUVDLEtBQUs7UUFBRUMsR0FBRztRQUFFQyxRQUFRO1FBQUVDLElBQUk7UUFBRUMsT0FBTztRQUFFQztNQUFLLENBQUMsR0FBQU4sS0FBQTtNQUFBLG9CQUM1RGpCLE1BQUEsQ0FBQU8sT0FBQSxDQUFBaUIsYUFBQSxDQUFDaEIsUUFBUTtRQUNQVyxHQUFHLEVBQUVBLEdBQUk7UUFDVEQsS0FBSyxFQUFFQSxLQUFNO1FBQ2JHLElBQUksRUFBRUEsSUFBSztRQUNYQyxPQUFPLEVBQUVBLE9BQVE7UUFDakJDLElBQUksRUFBRUEsSUFBSztRQUNYRSxJQUFJLEVBQUVKLElBQUksS0FBSyxNQUFNLGdCQUFHckIsTUFBQSxDQUFBTyxPQUFBLENBQUFpQixhQUFBLENBQUNwQixNQUFBLENBQUFzQixZQUFZLE1BQUUsQ0FBQyxnQkFBRzFCLE1BQUEsQ0FBQU8sT0FBQSxDQUFBaUIsYUFBQSxDQUFDcEIsTUFBQSxDQUFBdUIsY0FBYyxNQUFFLENBQUU7UUFDOURDLFVBQVUsRUFBRVAsSUFBSSxLQUFLO01BQU8sR0FFM0JELFFBQVEsSUFBSU4sZUFBZSxDQUFDTSxRQUFRLENBQzdCLENBQUM7SUFBQSxDQUNaLENBQUM7RUFDSixDQUFDO0VBRUQsb0JBQ0VwQixNQUFBLENBQUFPLE9BQUEsQ0FBQWlCLGFBQUEsQ0FBQ3JCLEtBQUEsQ0FBQU0sSUFBSTtJQUFDb0IsUUFBUTtJQUFDQyxnQkFBZ0I7SUFBQ0MsUUFBUSxFQUFFQSxDQUFDQyxZQUFZLEVBQUFDLEtBQUE7TUFBQSxJQUFFO1FBQUVDO01BQUssQ0FBQyxHQUFBRCxLQUFBO01BQUEsT0FBS3BCLFlBQVksQ0FBQ3FCLElBQUksQ0FBQztJQUFBO0VBQUMsR0FDdEZwQixlQUFlLENBQUNGLFFBQVEsQ0FDckIsQ0FBQztBQUVYLENBQUM7QUFBQyxJQUFBdUIsUUFBQSxHQUFBQyxPQUFBLENBQUE3QixPQUFBLEdBRWFHLFFBQVEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_react","_interopRequireDefault","require","_antd","_icons","e","__esModule","default","TreeNode","Tree","FileTree","_ref","fileData","onSelectFile","renderTreeNodes","data","map","_ref2","title","key","children","type","content","path","createElement","icon","FileOutlined","FolderOutlined","selectable","showIcon","defaultExpandAll","onSelect","selectedKeys","_ref3","node","_default","exports"],"sourceRoot":"/home/njucs/bugDetection&Repair/code/src/","sources":["FileTree.js"],"sourcesContent":["// src/FileTree.js\nimport React from 'react';\nimport { Tree } from 'antd';\nimport { FileOutlined, FolderOutlined } from '@ant-design/icons';\n\nconst { TreeNode } = Tree;\n\nconst FileTree = ({ fileData, onSelectFile }) => {\n  const renderTreeNodes = (data) => {\n    return data.map(({ title, key, children, type, content, path }) => (\n      <TreeNode\n        key={key}\n        title={title}\n        type={type}\n        content={content}\n        path={path}\n        icon={type === 'file' ? <FileOutlined /> : <FolderOutlined />}\n        selectable={type === 'file'}\n      >\n        {children && renderTreeNodes(children)}\n      </TreeNode>\n    ));\n  };\n\n  return (\n    <Tree showIcon defaultExpandAll onSelect={(selectedKeys, { node }) => onSelectFile(node)}>\n      {renderTreeNodes(fileData)}\n    </Tree>\n  );\n};\n\nexport default FileTree;\n"],"mappings":";;;;;;AACA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AACA,IAAAE,MAAA,GAAAF,OAAA;AAAiE,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAHjE;;AAKA,MAAM;EAAEG;AAAS,CAAC,GAAGC,UAAI;AAEzB,MAAMC,QAAQ,GAAGC,IAAA,IAAgC;EAAA,IAA/B;IAAEC,QAAQ;IAAEC;EAAa,CAAC,GAAAF,IAAA;EAC1C,MAAMG,eAAe,GAAIC,IAAI,IAAK;IAChC,OAAOA,IAAI,CAACC,GAAG,CAACC,KAAA;MAAA,IAAC;QAAEC,KAAK;QAAEC,GAAG;QAAEC,QAAQ;QAAEC,IAAI;QAAEC,OAAO;QAAEC;MAAK,CAAC,GAAAN,KAAA;MAAA,oBAC5DjB,MAAA,CAAAO,OAAA,CAAAiB,aAAA,CAAChB,QAAQ;QACPW,GAAG,EAAEA,GAAI;QACTD,KAAK,EAAEA,KAAM;QACbG,IAAI,EAAEA,IAAK;QACXC,OAAO,EAAEA,OAAQ;QACjBC,IAAI,EAAEA,IAAK;QACXE,IAAI,EAAEJ,IAAI,KAAK,MAAM,gBAAGrB,MAAA,CAAAO,OAAA,CAAAiB,aAAA,CAACpB,MAAA,CAAAsB,YAAY,MAAE,CAAC,gBAAG1B,MAAA,CAAAO,OAAA,CAAAiB,aAAA,CAACpB,MAAA,CAAAuB,cAAc,MAAE,CAAE;QAC9DC,UAAU,EAAEP,IAAI,KAAK;MAAO,GAE3BD,QAAQ,IAAIN,eAAe,CAACM,QAAQ,CAC7B,CAAC;IAAA,CACZ,CAAC;EACJ,CAAC;EAED,oBACEpB,MAAA,CAAAO,OAAA,CAAAiB,aAAA,CAACrB,KAAA,CAAAM,IAAI;IAACoB,QAAQ;IAACC,gBAAgB;IAACC,QAAQ,EAAEA,CAACC,YAAY,EAAAC,KAAA;MAAA,IAAE;QAAEC;MAAK,CAAC,GAAAD,KAAA;MAAA,OAAKpB,YAAY,CAACqB,IAAI,CAAC;IAAA;EAAC,GACtFpB,eAAe,CAACF,QAAQ,CACrB,CAAC;AAEX,CAAC;AAAC,IAAAuB,QAAA,GAAAC,OAAA,CAAA7B,OAAA,GAEaG,QAAQ","ignoreList":[]}},"mtime":1716465305650},"{\"assumptions\":{},\"sourceRoot\":\"/home/njucs/bugDetection&Repair/code/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/njucs/bugDetection&Repair/code\",\"filename\":\"/home/njucs/bugDetection&Repair/code/src/FileEditorWithBugTable.js\",\"targets\":{\"android\":\"124.0.0\",\"chrome\":\"101.0.0\",\"edge\":\"122.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"107.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/njucs/bugDetection&Repair/code\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _antd = require(\"antd\");\nvar _react2 = _interopRequireDefault(require(\"@monaco-editor/react\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n// src/FileEditorWithBugTable.js\n\nconst FileEditorWithBugTable = _ref => {\n  let {\n    selectedFile,\n    onBugDetection,\n    tableData,\n    onPatchGeneration,\n    getSortedData,\n    sortedData\n  } = _ref;\n  const editorRef = (0, _react.useRef)(null);\n  const [tableHeight, setTableHeight] = (0, _react.useState)(200);\n  const [isResizing, setIsResizing] = (0, _react.useState)(false);\n  const [showDialog, setShowDialog] = (0, _react.useState)(false);\n  const [filted, setFilted] = (0, _react.useState)(false);\n  const [filtedData, setFiltedData] = (0, _react.useState)(null);\n  const [sorted, setSorted] = (0, _react.useState)(false);\n  const [bugLabel, setBugLabel] = (0, _react.useState)(null);\n  const handleEditorDidMount = (editor, monaco) => {\n    editorRef.current = editor;\n  };\n  const handleCellClick = location => {\n    const [lineNumber, colNumber] = location.match(/\\d+/g).map(Number);\n    if (editorRef.current) {\n      editorRef.current.revealLineInCenter(lineNumber);\n      editorRef.current.setPosition({\n        lineNumber,\n        column: colNumber\n      });\n      editorRef.current.focus();\n    }\n  };\n  const handleIDClick = id => {\n    if (filted === true) {\n      console.log(id);\n      console.log(bugLabel);\n      onPatchGeneration(bugLabel, id);\n      setFilted(false);\n    }\n  };\n  const startResizing = e => {\n    setIsResizing(true);\n    document.body.style.cursor = 'ns-resize';\n  };\n  const stopResizing = () => {\n    setIsResizing(false);\n    document.body.style.cursor = 'default';\n  };\n  const resizeTable = e => {\n    if (isResizing) {\n      const newHeight = window.innerHeight - e.clientY;\n      setTableHeight(newHeight);\n    }\n  };\n  _react.default.useEffect(() => {\n    window.addEventListener('mousemove', resizeTable);\n    window.addEventListener('mouseup', stopResizing);\n    return () => {\n      window.removeEventListener('mousemove', resizeTable);\n      window.removeEventListener('mouseup', stopResizing);\n    };\n  }, [isResizing]);\n  const columns = [{\n    title: 'Id',\n    dataIndex: 'id',\n    key: 'id',\n    onCell: record => ({\n      onClick: () => handleIDClick(record.id)\n    })\n  }, {\n    title: 'Severity',\n    dataIndex: 'severity',\n    key: 'severity'\n  }, {\n    title: 'Type',\n    dataIndex: 'type',\n    key: 'type'\n  }, {\n    title: 'Qualifier',\n    dataIndex: 'qualifier',\n    key: 'qualifier'\n  }, {\n    title: 'Location',\n    dataIndex: 'location',\n    key: 'location',\n    onCell: record => ({\n      onClick: () => handleCellClick(record.location)\n    })\n  }];\n  const handleBugDetectionClick = () => {\n    if (editorRef.current) {\n      setFilted(false);\n      setSorted(false);\n      const editorValue = editorRef.current.getValue();\n      onBugDetection(editorValue);\n    } else {\n      _antd.message.error('Editor is not ready');\n    }\n  };\n  const handle1 = () => {\n    setShowDialog(false);\n    setFilted(true);\n    setBugLabel('INDEX_ERROR'); // 数组越界\n    let flag = 0;\n    let newDataList = tableData.map(item => {\n      if (item.type === 'INDEX_ERROR') {\n        flag = 1;\n        return item;\n      }\n    });\n    if (flag === 0) {\n      newDataList = [];\n    }\n    setFiltedData(newDataList);\n  };\n  const handle2 = () => {\n    setShowDialog(false);\n    setFilted(true);\n    setBugLabel('MEMORY_LEAK'); // 内存泄漏\n    let flag = 0;\n    let newDataList = tableData.map(item => {\n      if (item.type === 'MEMORY_LEAK') {\n        flag = 1;\n        return item;\n      }\n    });\n    if (flag === 0) {\n      newDataList = [];\n    }\n    setFiltedData(newDataList);\n    console.log(newDataList);\n  };\n  const handlePatchGenerationClick = () => {\n    setShowDialog(true);\n  };\n  const dialogStyles = {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%',\n    background: 'rgba(0, 0, 0, 0.5)',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    zIndex: 9999\n  };\n  const dialogContentStyles = {\n    background: 'white',\n    padding: '20px',\n    borderRadius: '8px',\n    textAlign: 'center'\n  };\n  const dialogButtonStyles = {\n    margin: '0 10px'\n  };\n  const handleSort = () => {\n    if (filted === false && tableData.length > 0) {\n      if (sorted === false) {\n        setSorted(true);\n        getSortedData();\n      } else {\n        setSorted(false);\n      }\n    }\n  };\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100vh'\n    }\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      marginBottom: '10px'\n    }\n  }, /*#__PURE__*/_react.default.createElement(\"p\", {\n    style: {\n      marginRight: '10px'\n    }\n  }, selectedFile.title), /*#__PURE__*/_react.default.createElement(_antd.Button, {\n    onClick: handleBugDetectionClick\n  }, \"\\u6F0F\\u6D1E\\u68C0\\u6D4B\"), /*#__PURE__*/_react.default.createElement(_antd.Button, {\n    onClick: handlePatchGenerationClick\n  }, \"\\u8865\\u4E01\\u4FEE\\u590D\"), showDialog && /*#__PURE__*/_react.default.createElement(\"div\", {\n    style: dialogStyles\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    style: dialogContentStyles\n  }, /*#__PURE__*/_react.default.createElement(\"p\", null, \"\\u9009\\u62E9\\u6F0F\\u6D1E\\u7C7B\\u522B\"), /*#__PURE__*/_react.default.createElement(\"button\", {\n    onClick: handle1,\n    style: dialogButtonStyles\n  }, \"\\u6570\\u7EC4\\u8D8A\\u754C\"), /*#__PURE__*/_react.default.createElement(\"button\", {\n    onClick: handle2,\n    style: dialogButtonStyles\n  }, \"\\u5185\\u5B58\\u6CC4\\u6F0F\")))), /*#__PURE__*/_react.default.createElement(_react2.default, {\n    height: \"calc(100vh - \".concat(tableHeight + 50, \"px)\"),\n    defaultLanguage: \"cpp\",\n    value: selectedFile.content,\n    onMount: handleEditorDidMount\n  }), /*#__PURE__*/_react.default.createElement(\"div\", {\n    style: {\n      height: \"\".concat(tableHeight, \"px\"),\n      overflow: 'auto',\n      marginTop: '20px',\n      position: 'relative'\n    }\n  }, /*#__PURE__*/_react.default.createElement(_antd.Button, {\n    onClick: handleSort\n  }, \"\\u6309\\u7F6E\\u4FE1\\u5EA6\\u6392\\u5E8F\"), /*#__PURE__*/_react.default.createElement(_antd.Table, {\n    columns: columns,\n    dataSource: filted ? filtedData : sorted ? sortedData : tableData,\n    pagination: false\n  }), /*#__PURE__*/_react.default.createElement(\"div\", {\n    style: {\n      height: '5px',\n      backgroundColor: 'gray',\n      cursor: 'ns-resize',\n      position: 'absolute',\n      top: 0,\n      width: '100%'\n    },\n    onMouseDown: startResizing\n  })));\n};\nvar _default = exports.default = FileEditorWithBugTable;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfYW50ZCIsIl9yZWFjdDIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwiV2Vha01hcCIsInIiLCJ0IiwiaGFzIiwiZ2V0IiwibiIsIl9fcHJvdG9fXyIsImEiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpIiwic2V0IiwiRmlsZUVkaXRvcldpdGhCdWdUYWJsZSIsIl9yZWYiLCJzZWxlY3RlZEZpbGUiLCJvbkJ1Z0RldGVjdGlvbiIsInRhYmxlRGF0YSIsIm9uUGF0Y2hHZW5lcmF0aW9uIiwiZ2V0U29ydGVkRGF0YSIsInNvcnRlZERhdGEiLCJlZGl0b3JSZWYiLCJ1c2VSZWYiLCJ0YWJsZUhlaWdodCIsInNldFRhYmxlSGVpZ2h0IiwidXNlU3RhdGUiLCJpc1Jlc2l6aW5nIiwic2V0SXNSZXNpemluZyIsInNob3dEaWFsb2ciLCJzZXRTaG93RGlhbG9nIiwiZmlsdGVkIiwic2V0RmlsdGVkIiwiZmlsdGVkRGF0YSIsInNldEZpbHRlZERhdGEiLCJzb3J0ZWQiLCJzZXRTb3J0ZWQiLCJidWdMYWJlbCIsInNldEJ1Z0xhYmVsIiwiaGFuZGxlRWRpdG9yRGlkTW91bnQiLCJlZGl0b3IiLCJtb25hY28iLCJjdXJyZW50IiwiaGFuZGxlQ2VsbENsaWNrIiwibG9jYXRpb24iLCJsaW5lTnVtYmVyIiwiY29sTnVtYmVyIiwibWF0Y2giLCJtYXAiLCJOdW1iZXIiLCJyZXZlYWxMaW5lSW5DZW50ZXIiLCJzZXRQb3NpdGlvbiIsImNvbHVtbiIsImZvY3VzIiwiaGFuZGxlSURDbGljayIsImlkIiwiY29uc29sZSIsImxvZyIsInN0YXJ0UmVzaXppbmciLCJkb2N1bWVudCIsImJvZHkiLCJzdHlsZSIsImN1cnNvciIsInN0b3BSZXNpemluZyIsInJlc2l6ZVRhYmxlIiwibmV3SGVpZ2h0Iiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJjbGllbnRZIiwiUmVhY3QiLCJ1c2VFZmZlY3QiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNvbHVtbnMiLCJ0aXRsZSIsImRhdGFJbmRleCIsImtleSIsIm9uQ2VsbCIsInJlY29yZCIsIm9uQ2xpY2siLCJoYW5kbGVCdWdEZXRlY3Rpb25DbGljayIsImVkaXRvclZhbHVlIiwiZ2V0VmFsdWUiLCJtZXNzYWdlIiwiZXJyb3IiLCJoYW5kbGUxIiwiZmxhZyIsIm5ld0RhdGFMaXN0IiwiaXRlbSIsInR5cGUiLCJoYW5kbGUyIiwiaGFuZGxlUGF0Y2hHZW5lcmF0aW9uQ2xpY2siLCJkaWFsb2dTdHlsZXMiLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJ3aWR0aCIsImhlaWdodCIsImJhY2tncm91bmQiLCJkaXNwbGF5IiwianVzdGlmeUNvbnRlbnQiLCJhbGlnbkl0ZW1zIiwiekluZGV4IiwiZGlhbG9nQ29udGVudFN0eWxlcyIsInBhZGRpbmciLCJib3JkZXJSYWRpdXMiLCJ0ZXh0QWxpZ24iLCJkaWFsb2dCdXR0b25TdHlsZXMiLCJtYXJnaW4iLCJoYW5kbGVTb3J0IiwibGVuZ3RoIiwiY3JlYXRlRWxlbWVudCIsImZsZXhEaXJlY3Rpb24iLCJtYXJnaW5Cb3R0b20iLCJtYXJnaW5SaWdodCIsIkJ1dHRvbiIsImNvbmNhdCIsImRlZmF1bHRMYW5ndWFnZSIsInZhbHVlIiwiY29udGVudCIsIm9uTW91bnQiLCJvdmVyZmxvdyIsIm1hcmdpblRvcCIsIlRhYmxlIiwiZGF0YVNvdXJjZSIsInBhZ2luYXRpb24iLCJiYWNrZ3JvdW5kQ29sb3IiLCJvbk1vdXNlRG93biIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvbmp1Y3MvYnVnRGV0ZWN0aW9uJlJlcGFpci9jb2RlL3NyYy8iLCJzb3VyY2VzIjpbIkZpbGVFZGl0b3JXaXRoQnVnVGFibGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL0ZpbGVFZGl0b3JXaXRoQnVnVGFibGUuanNcbmltcG9ydCBSZWFjdCwgeyB1c2VSZWYsIHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBCdXR0b24sIFRhYmxlLCBtZXNzYWdlIH0gZnJvbSAnYW50ZCc7XG5pbXBvcnQgRWRpdG9yIGZyb20gJ0Btb25hY28tZWRpdG9yL3JlYWN0JztcblxuY29uc3QgRmlsZUVkaXRvcldpdGhCdWdUYWJsZSA9ICh7IHNlbGVjdGVkRmlsZSwgb25CdWdEZXRlY3Rpb24gLHRhYmxlRGF0YSwgb25QYXRjaEdlbmVyYXRpb24sIGdldFNvcnRlZERhdGEgLCBzb3J0ZWREYXRhfSkgPT4ge1xuICBjb25zdCBlZGl0b3JSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IFt0YWJsZUhlaWdodCwgc2V0VGFibGVIZWlnaHRdID0gdXNlU3RhdGUoMjAwKTtcbiAgY29uc3QgW2lzUmVzaXppbmcsIHNldElzUmVzaXppbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd0RpYWxvZywgc2V0U2hvd0RpYWxvZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtmaWx0ZWQsIHNldEZpbHRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtmaWx0ZWREYXRhLCBzZXRGaWx0ZWREYXRhXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbc29ydGVkLCBzZXRTb3J0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYnVnTGFiZWwsIHNldEJ1Z0xhYmVsXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBoYW5kbGVFZGl0b3JEaWRNb3VudCA9IChlZGl0b3IsIG1vbmFjbykgPT4ge1xuICAgIGVkaXRvclJlZi5jdXJyZW50ID0gZWRpdG9yO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNlbGxDbGljayA9IChsb2NhdGlvbikgPT4ge1xuICAgIGNvbnN0IFtsaW5lTnVtYmVyLCBjb2xOdW1iZXJdID0gbG9jYXRpb24ubWF0Y2goL1xcZCsvZykubWFwKE51bWJlcik7XG4gICAgaWYgKGVkaXRvclJlZi5jdXJyZW50KSB7XG4gICAgICBlZGl0b3JSZWYuY3VycmVudC5yZXZlYWxMaW5lSW5DZW50ZXIobGluZU51bWJlcik7XG4gICAgICBlZGl0b3JSZWYuY3VycmVudC5zZXRQb3NpdGlvbih7IGxpbmVOdW1iZXIsIGNvbHVtbjogY29sTnVtYmVyIH0pO1xuICAgICAgZWRpdG9yUmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlSURDbGljayA9IChpZCkgPT4ge1xuICAgIGlmIChmaWx0ZWQgPT09IHRydWUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGlkKTtcbiAgICAgIGNvbnNvbGUubG9nKGJ1Z0xhYmVsKTtcbiAgICAgIG9uUGF0Y2hHZW5lcmF0aW9uKGJ1Z0xhYmVsLCBpZCk7XG4gICAgICBzZXRGaWx0ZWQoZmFsc2UpO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgc3RhcnRSZXNpemluZyA9IChlKSA9PiB7XG4gICAgc2V0SXNSZXNpemluZyh0cnVlKTtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9ICducy1yZXNpemUnO1xuICB9O1xuXG4gIGNvbnN0IHN0b3BSZXNpemluZyA9ICgpID0+IHtcbiAgICBzZXRJc1Jlc2l6aW5nKGZhbHNlKTtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JztcbiAgfTtcblxuICBjb25zdCByZXNpemVUYWJsZSA9IChlKSA9PiB7XG4gICAgaWYgKGlzUmVzaXppbmcpIHtcbiAgICAgIGNvbnN0IG5ld0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAtIGUuY2xpZW50WTtcbiAgICAgIHNldFRhYmxlSGVpZ2h0KG5ld0hlaWdodCk7XG4gICAgfVxuICB9O1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHJlc2l6ZVRhYmxlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHN0b3BSZXNpemluZyk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCByZXNpemVUYWJsZSk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHN0b3BSZXNpemluZyk7XG4gICAgfTtcbiAgfSwgW2lzUmVzaXppbmddKTtcblxuICBjb25zdCBjb2x1bW5zID0gW1xuICAgIHtcbiAgICAgIHRpdGxlOiAnSWQnLFxuICAgICAgZGF0YUluZGV4OiAnaWQnLFxuICAgICAga2V5OiAnaWQnLFxuICAgICAgb25DZWxsOiAocmVjb3JkKSA9PiAoe1xuICAgICAgICBvbkNsaWNrOiAoKSA9PiBoYW5kbGVJRENsaWNrKHJlY29yZC5pZCksXG4gICAgICB9KSxcbiAgICB9LFxuICAgIHtcbiAgICAgIHRpdGxlOiAnU2V2ZXJpdHknLFxuICAgICAgZGF0YUluZGV4OiAnc2V2ZXJpdHknLFxuICAgICAga2V5OiAnc2V2ZXJpdHknLFxuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICdUeXBlJyxcbiAgICAgIGRhdGFJbmRleDogJ3R5cGUnLFxuICAgICAga2V5OiAndHlwZScsXG4gICAgfSxcbiAgICB7XG4gICAgICB0aXRsZTogJ1F1YWxpZmllcicsXG4gICAgICBkYXRhSW5kZXg6ICdxdWFsaWZpZXInLFxuICAgICAga2V5OiAncXVhbGlmaWVyJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHRpdGxlOiAnTG9jYXRpb24nLFxuICAgICAgZGF0YUluZGV4OiAnbG9jYXRpb24nLFxuICAgICAga2V5OiAnbG9jYXRpb24nLFxuICAgICAgb25DZWxsOiAocmVjb3JkKSA9PiAoe1xuICAgICAgICBvbkNsaWNrOiAoKSA9PiBoYW5kbGVDZWxsQ2xpY2socmVjb3JkLmxvY2F0aW9uKSxcbiAgICAgIH0pLFxuICAgIH0sXG4gIF07XG4gIGNvbnN0IGhhbmRsZUJ1Z0RldGVjdGlvbkNsaWNrID0gKCkgPT4ge1xuICAgIGlmIChlZGl0b3JSZWYuY3VycmVudCkge1xuICAgICAgc2V0RmlsdGVkKGZhbHNlKTtcbiAgICAgIHNldFNvcnRlZChmYWxzZSk7XG4gICAgICBjb25zdCBlZGl0b3JWYWx1ZSA9IGVkaXRvclJlZi5jdXJyZW50LmdldFZhbHVlKCk7XG4gICAgICBvbkJ1Z0RldGVjdGlvbihlZGl0b3JWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2UuZXJyb3IoJ0VkaXRvciBpcyBub3QgcmVhZHknKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhhbmRsZTEgPSAoKSA9PiB7XG4gICAgc2V0U2hvd0RpYWxvZyhmYWxzZSk7XG4gICAgc2V0RmlsdGVkKHRydWUpO1xuICAgIHNldEJ1Z0xhYmVsKCdJTkRFWF9FUlJPUicpOyAvLyDmlbDnu4TotornlYxcbiAgICBsZXQgZmxhZyA9IDBcbiAgICBsZXQgbmV3RGF0YUxpc3QgPSB0YWJsZURhdGEubWFwKGl0ZW0gPT4ge1xuICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ0lOREVYX0VSUk9SJykge1xuICAgICAgICBmbGFnID0xO1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoZmxhZyA9PT0gMCkge1xuICAgICAgbmV3RGF0YUxpc3QgPSBbXTtcbiAgICB9XG4gICAgc2V0RmlsdGVkRGF0YShuZXdEYXRhTGlzdCk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZTIgPSAoKSA9PiB7XG4gICAgc2V0U2hvd0RpYWxvZyhmYWxzZSk7XG4gICAgc2V0RmlsdGVkKHRydWUpO1xuICAgIHNldEJ1Z0xhYmVsKCdNRU1PUllfTEVBSycpOyAvLyDlhoXlrZjms4TmvI9cbiAgICBsZXQgZmxhZyA9IDA7XG4gICAgbGV0IG5ld0RhdGFMaXN0ID0gdGFibGVEYXRhLm1hcChpdGVtID0+IHtcbiAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdNRU1PUllfTEVBSycpIHtcbiAgICAgICAgZmxhZyA9MTtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGZsYWcgPT09IDApIHtcbiAgICAgIG5ld0RhdGFMaXN0ID0gW107XG4gICAgfVxuICAgIHNldEZpbHRlZERhdGEobmV3RGF0YUxpc3QpO1xuICAgIGNvbnNvbGUubG9nKG5ld0RhdGFMaXN0KTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlUGF0Y2hHZW5lcmF0aW9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgc2V0U2hvd0RpYWxvZyh0cnVlKTtcbiAgfTtcbiAgY29uc3QgZGlhbG9nU3R5bGVzID0ge1xuICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgIHRvcDogMCxcbiAgICBsZWZ0OiAwLFxuICAgIHdpZHRoOiAnMTAwJScsXG4gICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgYmFja2dyb3VuZDogJ3JnYmEoMCwgMCwgMCwgMC41KScsXG4gICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICB6SW5kZXg6IDk5OTksXG4gIH07XG5cbiAgY29uc3QgZGlhbG9nQ29udGVudFN0eWxlcyA9IHtcbiAgICBiYWNrZ3JvdW5kOiAnd2hpdGUnLFxuICAgIHBhZGRpbmc6ICcyMHB4JyxcbiAgICBib3JkZXJSYWRpdXM6ICc4cHgnLFxuICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gIH07XG5cbiAgY29uc3QgZGlhbG9nQnV0dG9uU3R5bGVzID0ge1xuICAgIG1hcmdpbjogJzAgMTBweCcsXG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU29ydCA9ICgpID0+IHtcbiAgICBpZiAoZmlsdGVkID09PSBmYWxzZSAmJiB0YWJsZURhdGEubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKHNvcnRlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgc2V0U29ydGVkKHRydWUpO1xuICAgICAgICBnZXRTb3J0ZWREYXRhKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRTb3J0ZWQoZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgfTtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsIGhlaWdodDogJzEwMHZoJyB9fT5cbiAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgbWFyZ2luQm90dG9tOiAnMTBweCcgfX0+XG4gICAgICAgIDxwIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiAnMTBweCcgfX0+e3NlbGVjdGVkRmlsZS50aXRsZX08L3A+XG4gICAgICAgIDxCdXR0b24gb25DbGljaz17aGFuZGxlQnVnRGV0ZWN0aW9uQ2xpY2t9Pua8j+a0nuajgOa1izwvQnV0dG9uPlxuICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e2hhbmRsZVBhdGNoR2VuZXJhdGlvbkNsaWNrfT7ooaXkuIHkv67lpI08L0J1dHRvbj5cbiAgICAgICAge3Nob3dEaWFsb2cgJiYgKFxuICAgICAgICAgIDxkaXYgc3R5bGU9e2RpYWxvZ1N0eWxlc30+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXtkaWFsb2dDb250ZW50U3R5bGVzfT5cbiAgICAgICAgICAgICAgPHA+6YCJ5oup5ryP5rSe57G75YirPC9wPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZTF9IHN0eWxlPXtkaWFsb2dCdXR0b25TdHlsZXN9PuaVsOe7hOi2iueVjDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZTJ9IHN0eWxlPXtkaWFsb2dCdXR0b25TdHlsZXN9PuWGheWtmOazhOa8jzwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxFZGl0b3JcbiAgICAgICAgaGVpZ2h0PXtgY2FsYygxMDB2aCAtICR7dGFibGVIZWlnaHQgKyA1MH1weClgfVxuICAgICAgICBkZWZhdWx0TGFuZ3VhZ2U9XCJjcHBcIlxuICAgICAgICB2YWx1ZT17c2VsZWN0ZWRGaWxlLmNvbnRlbnR9XG4gICAgICAgIG9uTW91bnQ9e2hhbmRsZUVkaXRvckRpZE1vdW50fVxuICAgICAgLz5cbiAgICAgIDxkaXYgc3R5bGU9e3sgaGVpZ2h0OiBgJHt0YWJsZUhlaWdodH1weGAsIG92ZXJmbG93OiAnYXV0bycsIG1hcmdpblRvcDogJzIwcHgnLCBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fT5cbiAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVTb3J0fT7mjInnva7kv6HluqbmjpLluo88L0J1dHRvbj5cbiAgICAgICAgPFRhYmxlIGNvbHVtbnM9e2NvbHVtbnN9IGRhdGFTb3VyY2U9e2ZpbHRlZCA/IGZpbHRlZERhdGEgOiAoc29ydGVkID8gc29ydGVkRGF0YSA6IHRhYmxlRGF0YSl9IHBhZ2luYXRpb249e2ZhbHNlfSAvPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIGhlaWdodDogJzVweCcsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdncmF5JyxcbiAgICAgICAgICAgIGN1cnNvcjogJ25zLXJlc2l6ZScsXG4gICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgfX1cbiAgICAgICAgICBvbk1vdXNlRG93bj17c3RhcnRSZXNpemluZ31cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRmlsZUVkaXRvcldpdGhCdWdUYWJsZTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0EsSUFBQUEs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","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_antd","_react2","_interopRequireDefault","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","FileEditorWithBugTable","_ref","selectedFile","onBugDetection","tableData","onPatchGeneration","getSortedData","sortedData","editorRef","useRef","tableHeight","setTableHeight","useState","isResizing","setIsResizing","showDialog","setShowDialog","filted","setFilted","filtedData","setFiltedData","sorted","setSorted","bugLabel","setBugLabel","handleEditorDidMount","editor","monaco","current","handleCellClick","location","lineNumber","colNumber","match","map","Number","revealLineInCenter","setPosition","column","focus","handleIDClick","id","console","log","startResizing","document","body","style","cursor","stopResizing","resizeTable","newHeight","window","innerHeight","clientY","React","useEffect","addEventListener","removeEventListener","columns","title","dataIndex","key","onCell","record","onClick","handleBugDetectionClick","editorValue","getValue","message","error","handle1","flag","newDataList","item","type","handle2","handlePatchGenerationClick","dialogStyles","position","top","left","width","height","background","display","justifyContent","alignItems","zIndex","dialogContentStyles","padding","borderRadius","textAlign","dialogButtonStyles","margin","handleSort","length","createElement","flexDirection","marginBottom","marginRight","Button","concat","defaultLanguage","value","content","onMount","overflow","marginTop","Table","dataSource","pagination","backgroundColor","onMouseDown","_default","exports"],"sourceRoot":"/home/njucs/bugDetection&Repair/code/src/","sources":["FileEditorWithBugTable.js"],"sourcesContent":["// src/FileEditorWithBugTable.js\nimport React, { useRef, useState, useEffect } from 'react';\nimport { Button, Table, message } from 'antd';\nimport Editor from '@monaco-editor/react';\n\nconst FileEditorWithBugTable = ({ selectedFile, onBugDetection ,tableData, onPatchGeneration, getSortedData , sortedData}) => {\n  const editorRef = useRef(null);\n  const [tableHeight, setTableHeight] = useState(200);\n  const [isResizing, setIsResizing] = useState(false);\n  const [showDialog, setShowDialog] = useState(false);\n  const [filted, setFilted] = useState(false);\n  const [filtedData, setFiltedData] = useState(null);\n  const [sorted, setSorted] = useState(false);\n  const [bugLabel, setBugLabel] = useState(null);\n  const handleEditorDidMount = (editor, monaco) => {\n    editorRef.current = editor;\n  };\n\n  const handleCellClick = (location) => {\n    const [lineNumber, colNumber] = location.match(/\\d+/g).map(Number);\n    if (editorRef.current) {\n      editorRef.current.revealLineInCenter(lineNumber);\n      editorRef.current.setPosition({ lineNumber, column: colNumber });\n      editorRef.current.focus();\n    }\n  };\n\n  const handleIDClick = (id) => {\n    if (filted === true) {\n      console.log(id);\n      console.log(bugLabel);\n      onPatchGeneration(bugLabel, id);\n      setFilted(false);\n    }\n  };\n  const startResizing = (e) => {\n    setIsResizing(true);\n    document.body.style.cursor = 'ns-resize';\n  };\n\n  const stopResizing = () => {\n    setIsResizing(false);\n    document.body.style.cursor = 'default';\n  };\n\n  const resizeTable = (e) => {\n    if (isResizing) {\n      const newHeight = window.innerHeight - e.clientY;\n      setTableHeight(newHeight);\n    }\n  };\n\n  React.useEffect(() => {\n    window.addEventListener('mousemove', resizeTable);\n    window.addEventListener('mouseup', stopResizing);\n    return () => {\n      window.removeEventListener('mousemove', resizeTable);\n      window.removeEventListener('mouseup', stopResizing);\n    };\n  }, [isResizing]);\n\n  const columns = [\n    {\n      title: 'Id',\n      dataIndex: 'id',\n      key: 'id',\n      onCell: (record) => ({\n        onClick: () => handleIDClick(record.id),\n      }),\n    },\n    {\n      title: 'Severity',\n      dataIndex: 'severity',\n      key: 'severity',\n    },\n    {\n      title: 'Type',\n      dataIndex: 'type',\n      key: 'type',\n    },\n    {\n      title: 'Qualifier',\n      dataIndex: 'qualifier',\n      key: 'qualifier',\n    },\n    {\n      title: 'Location',\n      dataIndex: 'location',\n      key: 'location',\n      onCell: (record) => ({\n        onClick: () => handleCellClick(record.location),\n      }),\n    },\n  ];\n  const handleBugDetectionClick = () => {\n    if (editorRef.current) {\n      setFilted(false);\n      setSorted(false);\n      const editorValue = editorRef.current.getValue();\n      onBugDetection(editorValue);\n    } else {\n      message.error('Editor is not ready');\n    }\n  };\n  const handle1 = () => {\n    setShowDialog(false);\n    setFilted(true);\n    setBugLabel('INDEX_ERROR'); // 数组越界\n    let flag = 0\n    let newDataList = tableData.map(item => {\n      if (item.type === 'INDEX_ERROR') {\n        flag =1;\n        return item;\n      }\n    });\n    if (flag === 0) {\n      newDataList = [];\n    }\n    setFiltedData(newDataList);\n  };\n  const handle2 = () => {\n    setShowDialog(false);\n    setFilted(true);\n    setBugLabel('MEMORY_LEAK'); // 内存泄漏\n    let flag = 0;\n    let newDataList = tableData.map(item => {\n      if (item.type === 'MEMORY_LEAK') {\n        flag =1;\n        return item;\n      }\n    });\n    if (flag === 0) {\n      newDataList = [];\n    }\n    setFiltedData(newDataList);\n    console.log(newDataList);\n  };\n  const handlePatchGenerationClick = () => {\n    setShowDialog(true);\n  };\n  const dialogStyles = {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%',\n    background: 'rgba(0, 0, 0, 0.5)',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    zIndex: 9999,\n  };\n\n  const dialogContentStyles = {\n    background: 'white',\n    padding: '20px',\n    borderRadius: '8px',\n    textAlign: 'center',\n  };\n\n  const dialogButtonStyles = {\n    margin: '0 10px',\n  };\n\n  const handleSort = () => {\n    if (filted === false && tableData.length > 0) {\n      if (sorted === false) {\n        setSorted(true);\n        getSortedData();\n      } else {\n        setSorted(false);\n      }\n    }\n    \n  };\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', height: '100vh' }}>\n      <div style={{ display: 'flex', alignItems: 'center', marginBottom: '10px' }}>\n        <p style={{ marginRight: '10px' }}>{selectedFile.title}</p>\n        <Button onClick={handleBugDetectionClick}>漏洞检测</Button>\n        <Button onClick={handlePatchGenerationClick}>补丁修复</Button>\n        {showDialog && (\n          <div style={dialogStyles}>\n            <div style={dialogContentStyles}>\n              <p>选择漏洞类别</p>\n              <button onClick={handle1} style={dialogButtonStyles}>数组越界</button>\n              <button onClick={handle2} style={dialogButtonStyles}>内存泄漏</button>\n            </div>\n          </div>\n        )}\n      </div>\n      <Editor\n        height={`calc(100vh - ${tableHeight + 50}px)`}\n        defaultLanguage=\"cpp\"\n        value={selectedFile.content}\n        onMount={handleEditorDidMount}\n      />\n      <div style={{ height: `${tableHeight}px`, overflow: 'auto', marginTop: '20px', position: 'relative' }}>\n        <Button onClick={handleSort}>按置信度排序</Button>\n        <Table columns={columns} dataSource={filted ? filtedData : (sorted ? sortedData : tableData)} pagination={false} />\n        <div\n          style={{\n            height: '5px',\n            backgroundColor: 'gray',\n            cursor: 'ns-resize',\n            position: 'absolute',\n            top: 0,\n            width: '100%',\n          }}\n          onMouseDown={startResizing}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default FileEditorWithBugTable;\n"],"mappings":"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","ignoreList":[]}},"mtime":1718173176968},"{\"assumptions\":{},\"sourceRoot\":\"/home/njucs/bugDetection&Repair/code/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/njucs/bugDetection&Repair/code\",\"filename\":\"/home/njucs/bugDetection&Repair/code/src/App.js\",\"targets\":{\"android\":\"124.0.0\",\"chrome\":\"101.0.0\",\"edge\":\"122.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"107.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/njucs/bugDetection&Repair/code\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _antd = require(\"antd\");\nvar _FileUploader = _interopRequireDefault(require(\"./FileUploader\"));\nvar _FileTree = _interopRequireDefault(require(\"./FileTree\"));\nvar _FileEditorWithBugTable = _interopRequireDefault(require(\"./FileEditorWithBugTable\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n// src/App.js\n\nconst {\n  Sider,\n  Content\n} = _antd.Layout;\nconst App = () => {\n  const [selectedFile, setSelectedFile] = (0, _react.useState)(null);\n  const [fileData, setFileData] = (0, _react.useState)([]);\n  const [messages, setMessages] = (0, _react.useState)([]);\n  const [tableData, setTableData] = (0, _react.useState)([]);\n  const [bugData, setBugData] = (0, _react.useState)([]);\n  const [fileName, setFileName] = (0, _react.useState)(null);\n  const [showDialog, setShowDialog] = (0, _react.useState)(false);\n  const socket = (0, _react.useRef)(null);\n  (0, _react.useEffect)(() => {\n    socket.current = new WebSocket('ws://localhost:3000');\n    socket.current.onopen = () => setMessages(prev => [...prev, 'Connected to server']);\n    socket.current.onmessage = event => {\n      try {\n        let data = JSON.parse(event.data);\n        if (data.type === 'bugData') {\n          data = JSON.parse(data.content);\n          setBugData(data); // save all bug data\n          let index = 0;\n          const newDataList = data.map(item => {\n            index += 1;\n            return {\n              key: index,\n              id: index,\n              severity: item.severity,\n              type: item.bug_type,\n              qualifier: item.qualifier,\n              location: 'ln ' + item.line + ', cl ' + item.column\n            };\n          });\n          setTableData(newDataList);\n        } else if (data.type === 'download') {\n          const fileName = window.prompt('Enter file name:', 'download.txt'); // 弹出对话框获取文件名\n          if (fileName) {\n            // 如果用户输入了文件名\n            const data = \"Hello, world!\";\n            const blob = new Blob([data], {\n              type: 'text/plain'\n            });\n            const url = window.URL.createObjectURL(blob);\n            const a = document.createElement('a');\n            a.href = url;\n            a.download = fileName;\n            document.body.appendChild(a);\n            a.click();\n            document.body.removeChild(a);\n            window.URL.revokeObjectURL(url);\n          }\n        }\n        setMessages(prev => [...prev, data.message]);\n      } catch (error) {\n        console.error('Error parsing message', error);\n        setMessages(prev => [...prev, 'Error parsing message']);\n      }\n    };\n    socket.current.onclose = () => setMessages(prev => [...prev, 'Disconnected from server']);\n    socket.current.onerror = error => setMessages(prev => [...prev, \"WebSocket error: \".concat(error.message)]);\n    return () => {\n      if (socket.current) {\n        socket.current.close();\n      }\n    };\n  }, []);\n  const handleFileNameChange = e => {\n    setFileName(e.target.value);\n  };\n  const handleFileSelect = file => {\n    if (file && file.type === 'file') {\n      setSelectedFile(file);\n    }\n  };\n  const bugDetection = newContent => {\n    console.log('sent');\n    if (selectedFile) {\n      const updatedFile = {\n        ...selectedFile,\n        content: newContent\n      };\n      setSelectedFile(updatedFile);\n      console.log(updatedFile.content);\n      if (socket.current && socket.current.readyState === WebSocket.OPEN) {\n        const messageContent = JSON.stringify({\n          type: 'bugDetection',\n          content: updatedFile.content\n        });\n        socket.current.send(messageContent);\n        _antd.message.success('File sent');\n      }\n    }\n  };\n  const patchGeneration = (bugLabel, bugID) => {\n    if (selectedFile) {\n      if (socket.current && socket.current.readyState === WebSocket.OPEN) {\n        const messageContent = JSON.stringify({\n          type: 'patchGeneration',\n          bugLabel: bugLabel,\n          content: bugData[bugID - 1]\n        });\n        socket.current.send(messageContent);\n        _antd.message.success('File sent');\n      }\n    }\n  };\n  return /*#__PURE__*/_react.default.createElement(_antd.Layout, {\n    style: {\n      minHeight: '100vh'\n    }\n  }, /*#__PURE__*/_react.default.createElement(Sider, {\n    theme: \"light\"\n  }, /*#__PURE__*/_react.default.createElement(_FileUploader.default, {\n    onFileUpload: setFileData\n  }), /*#__PURE__*/_react.default.createElement(_FileTree.default, {\n    fileData: fileData,\n    onSelectFile: handleFileSelect\n  })), /*#__PURE__*/_react.default.createElement(_antd.Layout, null, /*#__PURE__*/_react.default.createElement(Content, null, selectedFile ? /*#__PURE__*/_react.default.createElement(_FileEditorWithBugTable.default, {\n    selectedFile: selectedFile,\n    onBugDetection: bugDetection,\n    tableData: tableData,\n    onPatchGeneration: patchGeneration\n  }) : /*#__PURE__*/_react.default.createElement(\"div\", {\n    style: {\n      padding: '20px'\n    }\n  }, \"\\u9009\\u62E9\\u4E00\\u4E2A\\u6587\\u4EF6\\u4EE5\\u5F00\\u59CB\\u7F16\\u8F91\"))));\n};\nvar _default = exports.default = App;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfYW50ZCIsIl9GaWxlVXBsb2FkZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX0ZpbGVUcmVlIiwiX0ZpbGVFZGl0b3JXaXRoQnVnVGFibGUiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJXZWFrTWFwIiwiciIsInQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTaWRlciIsIkNvbnRlbnQiLCJMYXlvdXQiLCJBcHAiLCJzZWxlY3RlZEZpbGUiLCJzZXRTZWxlY3RlZEZpbGUiLCJ1c2VTdGF0ZSIsImZpbGVEYXRhIiwic2V0RmlsZURhdGEiLCJtZXNzYWdlcyIsInNldE1lc3NhZ2VzIiwidGFibGVEYXRhIiwic2V0VGFibGVEYXRhIiwiYnVnRGF0YSIsInNldEJ1Z0RhdGEiLCJmaWxlTmFtZSIsInNldEZpbGVOYW1lIiwic2hvd0RpYWxvZyIsInNldFNob3dEaWFsb2ciLCJzb2NrZXQiLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJjdXJyZW50IiwiV2ViU29ja2V0Iiwib25vcGVuIiwicHJldiIsIm9ubWVzc2FnZSIsImV2ZW50IiwiZGF0YSIsIkpTT04iLCJwYXJzZSIsInR5cGUiLCJjb250ZW50IiwiaW5kZXgiLCJuZXdEYXRhTGlzdCIsIm1hcCIsIml0ZW0iLCJrZXkiLCJpZCIsInNldmVyaXR5IiwiYnVnX3R5cGUiLCJxdWFsaWZpZXIiLCJsb2NhdGlvbiIsImxpbmUiLCJjb2x1bW4iLCJ3aW5kb3ciLCJwcm9tcHQiLCJibG9iIiwiQmxvYiIsInVybCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImhyZWYiLCJkb3dubG9hZCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwicmVtb3ZlQ2hpbGQiLCJyZXZva2VPYmplY3RVUkwiLCJtZXNzYWdlIiwiZXJyb3IiLCJjb25zb2xlIiwib25jbG9zZSIsIm9uZXJyb3IiLCJjb25jYXQiLCJjbG9zZSIsImhhbmRsZUZpbGVOYW1lQ2hhbmdlIiwidGFyZ2V0IiwidmFsdWUiLCJoYW5kbGVGaWxlU2VsZWN0IiwiZmlsZSIsImJ1Z0RldGVjdGlvbiIsIm5ld0NvbnRlbnQiLCJsb2ciLCJ1cGRhdGVkRmlsZSIsInJlYWR5U3RhdGUiLCJPUEVOIiwibWVzc2FnZUNvbnRlbnQiLCJzdHJpbmdpZnkiLCJzZW5kIiwic3VjY2VzcyIsInBhdGNoR2VuZXJhdGlvbiIsImJ1Z0xhYmVsIiwiYnVnSUQiLCJzdHlsZSIsIm1pbkhlaWdodCIsInRoZW1lIiwib25GaWxlVXBsb2FkIiwib25TZWxlY3RGaWxlIiwib25CdWdEZXRlY3Rpb24iLCJvblBhdGNoR2VuZXJhdGlvbiIsInBhZGRpbmciLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL25qdWNzL2J1Z0RldGVjdGlvbiZSZXBhaXIvY29kZS9zcmMvIiwic291cmNlcyI6WyJBcHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL0FwcC5qc1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExheW91dCAsIG1lc3NhZ2UgfSBmcm9tICdhbnRkJztcbmltcG9ydCBGaWxlVXBsb2FkZXIgZnJvbSAnLi9GaWxlVXBsb2FkZXInO1xuaW1wb3J0IEZpbGVUcmVlIGZyb20gJy4vRmlsZVRyZWUnO1xuaW1wb3J0IEZpbGVFZGl0b3JXaXRoQnVnVGFibGUgZnJvbSAnLi9GaWxlRWRpdG9yV2l0aEJ1Z1RhYmxlJztcbmNvbnN0IHsgU2lkZXIsIENvbnRlbnQgfSA9IExheW91dDtcblxuY29uc3QgQXBwID0gKCkgPT4ge1xuICBjb25zdCBbc2VsZWN0ZWRGaWxlLCBzZXRTZWxlY3RlZEZpbGVdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtmaWxlRGF0YSwgc2V0RmlsZURhdGFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW3RhYmxlRGF0YSwgc2V0VGFibGVEYXRhXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2J1Z0RhdGEsIHNldEJ1Z0RhdGFdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbZmlsZU5hbWUsIHNldEZpbGVOYW1lXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbc2hvd0RpYWxvZywgc2V0U2hvd0RpYWxvZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHNvY2tldCA9IHVzZVJlZihudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNvY2tldC5jdXJyZW50ID0gbmV3IFdlYlNvY2tldCgnd3M6Ly9sb2NhbGhvc3Q6MzAwMCcpO1xuICAgIHNvY2tldC5jdXJyZW50Lm9ub3BlbiA9ICgpID0+IHNldE1lc3NhZ2VzKChwcmV2KSA9PiBbLi4ucHJldiwgJ0Nvbm5lY3RlZCB0byBzZXJ2ZXInXSk7XG4gICAgc29ja2V0LmN1cnJlbnQub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBsZXQgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XG4gICAgICAgIGlmKGRhdGEudHlwZSA9PT0gJ2J1Z0RhdGEnKXtcbiAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhLmNvbnRlbnQpO1xuICAgICAgICAgIHNldEJ1Z0RhdGEoZGF0YSk7IC8vIHNhdmUgYWxsIGJ1ZyBkYXRhXG4gICAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgICBjb25zdCBuZXdEYXRhTGlzdCA9IGRhdGEubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgICAgaW5kZXggKz0gMTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGtleTogaW5kZXgsXG4gICAgICAgICAgICAgIGlkOiBpbmRleCxcbiAgICAgICAgICAgICAgc2V2ZXJpdHk6IGl0ZW0uc2V2ZXJpdHksXG4gICAgICAgICAgICAgIHR5cGU6IGl0ZW0uYnVnX3R5cGUsXG4gICAgICAgICAgICAgIHF1YWxpZmllcjogaXRlbS5xdWFsaWZpZXIsXG4gICAgICAgICAgICAgIGxvY2F0aW9uOiAnbG4gJytpdGVtLmxpbmUrJywgY2wgJytpdGVtLmNvbHVtblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRUYWJsZURhdGEobmV3RGF0YUxpc3QpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoZGF0YS50eXBlID09PSAnZG93bmxvYWQnKSB7XG4gICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSB3aW5kb3cucHJvbXB0KCdFbnRlciBmaWxlIG5hbWU6JywgJ2Rvd25sb2FkLnR4dCcpOyAvLyDlvLnlh7rlr7nor53moYbojrflj5bmlofku7blkI1cbiAgICAgICAgICBpZiAoZmlsZU5hbWUpIHsgLy8g5aaC5p6c55So5oi36L6T5YWl5LqG5paH5Lu25ZCNXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gXCJIZWxsbywgd29ybGQhXCI7XG4gICAgICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2RhdGFdLCB7IHR5cGU6ICd0ZXh0L3BsYWluJyB9KTtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICAgIGEuaHJlZiA9IHVybDtcbiAgICAgICAgICAgIGEuZG93bmxvYWQgPSBmaWxlTmFtZTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gICAgICAgICAgICBhLmNsaWNrKCk7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpO1xuICAgICAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFsuLi5wcmV2LCBkYXRhLm1lc3NhZ2VdKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgbWVzc2FnZScsIGVycm9yKTtcbiAgICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFsuLi5wcmV2LCAnRXJyb3IgcGFyc2luZyBtZXNzYWdlJ10pO1xuICAgICAgfVxuICAgIH07XG4gICAgc29ja2V0LmN1cnJlbnQub25jbG9zZSA9ICgpID0+IHNldE1lc3NhZ2VzKChwcmV2KSA9PiBbLi4ucHJldiwgJ0Rpc2Nvbm5lY3RlZCBmcm9tIHNlcnZlciddKTtcbiAgICBzb2NrZXQuY3VycmVudC5vbmVycm9yID0gKGVycm9yKSA9PiBzZXRNZXNzYWdlcygocHJldikgPT4gWy4uLnByZXYsIGBXZWJTb2NrZXQgZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gXSk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHNvY2tldC5jdXJyZW50KSB7XG4gICAgICAgIHNvY2tldC5jdXJyZW50LmNsb3NlKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW10pO1xuICBjb25zdCBoYW5kbGVGaWxlTmFtZUNoYW5nZSA9IChlKSA9PiB7XG4gICAgc2V0RmlsZU5hbWUoZS50YXJnZXQudmFsdWUpO1xuICB9O1xuICBjb25zdCBoYW5kbGVGaWxlU2VsZWN0ID0gKGZpbGUpID0+IHtcbiAgICBpZiAoZmlsZSAmJiBmaWxlLnR5cGUgPT09ICdmaWxlJykge1xuICAgICAgc2V0U2VsZWN0ZWRGaWxlKGZpbGUpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBidWdEZXRlY3Rpb24gPSAobmV3Q29udGVudCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdzZW50Jyk7XG4gICAgaWYgKHNlbGVjdGVkRmlsZSkge1xuICAgICAgICBjb25zdCB1cGRhdGVkRmlsZSA9IHsgLi4uc2VsZWN0ZWRGaWxlLCBjb250ZW50OiBuZXdDb250ZW50IH07XG4gICAgICAgIHNldFNlbGVjdGVkRmlsZSh1cGRhdGVkRmlsZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKHVwZGF0ZWRGaWxlLmNvbnRlbnQpXG4gICAgICAgIGlmIChzb2NrZXQuY3VycmVudCAmJiBzb2NrZXQuY3VycmVudC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgICAgIGNvbnN0IG1lc3NhZ2VDb250ZW50ID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgdHlwZTogJ2J1Z0RldGVjdGlvbicsXG4gICAgICAgICAgICBjb250ZW50OiB1cGRhdGVkRmlsZS5jb250ZW50LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNvY2tldC5jdXJyZW50LnNlbmQobWVzc2FnZUNvbnRlbnQpO1xuICAgICAgICAgIG1lc3NhZ2Uuc3VjY2VzcygnRmlsZSBzZW50Jyk7XG4gICAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcGF0Y2hHZW5lcmF0aW9uID0gKGJ1Z0xhYmVsLCBidWdJRCkgPT4ge1xuICAgIGlmIChzZWxlY3RlZEZpbGUpIHtcbiAgICAgIGlmIChzb2NrZXQuY3VycmVudCAmJiBzb2NrZXQuY3VycmVudC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgICBjb25zdCBtZXNzYWdlQ29udGVudCA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB0eXBlOiAncGF0Y2hHZW5lcmF0aW9uJyxcbiAgICAgICAgICBidWdMYWJlbDogYnVnTGFiZWwsXG4gICAgICAgICAgY29udGVudDogYnVnRGF0YVtidWdJRC0xXSxcbiAgICAgICAgfSk7XG4gICAgICAgIHNvY2tldC5jdXJyZW50LnNlbmQobWVzc2FnZUNvbnRlbnQpO1xuICAgICAgICBtZXNzYWdlLnN1Y2Nlc3MoJ0ZpbGUgc2VudCcpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIChcbiAgICA8TGF5b3V0IHN0eWxlPXt7IG1pbkhlaWdodDogJzEwMHZoJyB9fT5cbiAgICAgIDxTaWRlciB0aGVtZT1cImxpZ2h0XCI+XG4gICAgICAgIDxGaWxlVXBsb2FkZXIgb25GaWxlVXBsb2FkPXtzZXRGaWxlRGF0YX0vPlxuICAgICAgICA8RmlsZVRyZWUgZmlsZURhdGE9e2ZpbGVEYXRhfSBvblNlbGVjdEZpbGU9e2hhbmRsZUZpbGVTZWxlY3R9IC8+XG4gICAgICA8L1NpZGVyPlxuICAgICAgPExheW91dD5cbiAgICAgICAgPENvbnRlbnQ+XG4gICAgICAgICAge3NlbGVjdGVkRmlsZSA/IChcbiAgICAgICAgICAgIDxGaWxlRWRpdG9yV2l0aEJ1Z1RhYmxlXG4gICAgICAgICAgICAgIHNlbGVjdGVkRmlsZT17c2VsZWN0ZWRGaWxlfVxuICAgICAgICAgICAgICBvbkJ1Z0RldGVjdGlvbj17YnVnRGV0ZWN0aW9ufVxuICAgICAgICAgICAgICB0YWJsZURhdGE9e3RhYmxlRGF0YX1cbiAgICAgICAgICAgICAgb25QYXRjaEdlbmVyYXRpb249e3BhdGNoR2VuZXJhdGlvbn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgcGFkZGluZzogJzIwcHgnIH19PumAieaLqeS4gOS4quaWh+S7tuS7peW8gOWni+e8lui+kTwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvQ29udGVudD5cbiAgICAgIDwvTGF5b3V0PlxuICAgIDwvTGF5b3V0PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQXBwO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFDQSxJQUFBQSxNQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFB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","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_antd","_FileUploader","_interopRequireDefault","_FileTree","_FileEditorWithBugTable","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","Sider","Content","Layout","App","selectedFile","setSelectedFile","useState","fileData","setFileData","messages","setMessages","tableData","setTableData","bugData","setBugData","fileName","setFileName","showDialog","setShowDialog","socket","useRef","useEffect","current","WebSocket","onopen","prev","onmessage","event","data","JSON","parse","type","content","index","newDataList","map","item","key","id","severity","bug_type","qualifier","location","line","column","window","prompt","blob","Blob","url","URL","createObjectURL","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","message","error","console","onclose","onerror","concat","close","handleFileNameChange","target","value","handleFileSelect","file","bugDetection","newContent","log","updatedFile","readyState","OPEN","messageContent","stringify","send","success","patchGeneration","bugLabel","bugID","style","minHeight","theme","onFileUpload","onSelectFile","onBugDetection","onPatchGeneration","padding","_default","exports"],"sourceRoot":"/home/njucs/bugDetection&Repair/code/src/","sources":["App.js"],"sourcesContent":["// src/App.js\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Layout , message } from 'antd';\nimport FileUploader from './FileUploader';\nimport FileTree from './FileTree';\nimport FileEditorWithBugTable from './FileEditorWithBugTable';\nconst { Sider, Content } = Layout;\n\nconst App = () => {\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [fileData, setFileData] = useState([]);\n  const [messages, setMessages] = useState([]);\n  const [tableData, setTableData] = useState([]);\n  const [bugData, setBugData] = useState([]);\n  const [fileName, setFileName] = useState(null);\n  const [showDialog, setShowDialog] = useState(false);\n  const socket = useRef(null);\n\n  useEffect(() => {\n    socket.current = new WebSocket('ws://localhost:3000');\n    socket.current.onopen = () => setMessages((prev) => [...prev, 'Connected to server']);\n    socket.current.onmessage = (event) => {\n      try {\n        let data = JSON.parse(event.data);\n        if(data.type === 'bugData'){\n          data = JSON.parse(data.content);\n          setBugData(data); // save all bug data\n          let index = 0;\n          const newDataList = data.map(item => {\n            index += 1;\n            return {\n              key: index,\n              id: index,\n              severity: item.severity,\n              type: item.bug_type,\n              qualifier: item.qualifier,\n              location: 'ln '+item.line+', cl '+item.column\n            };\n          });\n          setTableData(newDataList);\n        }\n        else if(data.type === 'download') {\n          const fileName = window.prompt('Enter file name:', 'download.txt'); // 弹出对话框获取文件名\n          if (fileName) { // 如果用户输入了文件名\n            const data = \"Hello, world!\";\n            const blob = new Blob([data], { type: 'text/plain' });\n            const url = window.URL.createObjectURL(blob);\n            const a = document.createElement('a');\n            a.href = url;\n            a.download = fileName;\n            document.body.appendChild(a);\n            a.click();\n            document.body.removeChild(a);\n            window.URL.revokeObjectURL(url);\n          }\n          \n        }\n        setMessages((prev) => [...prev, data.message]);\n      } catch (error) {\n        console.error('Error parsing message', error);\n        setMessages((prev) => [...prev, 'Error parsing message']);\n      }\n    };\n    socket.current.onclose = () => setMessages((prev) => [...prev, 'Disconnected from server']);\n    socket.current.onerror = (error) => setMessages((prev) => [...prev, `WebSocket error: ${error.message}`]);\n\n    return () => {\n      if (socket.current) {\n        socket.current.close();\n      }\n    };\n  }, []);\n  const handleFileNameChange = (e) => {\n    setFileName(e.target.value);\n  };\n  const handleFileSelect = (file) => {\n    if (file && file.type === 'file') {\n      setSelectedFile(file);\n    }\n  };\n\n  const bugDetection = (newContent) => {\n    console.log('sent');\n    if (selectedFile) {\n        const updatedFile = { ...selectedFile, content: newContent };\n        setSelectedFile(updatedFile);\n        console.log(updatedFile.content)\n        if (socket.current && socket.current.readyState === WebSocket.OPEN) {\n          const messageContent = JSON.stringify({\n            type: 'bugDetection',\n            content: updatedFile.content,\n          });\n          socket.current.send(messageContent);\n          message.success('File sent');\n        }\n    }\n  };\n\n  const patchGeneration = (bugLabel, bugID) => {\n    if (selectedFile) {\n      if (socket.current && socket.current.readyState === WebSocket.OPEN) {\n        const messageContent = JSON.stringify({\n          type: 'patchGeneration',\n          bugLabel: bugLabel,\n          content: bugData[bugID-1],\n        });\n        socket.current.send(messageContent);\n        message.success('File sent');\n      }\n    }\n  };\n  return (\n    <Layout style={{ minHeight: '100vh' }}>\n      <Sider theme=\"light\">\n        <FileUploader onFileUpload={setFileData}/>\n        <FileTree fileData={fileData} onSelectFile={handleFileSelect} />\n      </Sider>\n      <Layout>\n        <Content>\n          {selectedFile ? (\n            <FileEditorWithBugTable\n              selectedFile={selectedFile}\n              onBugDetection={bugDetection}\n              tableData={tableData}\n              onPatchGeneration={patchGeneration}\n            />\n          ) : (\n            <div style={{ padding: '20px' }}>选择一个文件以开始编辑</div>\n          )}\n        </Content>\n      </Layout>\n    </Layout>\n  );\n};\n\nexport default App;\n"],"mappings":";;;;;;AACA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AACA,IAAAE,aAAA,GAAAC,sBAAA,CAAAH,OAAA;AACA,IAAAI,SAAA,GAAAD,sBAAA,CAAAH,OAAA;AACA,IAAAK,uBAAA,GAAAF,sBAAA,CAAAH,OAAA;AAA8D,SAAAG,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,SAAAG,yBAAAH,CAAA,6BAAAI,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAD,wBAAA,YAAAA,CAAAH,CAAA,WAAAA,CAAA,GAAAM,CAAA,GAAAD,CAAA,KAAAL,CAAA;AAAA,SAAAP,wBAAAO,CAAA,EAAAK,CAAA,SAAAA,CAAA,IAAAL,CAAA,IAAAA,CAAA,CAAAC,UAAA,SAAAD,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAE,OAAA,EAAAF,CAAA,QAAAM,CAAA,GAAAH,wBAAA,CAAAE,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAC,GAAA,CAAAP,CAAA,UAAAM,CAAA,CAAAE,GAAA,CAAAR,CAAA,OAAAS,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAf,CAAA,oBAAAe,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAe,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAd,CAAA,EAAAe,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAf,CAAA,CAAAe,CAAA,YAAAN,CAAA,CAAAP,OAAA,GAAAF,CAAA,EAAAM,CAAA,IAAAA,CAAA,CAAAa,GAAA,CAAAnB,CAAA,EAAAS,CAAA,GAAAA,CAAA;AAL9D;;AAMA,MAAM;EAAEW,KAAK;EAAEC;AAAQ,CAAC,GAAGC,YAAM;AAEjC,MAAMC,GAAG,GAAGA,CAAA,KAAM;EAChB,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAG,IAAAC,eAAQ,EAAC,IAAI,CAAC;EACtD,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAG,IAAAF,eAAQ,EAAC,EAAE,CAAC;EAC5C,MAAM,CAACG,QAAQ,EAAEC,WAAW,CAAC,GAAG,IAAAJ,eAAQ,EAAC,EAAE,CAAC;EAC5C,MAAM,CAACK,SAAS,EAAEC,YAAY,CAAC,GAAG,IAAAN,eAAQ,EAAC,EAAE,CAAC;EAC9C,MAAM,CAACO,OAAO,EAAEC,UAAU,CAAC,GAAG,IAAAR,eAAQ,EAAC,EAAE,CAAC;EAC1C,MAAM,CAACS,QAAQ,EAAEC,WAAW,CAAC,GAAG,IAAAV,eAAQ,EAAC,IAAI,CAAC;EAC9C,MAAM,CAACW,UAAU,EAAEC,aAAa,CAAC,GAAG,IAAAZ,eAAQ,EAAC,KAAK,CAAC;EACnD,MAAMa,MAAM,GAAG,IAAAC,aAAM,EAAC,IAAI,CAAC;EAE3B,IAAAC,gBAAS,EAAC,MAAM;IACdF,MAAM,CAACG,OAAO,GAAG,IAAIC,SAAS,CAAC,qBAAqB,CAAC;IACrDJ,MAAM,CAACG,OAAO,CAACE,MAAM,GAAG,MAAMd,WAAW,CAAEe,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAE,qBAAqB,CAAC,CAAC;IACrFN,MAAM,CAACG,OAAO,CAACI,SAAS,GAAIC,KAAK,IAAK;MACpC,IAAI;QACF,IAAIC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACH,KAAK,CAACC,IAAI,CAAC;QACjC,IAAGA,IAAI,CAACG,IAAI,KAAK,SAAS,EAAC;UACzBH,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACF,IAAI,CAACI,OAAO,CAAC;UAC/BlB,UAAU,CAACc,IAAI,CAAC,CAAC,CAAC;UAClB,IAAIK,KAAK,GAAG,CAAC;UACb,MAAMC,WAAW,GAAGN,IAAI,CAACO,GAAG,CAACC,IAAI,IAAI;YACnCH,KAAK,IAAI,CAAC;YACV,OAAO;cACLI,GAAG,EAAEJ,KAAK;cACVK,EAAE,EAAEL,KAAK;cACTM,QAAQ,EAAEH,IAAI,CAACG,QAAQ;cACvBR,IAAI,EAAEK,IAAI,CAACI,QAAQ;cACnBC,SAAS,EAAEL,IAAI,CAACK,SAAS;cACzBC,QAAQ,EAAE,KAAK,GAACN,IAAI,CAACO,IAAI,GAAC,OAAO,GAACP,IAAI,CAACQ;YACzC,CAAC;UACH,CAAC,CAAC;UACFhC,YAAY,CAACsB,WAAW,CAAC;QAC3B,CAAC,MACI,IAAGN,IAAI,CAACG,IAAI,KAAK,UAAU,EAAE;UAChC,MAAMhB,QAAQ,GAAG8B,MAAM,CAACC,MAAM,CAAC,kBAAkB,EAAE,cAAc,CAAC,CAAC,CAAC;UACpE,IAAI/B,QAAQ,EAAE;YAAE;YACd,MAAMa,IAAI,GAAG,eAAe;YAC5B,MAAMmB,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACpB,IAAI,CAAC,EAAE;cAAEG,IAAI,EAAE;YAAa,CAAC,CAAC;YACrD,MAAMkB,GAAG,GAAGJ,MAAM,CAACK,GAAG,CAACC,eAAe,CAACJ,IAAI,CAAC;YAC5C,MAAMxD,CAAC,GAAG6D,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;YACrC9D,CAAC,CAAC+D,IAAI,GAAGL,GAAG;YACZ1D,CAAC,CAACgE,QAAQ,GAAGxC,QAAQ;YACrBqC,QAAQ,CAACI,IAAI,CAACC,WAAW,CAAClE,CAAC,CAAC;YAC5BA,CAAC,CAACmE,KAAK,CAAC,CAAC;YACTN,QAAQ,CAACI,IAAI,CAACG,WAAW,CAACpE,CAAC,CAAC;YAC5BsD,MAAM,CAACK,GAAG,CAACU,eAAe,CAACX,GAAG,CAAC;UACjC;QAEF;QACAvC,WAAW,CAAEe,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAEG,IAAI,CAACiC,OAAO,CAAC,CAAC;MAChD,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;QAC7CpD,WAAW,CAAEe,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAE,uBAAuB,CAAC,CAAC;MAC3D;IACF,CAAC;IACDN,MAAM,CAACG,OAAO,CAAC0C,OAAO,GAAG,MAAMtD,WAAW,CAAEe,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAE,0BAA0B,CAAC,CAAC;IAC3FN,MAAM,CAACG,OAAO,CAAC2C,OAAO,GAAIH,KAAK,IAAKpD,WAAW,CAAEe,IAAI,IAAK,CAAC,GAAGA,IAAI,sBAAAyC,MAAA,CAAsBJ,KAAK,CAACD,OAAO,EAAG,CAAC;IAEzG,OAAO,MAAM;MACX,IAAI1C,MAAM,CAACG,OAAO,EAAE;QAClBH,MAAM,CAACG,OAAO,CAAC6C,KAAK,CAAC,CAAC;MACxB;IACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EACN,MAAMC,oBAAoB,GAAIxF,CAAC,IAAK;IAClCoC,WAAW,CAACpC,CAAC,CAACyF,MAAM,CAACC,KAAK,CAAC;EAC7B,CAAC;EACD,MAAMC,gBAAgB,GAAIC,IAAI,IAAK;IACjC,IAAIA,IAAI,IAAIA,IAAI,CAACzC,IAAI,KAAK,MAAM,EAAE;MAChC1B,eAAe,CAACmE,IAAI,CAAC;IACvB;EACF,CAAC;EAED,MAAMC,YAAY,GAAIC,UAAU,IAAK;IACnCX,OAAO,CAACY,GAAG,CAAC,MAAM,CAAC;IACnB,IAAIvE,YAAY,EAAE;MACd,MAAMwE,WAAW,GAAG;QAAE,GAAGxE,YAAY;QAAE4B,OAAO,EAAE0C;MAAW,CAAC;MAC5DrE,eAAe,CAACuE,WAAW,CAAC;MAC5Bb,OAAO,CAACY,GAAG,CAACC,WAAW,CAAC5C,OAAO,CAAC;MAChC,IAAIb,MAAM,CAACG,OAAO,IAAIH,MAAM,CAACG,OAAO,CAACuD,UAAU,KAAKtD,SAAS,CAACuD,IAAI,EAAE;QAClE,MAAMC,cAAc,GAAGlD,IAAI,CAACmD,SAAS,CAAC;UACpCjD,IAAI,EAAE,cAAc;UACpBC,OAAO,EAAE4C,WAAW,CAAC5C;QACvB,CAAC,CAAC;QACFb,MAAM,CAACG,OAAO,CAAC2D,IAAI,CAACF,cAAc,CAAC;QACnClB,aAAO,CAACqB,OAAO,CAAC,WAAW,CAAC;MAC9B;IACJ;EACF,CAAC;EAED,MAAMC,eAAe,GAAGA,CAACC,QAAQ,EAAEC,KAAK,KAAK;IAC3C,IAAIjF,YAAY,EAAE;MAChB,IAAIe,MAAM,CAACG,OAAO,IAAIH,MAAM,CAACG,OAAO,CAACuD,UAAU,KAAKtD,SAAS,CAACuD,IAAI,EAAE;QAClE,MAAMC,cAAc,GAAGlD,IAAI,CAACmD,SAAS,CAAC;UACpCjD,IAAI,EAAE,iBAAiB;UACvBqD,QAAQ,EAAEA,QAAQ;UAClBpD,OAAO,EAAEnB,OAAO,CAACwE,KAAK,GAAC,CAAC;QAC1B,CAAC,CAAC;QACFlE,MAAM,CAACG,OAAO,CAAC2D,IAAI,CAACF,cAAc,CAAC;QACnClB,aAAO,CAACqB,OAAO,CAAC,WAAW,CAAC;MAC9B;IACF;EACF,CAAC;EACD,oBACE9G,MAAA,CAAAU,OAAA,CAAAuE,aAAA,CAAC9E,KAAA,CAAA2B,MAAM;IAACoF,KAAK,EAAE;MAAEC,SAAS,EAAE;IAAQ;EAAE,gBACpCnH,MAAA,CAAAU,OAAA,CAAAuE,aAAA,CAACrD,KAAK;IAACwF,KAAK,EAAC;EAAO,gBAClBpH,MAAA,CAAAU,OAAA,CAAAuE,aAAA,CAAC7E,aAAA,CAAAM,OAAY;IAAC2G,YAAY,EAAEjF;EAAY,CAAC,CAAC,eAC1CpC,MAAA,CAAAU,OAAA,CAAAuE,aAAA,CAAC3E,SAAA,CAAAI,OAAQ;IAACyB,QAAQ,EAAEA,QAAS;IAACmF,YAAY,EAAEnB;EAAiB,CAAE,CAC1D,CAAC,eACRnG,MAAA,CAAAU,OAAA,CAAAuE,aAAA,CAAC9E,KAAA,CAAA2B,MAAM,qBACL9B,MAAA,CAAAU,OAAA,CAAAuE,aAAA,CAACpD,OAAO,QACLG,YAAY,gBACXhC,MAAA,CAAAU,OAAA,CAAAuE,aAAA,CAAC1E,uBAAA,CAAAG,OAAsB;IACrBsB,YAAY,EAAEA,YAAa;IAC3BuF,cAAc,EAAElB,YAAa;IAC7B9D,SAAS,EAAEA,SAAU;IACrBiF,iBAAiB,EAAET;EAAgB,CACpC,CAAC,gBAEF/G,MAAA,CAAAU,OAAA,CAAAuE,aAAA;IAAKiC,KAAK,EAAE;MAAEO,OAAO,EAAE;IAAO;EAAE,GAAC,oEAAgB,CAE5C,CACH,CACF,CAAC;AAEb,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAjH,OAAA,GAEaqB,GAAG","ignoreList":[]}},"mtime":1718087214338},"{\"assumptions\":{},\"sourceRoot\":\"/home/njucs/bugDetection&Repair/code/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/njucs/bugDetection&Repair/code\",\"filename\":\"/home/njucs/bugDetection&Repair/code/src/FileUploader.js\",\"targets\":{\"android\":\"124.0.0\",\"chrome\":\"101.0.0\",\"edge\":\"122.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"107.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/njucs/bugDetection&Repair/code\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _antd = require(\"antd\");\nvar _icons = require(\"@ant-design/icons\");\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n// src/FileUploader.js\n\nconst FileUploader = _ref => {\n  let {\n    onFileUpload\n  } = _ref;\n  const handleUploadProgram = () => {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.directory = true;\n    input.webkitdirectory = true;\n    input.click();\n    input.onchange = async () => {\n      const folder = input.files;\n      if (!folder) return;\n      const folderStructure = await parseFolder(folder);\n      onFileUpload(folderStructure);\n    };\n  };\n  const parseFolder = async folder => {\n    const folderStructure = [];\n    for (let i = 0; i < folder.length; i++) {\n      const file = folder[i];\n      const pathSegments = file.webkitRelativePath.trim().split('/');\n      let currentLevel = folderStructure;\n      for (let index = 0; index < pathSegments.length; index++) {\n        let segment = pathSegments[index];\n        let existingNode = currentLevel.find(node => node.title === segment);\n        if (!existingNode) {\n          const newNode = {\n            title: segment,\n            key: segment + '_' + index,\n            type: segment.includes('.') ? 'file' : 'folder',\n            children: [],\n            content: null,\n            path: null,\n            isLeaf: index === pathSegments.length - 1\n          };\n          if (newNode.type === 'file') {\n            newNode.content = await readFile(file);\n            newNode.path = file.webkitRelativePath;\n            console.log(newNode.path);\n          }\n          currentLevel.push(newNode);\n          currentLevel = newNode.children;\n        } else {\n          currentLevel = existingNode.children;\n        }\n      }\n    }\n    return folderStructure;\n  };\n  const readFile = file => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = event => resolve(event.target.result);\n      reader.onerror = event => reject(event.target.error);\n      reader.readAsText(file);\n    });\n  };\n  return /*#__PURE__*/_react.default.createElement(_antd.Button, {\n    icon: /*#__PURE__*/_react.default.createElement(_icons.FolderOutlined, null),\n    style: {\n      margin: '8px'\n    },\n    onClick: handleUploadProgram\n  }, \"\\u4E0A\\u4F20\\u672C\\u5730\\u9879\\u76EE\");\n};\nvar _default = exports.default = FileUploader;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hbnRkIiwiX2ljb25zIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiRmlsZVVwbG9hZGVyIiwiX3JlZiIsIm9uRmlsZVVwbG9hZCIsImhhbmRsZVVwbG9hZFByb2dyYW0iLCJpbnB1dCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJkaXJlY3RvcnkiLCJ3ZWJraXRkaXJlY3RvcnkiLCJjbGljayIsIm9uY2hhbmdlIiwiZm9sZGVyIiwiZmlsZXMiLCJmb2xkZXJTdHJ1Y3R1cmUiLCJwYXJzZUZvbGRlciIsImkiLCJsZW5ndGgiLCJmaWxlIiwicGF0aFNlZ21lbnRzIiwid2Via2l0UmVsYXRpdmVQYXRoIiwidHJpbSIsInNwbGl0IiwiY3VycmVudExldmVsIiwiaW5kZXgiLCJzZWdtZW50IiwiZXhpc3RpbmdOb2RlIiwiZmluZCIsIm5vZGUiLCJ0aXRsZSIsIm5ld05vZGUiLCJrZXkiLCJpbmNsdWRlcyIsImNoaWxkcmVuIiwiY29udGVudCIsInBhdGgiLCJpc0xlYWYiLCJyZWFkRmlsZSIsImNvbnNvbGUiLCJsb2ciLCJwdXNoIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiZXZlbnQiLCJ0YXJnZXQiLCJyZXN1bHQiLCJvbmVycm9yIiwiZXJyb3IiLCJyZWFkQXNUZXh0IiwiQnV0dG9uIiwiaWNvbiIsIkZvbGRlck91dGxpbmVkIiwic3R5bGUiLCJtYXJnaW4iLCJvbkNsaWNrIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9uanVjcy9idWdEZXRlY3Rpb24mUmVwYWlyL2NvZGUvc3JjLyIsInNvdXJjZXMiOlsiRmlsZVVwbG9hZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9GaWxlVXBsb2FkZXIuanNcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICdhbnRkJztcbmltcG9ydCB7IEZvbGRlck91dGxpbmVkIH0gZnJvbSAnQGFudC1kZXNpZ24vaWNvbnMnO1xuXG5jb25zdCBGaWxlVXBsb2FkZXIgPSAoeyBvbkZpbGVVcGxvYWR9KSA9PiB7XG5cbiAgY29uc3QgaGFuZGxlVXBsb2FkUHJvZ3JhbSA9ICgpID0+IHtcbiAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgaW5wdXQudHlwZSA9ICdmaWxlJztcbiAgICBpbnB1dC5kaXJlY3RvcnkgPSB0cnVlO1xuICAgIGlucHV0LndlYmtpdGRpcmVjdG9yeSA9IHRydWU7XG4gICAgaW5wdXQuY2xpY2soKTtcblxuICAgIGlucHV0Lm9uY2hhbmdlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZm9sZGVyID0gaW5wdXQuZmlsZXM7XG4gICAgICBpZiAoIWZvbGRlcikgcmV0dXJuO1xuICAgICAgY29uc3QgZm9sZGVyU3RydWN0dXJlID0gYXdhaXQgcGFyc2VGb2xkZXIoZm9sZGVyKTtcbiAgICAgIG9uRmlsZVVwbG9hZChmb2xkZXJTdHJ1Y3R1cmUpO1xuICAgIH07XG4gIH07XG5cbiAgY29uc3QgcGFyc2VGb2xkZXIgPSBhc3luYyAoZm9sZGVyKSA9PiB7XG4gICAgY29uc3QgZm9sZGVyU3RydWN0dXJlID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmb2xkZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGZpbGUgPSBmb2xkZXJbaV07XG4gICAgICBjb25zdCBwYXRoU2VnbWVudHMgPSBmaWxlLndlYmtpdFJlbGF0aXZlUGF0aC50cmltKCkuc3BsaXQoJy8nKTtcbiAgICAgIGxldCBjdXJyZW50TGV2ZWwgPSBmb2xkZXJTdHJ1Y3R1cmU7XG5cbiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBwYXRoU2VnbWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIGxldCBzZWdtZW50ID0gcGF0aFNlZ21lbnRzW2luZGV4XTtcbiAgICAgICAgbGV0IGV4aXN0aW5nTm9kZSA9IGN1cnJlbnRMZXZlbC5maW5kKChub2RlKSA9PiBub2RlLnRpdGxlID09PSBzZWdtZW50KTtcblxuICAgICAgICBpZiAoIWV4aXN0aW5nTm9kZSkge1xuICAgICAgICAgIGNvbnN0IG5ld05vZGUgPSB7XG4gICAgICAgICAgICB0aXRsZTogc2VnbWVudCxcbiAgICAgICAgICAgIGtleTogc2VnbWVudCArICdfJyArIGluZGV4LFxuICAgICAgICAgICAgdHlwZTogc2VnbWVudC5pbmNsdWRlcygnLicpID8gJ2ZpbGUnIDogJ2ZvbGRlcicsXG4gICAgICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgICAgICBjb250ZW50OiBudWxsLFxuICAgICAgICAgICAgcGF0aDogbnVsbCxcbiAgICAgICAgICAgIGlzTGVhZjogaW5kZXggPT09IHBhdGhTZWdtZW50cy5sZW5ndGggLSAxLFxuICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKG5ld05vZGUudHlwZSA9PT0gJ2ZpbGUnKSB7XG4gICAgICAgICAgICBuZXdOb2RlLmNvbnRlbnQgPSBhd2FpdCByZWFkRmlsZShmaWxlKTtcbiAgICAgICAgICAgIG5ld05vZGUucGF0aCA9IGZpbGUud2Via2l0UmVsYXRpdmVQYXRoO1xuICAgICAgICAgICAgY29uc29sZS5sb2cobmV3Tm9kZS5wYXRoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY3VycmVudExldmVsLnB1c2gobmV3Tm9kZSk7XG4gICAgICAgICAgY3VycmVudExldmVsID0gbmV3Tm9kZS5jaGlsZHJlbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdXJyZW50TGV2ZWwgPSBleGlzdGluZ05vZGUuY2hpbGRyZW47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZvbGRlclN0cnVjdHVyZTtcbiAgfTtcblxuICBjb25zdCByZWFkRmlsZSA9IChmaWxlKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICByZWFkZXIub25sb2FkID0gKGV2ZW50KSA9PiByZXNvbHZlKGV2ZW50LnRhcmdldC5yZXN1bHQpO1xuICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoZXZlbnQpID0+IHJlamVjdChldmVudC50YXJnZXQuZXJyb3IpO1xuICAgICAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZSk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8QnV0dG9uIGljb249ezxGb2xkZXJPdXRsaW5lZCAvPn0gc3R5bGU9e3sgbWFyZ2luOiAnOHB4JyB9fSBvbkNsaWNrPXtoYW5kbGVVcGxvYWRQcm9ncmFtfT5cbiAgICAgIOS4iuS8oOacrOWcsOmhueebrlxuICAgIDwvQnV0dG9uPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRmlsZVVwbG9hZGVyO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFDQSxJQUFBQSxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxNQUFBLEdBQUFGLE9BQUE7QUFBbUQsU0FBQUQsdUJBQUFJLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFIbkQ7O0FBS0EsTUFBTUcsWUFBWSxHQUFHQyxJQUFBLElBQXFCO0VBQUEsSUFBcEI7SUFBRUM7RUFBWSxDQUFDLEdBQUFELElBQUE7RUFFbkMsTUFBTUUsbUJBQW1CLEdBQUdBLENBQUEsS0FBTTtJQUNoQyxNQUFNQyxLQUFLLEdBQUdDLFFBQVEsQ0FBQ0MsYUFBYSxDQUFDLE9BQU8sQ0FBQztJQUM3Q0YsS0FBSyxDQUFDRyxJQUFJLEdBQUcsTUFBTTtJQUNuQkgsS0FBSyxDQUFDSSxTQUFTLEdBQUcsSUFBSTtJQUN0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","map":{"version":3,"names":["_react","_interopRequireDefault","require","_antd","_icons","e","__esModule","default","FileUploader","_ref","onFileUpload","handleUploadProgram","input","document","createElement","type","directory","webkitdirectory","click","onchange","folder","files","folderStructure","parseFolder","i","length","file","pathSegments","webkitRelativePath","trim","split","currentLevel","index","segment","existingNode","find","node","title","newNode","key","includes","children","content","path","isLeaf","readFile","console","log","push","Promise","resolve","reject","reader","FileReader","onload","event","target","result","onerror","error","readAsText","Button","icon","FolderOutlined","style","margin","onClick","_default","exports"],"sourceRoot":"/home/njucs/bugDetection&Repair/code/src/","sources":["FileUploader.js"],"sourcesContent":["// src/FileUploader.js\nimport React from 'react';\nimport { Button } from 'antd';\nimport { FolderOutlined } from '@ant-design/icons';\n\nconst FileUploader = ({ onFileUpload}) => {\n\n  const handleUploadProgram = () => {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.directory = true;\n    input.webkitdirectory = true;\n    input.click();\n\n    input.onchange = async () => {\n      const folder = input.files;\n      if (!folder) return;\n      const folderStructure = await parseFolder(folder);\n      onFileUpload(folderStructure);\n    };\n  };\n\n  const parseFolder = async (folder) => {\n    const folderStructure = [];\n    for (let i = 0; i < folder.length; i++) {\n      const file = folder[i];\n      const pathSegments = file.webkitRelativePath.trim().split('/');\n      let currentLevel = folderStructure;\n\n      for (let index = 0; index < pathSegments.length; index++) {\n        let segment = pathSegments[index];\n        let existingNode = currentLevel.find((node) => node.title === segment);\n\n        if (!existingNode) {\n          const newNode = {\n            title: segment,\n            key: segment + '_' + index,\n            type: segment.includes('.') ? 'file' : 'folder',\n            children: [],\n            content: null,\n            path: null,\n            isLeaf: index === pathSegments.length - 1,\n          };\n          if (newNode.type === 'file') {\n            newNode.content = await readFile(file);\n            newNode.path = file.webkitRelativePath;\n            console.log(newNode.path);\n          }\n          currentLevel.push(newNode);\n          currentLevel = newNode.children;\n        } else {\n          currentLevel = existingNode.children;\n        }\n      }\n    }\n    return folderStructure;\n  };\n\n  const readFile = (file) => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = (event) => resolve(event.target.result);\n      reader.onerror = (event) => reject(event.target.error);\n      reader.readAsText(file);\n    });\n  };\n\n  return (\n    <Button icon={<FolderOutlined />} style={{ margin: '8px' }} onClick={handleUploadProgram}>\n      上传本地项目\n    </Button>\n  );\n};\n\nexport default FileUploader;\n"],"mappings":"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","ignoreList":[]}},"mtime":1716465305650},"{\"assumptions\":{},\"sourceRoot\":\"/home/njucs/bugDetection&Repair/code/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/njucs/bugDetection&Repair/code\",\"filename\":\"/home/njucs/bugDetection&Repair/code/src/FileTree.js\",\"targets\":{\"android\":\"124.0.0\",\"chrome\":\"101.0.0\",\"edge\":\"122.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"107.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/njucs/bugDetection&Repair/code\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _antd = require(\"antd\");\nvar _icons = require(\"@ant-design/icons\");\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n// src/FileTree.js\n\nconst {\n  TreeNode\n} = _antd.Tree;\nconst FileTree = _ref => {\n  let {\n    fileData,\n    onSelectFile\n  } = _ref;\n  const renderTreeNodes = data => {\n    return data.map(_ref2 => {\n      let {\n        title,\n        key,\n        children,\n        type,\n        content,\n        path\n      } = _ref2;\n      return /*#__PURE__*/_react.default.createElement(TreeNode, {\n        key: key,\n        title: title,\n        type: type,\n        content: content,\n        path: path,\n        icon: type === 'file' ? /*#__PURE__*/_react.default.createElement(_icons.FileOutlined, null) : /*#__PURE__*/_react.default.createElement(_icons.FolderOutlined, null),\n        selectable: type === 'file'\n      }, children && renderTreeNodes(children));\n    });\n  };\n  return /*#__PURE__*/_react.default.createElement(_antd.Tree, {\n    showIcon: true,\n    defaultExpandAll: true,\n    onSelect: (selectedKeys, _ref3) => {\n      let {\n        node\n      } = _ref3;\n      return onSelectFile(node);\n    }\n  }, renderTreeNodes(fileData));\n};\nvar _default = exports.default = FileTree;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hbnRkIiwiX2ljb25zIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiVHJlZU5vZGUiLCJUcmVlIiwiRmlsZVRyZWUiLCJfcmVmIiwiZmlsZURhdGEiLCJvblNlbGVjdEZpbGUiLCJyZW5kZXJUcmVlTm9kZXMiLCJkYXRhIiwibWFwIiwiX3JlZjIiLCJ0aXRsZSIsImtleSIsImNoaWxkcmVuIiwidHlwZSIsImNvbnRlbnQiLCJwYXRoIiwiY3JlYXRlRWxlbWVudCIsImljb24iLCJGaWxlT3V0bGluZWQiLCJGb2xkZXJPdXRsaW5lZCIsInNlbGVjdGFibGUiLCJzaG93SWNvbiIsImRlZmF1bHRFeHBhbmRBbGwiLCJvblNlbGVjdCIsInNlbGVjdGVkS2V5cyIsIl9yZWYzIiwibm9kZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvbmp1Y3MvYnVnRGV0ZWN0aW9uJlJlcGFpci9jb2RlL3NyYy8iLCJzb3VyY2VzIjpbIkZpbGVUcmVlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9GaWxlVHJlZS5qc1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFRyZWUgfSBmcm9tICdhbnRkJztcbmltcG9ydCB7IEZpbGVPdXRsaW5lZCwgRm9sZGVyT3V0bGluZWQgfSBmcm9tICdAYW50LWRlc2lnbi9pY29ucyc7XG5cbmNvbnN0IHsgVHJlZU5vZGUgfSA9IFRyZWU7XG5cbmNvbnN0IEZpbGVUcmVlID0gKHsgZmlsZURhdGEsIG9uU2VsZWN0RmlsZSB9KSA9PiB7XG4gIGNvbnN0IHJlbmRlclRyZWVOb2RlcyA9IChkYXRhKSA9PiB7XG4gICAgcmV0dXJuIGRhdGEubWFwKCh7IHRpdGxlLCBrZXksIGNoaWxkcmVuLCB0eXBlLCBjb250ZW50LCBwYXRoIH0pID0+IChcbiAgICAgIDxUcmVlTm9kZVxuICAgICAgICBrZXk9e2tleX1cbiAgICAgICAgdGl0bGU9e3RpdGxlfVxuICAgICAgICB0eXBlPXt0eXBlfVxuICAgICAgICBjb250ZW50PXtjb250ZW50fVxuICAgICAgICBwYXRoPXtwYXRofVxuICAgICAgICBpY29uPXt0eXBlID09PSAnZmlsZScgPyA8RmlsZU91dGxpbmVkIC8+IDogPEZvbGRlck91dGxpbmVkIC8+fVxuICAgICAgICBzZWxlY3RhYmxlPXt0eXBlID09PSAnZmlsZSd9XG4gICAgICA+XG4gICAgICAgIHtjaGlsZHJlbiAmJiByZW5kZXJUcmVlTm9kZXMoY2hpbGRyZW4pfVxuICAgICAgPC9UcmVlTm9kZT5cbiAgICApKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxUcmVlIHNob3dJY29uIGRlZmF1bHRFeHBhbmRBbGwgb25TZWxlY3Q9eyhzZWxlY3RlZEtleXMsIHsgbm9kZSB9KSA9PiBvblNlbGVjdEZpbGUobm9kZSl9PlxuICAgICAge3JlbmRlclRyZWVOb2RlcyhmaWxlRGF0YSl9XG4gICAgPC9UcmVlPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRmlsZVRyZWU7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBLElBQUFBLE1BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLE1BQUEsR0FBQUYsT0FBQTtBQUFpRSxTQUFBRCx1QkFBQUksQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUhqRTs7QUFLQSxNQUFNO0VBQUVHO0FBQVMsQ0FBQyxHQUFHQyxVQUFJO0FBRXpCLE1BQU1DLFFBQVEsR0FBR0MsSUFBQSxJQUFnQztFQUFBLElBQS9CO0lBQUVDLFFBQVE7SUFBRUM7RUFBYSxDQUFDLEdBQUFGLElBQUE7RUFDMUMsTUFBTUcsZUFBZSxHQUFJQyxJQUFJLElBQUs7SUFDaEMsT0FBT0EsSUFBSSxDQUFDQyxHQUFHLENBQUNDLEtBQUE7TUFBQSxJQUFDO1FBQUVDLEtBQUs7UUFBRUMsR0FBRztRQUFFQyxRQUFRO1FBQUVDLElBQUk7UUFBRUMsT0FBTztRQUFFQztNQUFLLENBQUMsR0FBQU4sS0FBQTtNQUFBLG9CQUM1RGpCLE1BQUEsQ0FBQU8sT0FBQSxDQUFBaUIsYUFBQSxDQUFDaEIsUUFBUTtRQUNQVyxHQUFHLEVBQUVBLEdBQUk7UUFDVEQsS0FBSyxFQUFFQSxLQUFNO1FBQ2JHLElBQUksRUFBRUEsSUFBSztRQUNYQyxPQUFPLEVBQUVBLE9BQVE7UUFDakJDLElBQUksRUFBRUEsSUFBSztRQUNYRSxJQUFJLEVBQUVKLElBQUksS0FBSyxNQUFNLGdCQUFHckIsTUFBQSxDQUFBTyxPQUFBLENBQUFpQixhQUFBLENBQUNwQixNQUFBLENBQUFzQixZQUFZLE1BQUUsQ0FBQyxnQkFBRzFCLE1BQUEsQ0FBQU8sT0FBQSxDQUFBaUIsYUFBQSxDQUFDcEIsTUFBQSxDQUFBdUIsY0FBYyxNQUFFLENBQUU7UUFDOURDLFVBQVUsRUFBRVAsSUFBSSxLQUFLO01BQU8sR0FFM0JELFFBQVEsSUFBSU4sZUFBZSxDQUFDTSxRQUFRLENBQzdCLENBQUM7SUFBQSxDQUNaLENBQUM7RUFDSixDQUFDO0VBRUQsb0JBQ0VwQixNQUFBLENBQUFPLE9BQUEsQ0FBQWlCLGFBQUEsQ0FBQ3JCLEtBQUEsQ0FBQU0sSUFBSTtJQUFDb0IsUUFBUTtJQUFDQyxnQkFBZ0I7SUFBQ0MsUUFBUSxFQUFFQSxDQUFDQyxZQUFZLEVBQUFDLEtBQUE7TUFBQSxJQUFFO1FBQUVDO01BQUssQ0FBQyxHQUFBRCxLQUFBO01BQUEsT0FBS3BCLFlBQVksQ0FBQ3FCLElBQUksQ0FBQztJQUFBO0VBQUMsR0FDdEZwQixlQUFlLENBQUNGLFFBQVEsQ0FDckIsQ0FBQztBQUVYLENBQUM7QUFBQyxJQUFBdUIsUUFBQSxHQUFBQyxPQUFBLENBQUE3QixPQUFBLEdBRWFHLFFBQVEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_react","_interopRequireDefault","require","_antd","_icons","e","__esModule","default","TreeNode","Tree","FileTree","_ref","fileData","onSelectFile","renderTreeNodes","data","map","_ref2","title","key","children","type","content","path","createElement","icon","FileOutlined","FolderOutlined","selectable","showIcon","defaultExpandAll","onSelect","selectedKeys","_ref3","node","_default","exports"],"sourceRoot":"/home/njucs/bugDetection&Repair/code/src/","sources":["FileTree.js"],"sourcesContent":["// src/FileTree.js\nimport React from 'react';\nimport { Tree } from 'antd';\nimport { FileOutlined, FolderOutlined } from '@ant-design/icons';\n\nconst { TreeNode } = Tree;\n\nconst FileTree = ({ fileData, onSelectFile }) => {\n  const renderTreeNodes = (data) => {\n    return data.map(({ title, key, children, type, content, path }) => (\n      <TreeNode\n        key={key}\n        title={title}\n        type={type}\n        content={content}\n        path={path}\n        icon={type === 'file' ? <FileOutlined /> : <FolderOutlined />}\n        selectable={type === 'file'}\n      >\n        {children && renderTreeNodes(children)}\n      </TreeNode>\n    ));\n  };\n\n  return (\n    <Tree showIcon defaultExpandAll onSelect={(selectedKeys, { node }) => onSelectFile(node)}>\n      {renderTreeNodes(fileData)}\n    </Tree>\n  );\n};\n\nexport default FileTree;\n"],"mappings":";;;;;;AACA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AACA,IAAAE,MAAA,GAAAF,OAAA;AAAiE,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAHjE;;AAKA,MAAM;EAAEG;AAAS,CAAC,GAAGC,UAAI;AAEzB,MAAMC,QAAQ,GAAGC,IAAA,IAAgC;EAAA,IAA/B;IAAEC,QAAQ;IAAEC;EAAa,CAAC,GAAAF,IAAA;EAC1C,MAAMG,eAAe,GAAIC,IAAI,IAAK;IAChC,OAAOA,IAAI,CAACC,GAAG,CAACC,KAAA;MAAA,IAAC;QAAEC,KAAK;QAAEC,GAAG;QAAEC,QAAQ;QAAEC,IAAI;QAAEC,OAAO;QAAEC;MAAK,CAAC,GAAAN,KAAA;MAAA,oBAC5DjB,MAAA,CAAAO,OAAA,CAAAiB,aAAA,CAAChB,QAAQ;QACPW,GAAG,EAAEA,GAAI;QACTD,KAAK,EAAEA,KAAM;QACbG,IAAI,EAAEA,IAAK;QACXC,OAAO,EAAEA,OAAQ;QACjBC,IAAI,EAAEA,IAAK;QACXE,IAAI,EAAEJ,IAAI,KAAK,MAAM,gBAAGrB,MAAA,CAAAO,OAAA,CAAAiB,aAAA,CAACpB,MAAA,CAAAsB,YAAY,MAAE,CAAC,gBAAG1B,MAAA,CAAAO,OAAA,CAAAiB,aAAA,CAACpB,MAAA,CAAAuB,cAAc,MAAE,CAAE;QAC9DC,UAAU,EAAEP,IAAI,KAAK;MAAO,GAE3BD,QAAQ,IAAIN,eAAe,CAACM,QAAQ,CAC7B,CAAC;IAAA,CACZ,CAAC;EACJ,CAAC;EAED,oBACEpB,MAAA,CAAAO,OAAA,CAAAiB,aAAA,CAACrB,KAAA,CAAAM,IAAI;IAACoB,QAAQ;IAACC,gBAAgB;IAACC,QAAQ,EAAEA,CAACC,YAAY,EAAAC,KAAA;MAAA,IAAE;QAAEC;MAAK,CAAC,GAAAD,KAAA;MAAA,OAAKpB,YAAY,CAACqB,IAAI,CAAC;IAAA;EAAC,GACtFpB,eAAe,CAACF,QAAQ,CACrB,CAAC;AAEX,CAAC;AAAC,IAAAuB,QAAA,GAAAC,OAAA,CAAA7B,OAAA,GAEaG,QAAQ","ignoreList":[]}},"mtime":1716465305650},"{\"assumptions\":{},\"sourceRoot\":\"/home/njucs/bugDetection&Repair/code/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/njucs/bugDetection&Repair/code\",\"filename\":\"/home/njucs/bugDetection&Repair/code/src/FileEditorWithBugTable.js\",\"targets\":{\"android\":\"124.0.0\",\"chrome\":\"101.0.0\",\"edge\":\"122.0.0\",\"firefox\":\"115.0.0\",\"ios\":\"12.2.0\",\"opera\":\"107.0.0\",\"opera_mobile\":\"80.0.0\",\"safari\":\"15.6.0\",\"samsung\":\"23.0.0\"},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/njucs/bugDetection&Repair/code\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"pragma\":\"React.createElement\",\"pragmaFrag\":\"React.Fragment\",\"runtime\":\"classic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.6:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _antd = require(\"antd\");\nvar _react2 = _interopRequireDefault(require(\"@monaco-editor/react\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n// src/FileEditorWithBugTable.js\n\nconst FileEditorWithBugTable = _ref => {\n  let {\n    selectedFile,\n    onBugDetection,\n    tableData,\n    onPatchGeneration\n  } = _ref;\n  const editorRef = (0, _react.useRef)(null);\n  const [tableHeight, setTableHeight] = (0, _react.useState)(200);\n  const [isResizing, setIsResizing] = (0, _react.useState)(false);\n  const [sortedInfo, setSortedInfo] = (0, _react.useState)({});\n  const [showDialog, setShowDialog] = (0, _react.useState)(false);\n  const [filted, setFilted] = (0, _react.useState)(false);\n  const [filtedData, setFiltedData] = (0, _react.useState)(null);\n  const [bugLabel, setBugLabel] = (0, _react.useState)(null);\n  const [bugID, setBugID] = (0, _react.useState)(null);\n  const handleChange = (pagination, filters, sorter) => {\n    setSortedInfo(sorter);\n  };\n  const handleEditorDidMount = (editor, monaco) => {\n    editorRef.current = editor;\n  };\n  const handleCellClick = location => {\n    const [lineNumber, colNumber] = location.match(/\\d+/g).map(Number);\n    if (editorRef.current) {\n      editorRef.current.revealLineInCenter(lineNumber);\n      editorRef.current.setPosition({\n        lineNumber,\n        column: colNumber\n      });\n      editorRef.current.focus();\n    }\n  };\n  const handleIDClick = id => {\n    if (filted === true) {\n      console.log(id);\n      console.log(bugLabel);\n      onPatchGeneration(bugLabel, id);\n      setFilted(false);\n    }\n  };\n  const startResizing = e => {\n    setIsResizing(true);\n    document.body.style.cursor = 'ns-resize';\n  };\n  const stopResizing = () => {\n    setIsResizing(false);\n    document.body.style.cursor = 'default';\n  };\n  const resizeTable = e => {\n    if (isResizing) {\n      const newHeight = window.innerHeight - e.clientY;\n      setTableHeight(newHeight);\n    }\n  };\n  _react.default.useEffect(() => {\n    window.addEventListener('mousemove', resizeTable);\n    window.addEventListener('mouseup', stopResizing);\n    return () => {\n      window.removeEventListener('mousemove', resizeTable);\n      window.removeEventListener('mouseup', stopResizing);\n    };\n  }, [isResizing]);\n  const columns = [{\n    title: 'Id',\n    dataIndex: 'id',\n    key: 'id',\n    onCell: record => ({\n      onClick: () => handleIDClick(record.id)\n    })\n  }, {\n    title: 'Severity',\n    dataIndex: 'severity',\n    key: 'severity',\n    sorter: (a, b) => a.severity.localeCompare(b.severity),\n    sortOrder: sortedInfo.columnKey === 'severity' && sortedInfo.order\n  }, {\n    title: 'Type',\n    dataIndex: 'type',\n    key: 'type'\n  }, {\n    title: 'Qualifier',\n    dataIndex: 'qualifier',\n    key: 'qualifier'\n  }, {\n    title: 'Location',\n    dataIndex: 'location',\n    key: 'location',\n    onCell: record => ({\n      onClick: () => handleCellClick(record.location)\n    })\n  }];\n  const handleBugDetectionClick = () => {\n    if (editorRef.current) {\n      const editorValue = editorRef.current.getValue();\n      onBugDetection(editorValue);\n    } else {\n      _antd.message.error('Editor is not ready');\n    }\n  };\n  const handle1 = () => {\n    setShowDialog(false);\n    setFilted(true);\n    setBugLabel('INDEX_ERROR'); // 数组越界\n    let flag = 0;\n    let newDataList = tableData.map(item => {\n      if (item.type === 'INDEX_ERROR') {\n        flag = 1;\n        return item;\n      }\n    });\n    if (flag === 0) {\n      newDataList = [];\n    }\n    setFiltedData(newDataList);\n  };\n  const handle2 = () => {\n    setShowDialog(false);\n    setFilted(true);\n    setBugLabel('MEMORY_LEAK'); // 内存泄漏\n    let flag = 0;\n    let newDataList = tableData.map(item => {\n      if (item.type === 'MEMORY_LEAK') {\n        flag = 1;\n        return item;\n      }\n    });\n    if (flag === 0) {\n      newDataList = [];\n    }\n    setFiltedData(newDataList);\n    console.log(newDataList);\n  };\n  const handlePatchGenerationClick = () => {\n    setShowDialog(true);\n  };\n  const dialogStyles = {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%',\n    background: 'rgba(0, 0, 0, 0.5)',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    zIndex: 9999\n  };\n  const dialogContentStyles = {\n    background: 'white',\n    padding: '20px',\n    borderRadius: '8px',\n    textAlign: 'center'\n  };\n  const dialogButtonStyles = {\n    margin: '0 10px'\n  };\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100vh'\n    }\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      marginBottom: '10px'\n    }\n  }, /*#__PURE__*/_react.default.createElement(\"p\", {\n    style: {\n      marginRight: '10px'\n    }\n  }, selectedFile.title), /*#__PURE__*/_react.default.createElement(_antd.Button, {\n    onClick: handleBugDetectionClick\n  }, \"\\u6F0F\\u6D1E\\u68C0\\u6D4B\"), /*#__PURE__*/_react.default.createElement(_antd.Button, {\n    onClick: handlePatchGenerationClick\n  }, \"\\u8865\\u4E01\\u4FEE\\u590D\"), showDialog && /*#__PURE__*/_react.default.createElement(\"div\", {\n    style: dialogStyles\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    style: dialogContentStyles\n  }, /*#__PURE__*/_react.default.createElement(\"p\", null, \"\\u9009\\u62E9\\u6F0F\\u6D1E\\u7C7B\\u522B\"), /*#__PURE__*/_react.default.createElement(\"button\", {\n    onClick: handle1,\n    style: dialogButtonStyles\n  }, \"\\u6570\\u7EC4\\u8D8A\\u754C\"), /*#__PURE__*/_react.default.createElement(\"button\", {\n    onClick: handle2,\n    style: dialogButtonStyles\n  }, \"\\u5185\\u5B58\\u6CC4\\u6F0F\")))), /*#__PURE__*/_react.default.createElement(_react2.default, {\n    height: \"calc(100vh - \".concat(tableHeight + 50, \"px)\"),\n    defaultLanguage: \"cpp\",\n    value: selectedFile.content,\n    onMount: handleEditorDidMount\n  }), /*#__PURE__*/_react.default.createElement(\"div\", {\n    style: {\n      height: \"\".concat(tableHeight, \"px\"),\n      overflow: 'auto',\n      marginTop: '20px',\n      position: 'relative'\n    }\n  }, /*#__PURE__*/_react.default.createElement(_antd.Table, {\n    columns: columns,\n    dataSource: filted ? filtedData : tableData,\n    onChange: handleChange,\n    pagination: false\n  }), /*#__PURE__*/_react.default.createElement(\"div\", {\n    style: {\n      height: '5px',\n      backgroundColor: 'gray',\n      cursor: 'ns-resize',\n      position: 'absolute',\n      top: 0,\n      width: '100%'\n    },\n    onMouseDown: startResizing\n  })));\n};\nvar _default = exports.default = FileEditorWithBugTable;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfYW50ZCIsIl9yZWFjdDIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwiV2Vha01hcCIsInIiLCJ0IiwiaGFzIiwiZ2V0IiwibiIsIl9fcHJvdG9fXyIsImEiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpIiwic2V0IiwiRmlsZUVkaXRvcldpdGhCdWdUYWJsZSIsIl9yZWYiLCJzZWxlY3RlZEZpbGUiLCJvbkJ1Z0RldGVjdGlvbiIsInRhYmxlRGF0YSIsIm9uUGF0Y2hHZW5lcmF0aW9uIiwiZWRpdG9yUmVmIiwidXNlUmVmIiwidGFibGVIZWlnaHQiLCJzZXRUYWJsZUhlaWdodCIsInVzZVN0YXRlIiwiaXNSZXNpemluZyIsInNldElzUmVzaXppbmciLCJzb3J0ZWRJbmZvIiwic2V0U29ydGVkSW5mbyIsInNob3dEaWFsb2ciLCJzZXRTaG93RGlhbG9nIiwiZmlsdGVkIiwic2V0RmlsdGVkIiwiZmlsdGVkRGF0YSIsInNldEZpbHRlZERhdGEiLCJidWdMYWJlbCIsInNldEJ1Z0xhYmVsIiwiYnVnSUQiLCJzZXRCdWdJRCIsImhhbmRsZUNoYW5nZSIsInBhZ2luYXRpb24iLCJmaWx0ZXJzIiwic29ydGVyIiwiaGFuZGxlRWRpdG9yRGlkTW91bnQiLCJlZGl0b3IiLCJtb25hY28iLCJjdXJyZW50IiwiaGFuZGxlQ2VsbENsaWNrIiwibG9jYXRpb24iLCJsaW5lTnVtYmVyIiwiY29sTnVtYmVyIiwibWF0Y2giLCJtYXAiLCJOdW1iZXIiLCJyZXZlYWxMaW5lSW5DZW50ZXIiLCJzZXRQb3NpdGlvbiIsImNvbHVtbiIsImZvY3VzIiwiaGFuZGxlSURDbGljayIsImlkIiwiY29uc29sZSIsImxvZyIsInN0YXJ0UmVzaXppbmciLCJkb2N1bWVudCIsImJvZHkiLCJzdHlsZSIsImN1cnNvciIsInN0b3BSZXNpemluZyIsInJlc2l6ZVRhYmxlIiwibmV3SGVpZ2h0Iiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJjbGllbnRZIiwiUmVhY3QiLCJ1c2VFZmZlY3QiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNvbHVtbnMiLCJ0aXRsZSIsImRhdGFJbmRleCIsImtleSIsIm9uQ2VsbCIsInJlY29yZCIsIm9uQ2xpY2siLCJiIiwic2V2ZXJpdHkiLCJsb2NhbGVDb21wYXJlIiwic29ydE9yZGVyIiwiY29sdW1uS2V5Iiwib3JkZXIiLCJoYW5kbGVCdWdEZXRlY3Rpb25DbGljayIsImVkaXRvclZhbHVlIiwiZ2V0VmFsdWUiLCJtZXNzYWdlIiwiZXJyb3IiLCJoYW5kbGUxIiwiZmxhZyIsIm5ld0RhdGFMaXN0IiwiaXRlbSIsInR5cGUiLCJoYW5kbGUyIiwiaGFuZGxlUGF0Y2hHZW5lcmF0aW9uQ2xpY2siLCJkaWFsb2dTdHlsZXMiLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJ3aWR0aCIsImhlaWdodCIsImJhY2tncm91bmQiLCJkaXNwbGF5IiwianVzdGlmeUNvbnRlbnQiLCJhbGlnbkl0ZW1zIiwiekluZGV4IiwiZGlhbG9nQ29udGVudFN0eWxlcyIsInBhZGRpbmciLCJib3JkZXJSYWRpdXMiLCJ0ZXh0QWxpZ24iLCJkaWFsb2dCdXR0b25TdHlsZXMiLCJtYXJnaW4iLCJjcmVhdGVFbGVtZW50IiwiZmxleERpcmVjdGlvbiIsIm1hcmdpbkJvdHRvbSIsIm1hcmdpblJpZ2h0IiwiQnV0dG9uIiwiY29uY2F0IiwiZGVmYXVsdExhbmd1YWdlIiwidmFsdWUiLCJjb250ZW50Iiwib25Nb3VudCIsIm92ZXJmbG93IiwibWFyZ2luVG9wIiwiVGFibGUiLCJkYXRhU291cmNlIiwib25DaGFuZ2UiLCJiYWNrZ3JvdW5kQ29sb3IiLCJvbk1vdXNlRG93biIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvbmp1Y3MvYnVnRGV0ZWN0aW9uJlJlcGFpci9jb2RlL3NyYy8iLCJzb3VyY2VzIjpbIkZpbGVFZGl0b3JXaXRoQnVnVGFibGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL0ZpbGVFZGl0b3JXaXRoQnVnVGFibGUuanNcbmltcG9ydCBSZWFjdCwgeyB1c2VSZWYsIHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBCdXR0b24sIFRhYmxlLCBtZXNzYWdlIH0gZnJvbSAnYW50ZCc7XG5pbXBvcnQgRWRpdG9yIGZyb20gJ0Btb25hY28tZWRpdG9yL3JlYWN0JztcblxuY29uc3QgRmlsZUVkaXRvcldpdGhCdWdUYWJsZSA9ICh7IHNlbGVjdGVkRmlsZSwgb25CdWdEZXRlY3Rpb24gLHRhYmxlRGF0YSwgb25QYXRjaEdlbmVyYXRpb24gfSkgPT4ge1xuICBjb25zdCBlZGl0b3JSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IFt0YWJsZUhlaWdodCwgc2V0VGFibGVIZWlnaHRdID0gdXNlU3RhdGUoMjAwKTtcbiAgY29uc3QgW2lzUmVzaXppbmcsIHNldElzUmVzaXppbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc29ydGVkSW5mbywgc2V0U29ydGVkSW5mb10gPSB1c2VTdGF0ZSh7fSk7XG4gIGNvbnN0IFtzaG93RGlhbG9nLCBzZXRTaG93RGlhbG9nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2ZpbHRlZCwgc2V0RmlsdGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2ZpbHRlZERhdGEsIHNldEZpbHRlZERhdGFdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtidWdMYWJlbCwgc2V0QnVnTGFiZWxdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtidWdJRCwgc2V0QnVnSURdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IGhhbmRsZUNoYW5nZSA9IChwYWdpbmF0aW9uLCBmaWx0ZXJzLCBzb3J0ZXIpID0+IHtcbiAgICBzZXRTb3J0ZWRJbmZvKHNvcnRlcik7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUVkaXRvckRpZE1vdW50ID0gKGVkaXRvciwgbW9uYWNvKSA9PiB7XG4gICAgZWRpdG9yUmVmLmN1cnJlbnQgPSBlZGl0b3I7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ2VsbENsaWNrID0gKGxvY2F0aW9uKSA9PiB7XG4gICAgY29uc3QgW2xpbmVOdW1iZXIsIGNvbE51bWJlcl0gPSBsb2NhdGlvbi5tYXRjaCgvXFxkKy9nKS5tYXAoTnVtYmVyKTtcbiAgICBpZiAoZWRpdG9yUmVmLmN1cnJlbnQpIHtcbiAgICAgIGVkaXRvclJlZi5jdXJyZW50LnJldmVhbExpbmVJbkNlbnRlcihsaW5lTnVtYmVyKTtcbiAgICAgIGVkaXRvclJlZi5jdXJyZW50LnNldFBvc2l0aW9uKHsgbGluZU51bWJlciwgY29sdW1uOiBjb2xOdW1iZXIgfSk7XG4gICAgICBlZGl0b3JSZWYuY3VycmVudC5mb2N1cygpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVJRENsaWNrID0gKGlkKSA9PiB7XG4gICAgaWYgKGZpbHRlZCA9PT0gdHJ1ZSkge1xuICAgICAgY29uc29sZS5sb2coaWQpO1xuICAgICAgY29uc29sZS5sb2coYnVnTGFiZWwpO1xuICAgICAgb25QYXRjaEdlbmVyYXRpb24oYnVnTGFiZWwsIGlkKTtcbiAgICAgIHNldEZpbHRlZChmYWxzZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBzdGFydFJlc2l6aW5nID0gKGUpID0+IHtcbiAgICBzZXRJc1Jlc2l6aW5nKHRydWUpO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gJ25zLXJlc2l6ZSc7XG4gIH07XG5cbiAgY29uc3Qgc3RvcFJlc2l6aW5nID0gKCkgPT4ge1xuICAgIHNldElzUmVzaXppbmcoZmFsc2UpO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnO1xuICB9O1xuXG4gIGNvbnN0IHJlc2l6ZVRhYmxlID0gKGUpID0+IHtcbiAgICBpZiAoaXNSZXNpemluZykge1xuICAgICAgY29uc3QgbmV3SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IC0gZS5jbGllbnRZO1xuICAgICAgc2V0VGFibGVIZWlnaHQobmV3SGVpZ2h0KTtcbiAgICB9XG4gIH07XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgcmVzaXplVGFibGUpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgc3RvcFJlc2l6aW5nKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHJlc2l6ZVRhYmxlKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgc3RvcFJlc2l6aW5nKTtcbiAgICB9O1xuICB9LCBbaXNSZXNpemluZ10pO1xuXG4gIGNvbnN0IGNvbHVtbnMgPSBbXG4gICAge1xuICAgICAgdGl0bGU6ICdJZCcsXG4gICAgICBkYXRhSW5kZXg6ICdpZCcsXG4gICAgICBrZXk6ICdpZCcsXG4gICAgICBvbkNlbGw6IChyZWNvcmQpID0+ICh7XG4gICAgICAgIG9uQ2xpY2s6ICgpID0+IGhhbmRsZUlEQ2xpY2socmVjb3JkLmlkKSxcbiAgICAgIH0pLFxuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICdTZXZlcml0eScsXG4gICAgICBkYXRhSW5kZXg6ICdzZXZlcml0eScsXG4gICAgICBrZXk6ICdzZXZlcml0eScsXG4gICAgICBzb3J0ZXI6IChhLCBiKSA9PiBhLnNldmVyaXR5LmxvY2FsZUNvbXBhcmUoYi5zZXZlcml0eSksXG4gICAgICBzb3J0T3JkZXI6IHNvcnRlZEluZm8uY29sdW1uS2V5ID09PSAnc2V2ZXJpdHknICYmIHNvcnRlZEluZm8ub3JkZXJcbiAgICB9LFxuICAgIHtcbiAgICAgIHRpdGxlOiAnVHlwZScsXG4gICAgICBkYXRhSW5kZXg6ICd0eXBlJyxcbiAgICAgIGtleTogJ3R5cGUnLFxuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICdRdWFsaWZpZXInLFxuICAgICAgZGF0YUluZGV4OiAncXVhbGlmaWVyJyxcbiAgICAgIGtleTogJ3F1YWxpZmllcicsXG4gICAgfSxcbiAgICB7XG4gICAgICB0aXRsZTogJ0xvY2F0aW9uJyxcbiAgICAgIGRhdGFJbmRleDogJ2xvY2F0aW9uJyxcbiAgICAgIGtleTogJ2xvY2F0aW9uJyxcbiAgICAgIG9uQ2VsbDogKHJlY29yZCkgPT4gKHtcbiAgICAgICAgb25DbGljazogKCkgPT4gaGFuZGxlQ2VsbENsaWNrKHJlY29yZC5sb2NhdGlvbiksXG4gICAgICB9KSxcbiAgICB9LFxuICBdO1xuICBjb25zdCBoYW5kbGVCdWdEZXRlY3Rpb25DbGljayA9ICgpID0+IHtcbiAgICBpZiAoZWRpdG9yUmVmLmN1cnJlbnQpIHtcbiAgICAgIGNvbnN0IGVkaXRvclZhbHVlID0gZWRpdG9yUmVmLmN1cnJlbnQuZ2V0VmFsdWUoKTtcbiAgICAgIG9uQnVnRGV0ZWN0aW9uKGVkaXRvclZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWVzc2FnZS5lcnJvcignRWRpdG9yIGlzIG5vdCByZWFkeScpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaGFuZGxlMSA9ICgpID0+IHtcbiAgICBzZXRTaG93RGlhbG9nKGZhbHNlKTtcbiAgICBzZXRGaWx0ZWQodHJ1ZSk7XG4gICAgc2V0QnVnTGFiZWwoJ0lOREVYX0VSUk9SJyk7IC8vIOaVsOe7hOi2iueVjFxuICAgIGxldCBmbGFnID0gMFxuICAgIGxldCBuZXdEYXRhTGlzdCA9IHRhYmxlRGF0YS5tYXAoaXRlbSA9PiB7XG4gICAgICBpZiAoaXRlbS50eXBlID09PSAnSU5ERVhfRVJST1InKSB7XG4gICAgICAgIGZsYWcgPTE7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChmbGFnID09PSAwKSB7XG4gICAgICBuZXdEYXRhTGlzdCA9IFtdO1xuICAgIH1cbiAgICBzZXRGaWx0ZWREYXRhKG5ld0RhdGFMaXN0KTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlMiA9ICgpID0+IHtcbiAgICBzZXRTaG93RGlhbG9nKGZhbHNlKTtcbiAgICBzZXRGaWx0ZWQodHJ1ZSk7XG4gICAgc2V0QnVnTGFiZWwoJ01FTU9SWV9MRUFLJyk7IC8vIOWGheWtmOazhOa8j1xuICAgIGxldCBmbGFnID0gMDtcbiAgICBsZXQgbmV3RGF0YUxpc3QgPSB0YWJsZURhdGEubWFwKGl0ZW0gPT4ge1xuICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ01FTU9SWV9MRUFLJykge1xuICAgICAgICBmbGFnID0xO1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoZmxhZyA9PT0gMCkge1xuICAgICAgbmV3RGF0YUxpc3QgPSBbXTtcbiAgICB9XG4gICAgc2V0RmlsdGVkRGF0YShuZXdEYXRhTGlzdCk7XG4gICAgY29uc29sZS5sb2cobmV3RGF0YUxpc3QpO1xuICB9O1xuICBjb25zdCBoYW5kbGVQYXRjaEdlbmVyYXRpb25DbGljayA9ICgpID0+IHtcbiAgICBzZXRTaG93RGlhbG9nKHRydWUpO1xuICB9O1xuICBjb25zdCBkaWFsb2dTdHlsZXMgPSB7XG4gICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgdG9wOiAwLFxuICAgIGxlZnQ6IDAsXG4gICAgd2lkdGg6ICcxMDAlJyxcbiAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICBiYWNrZ3JvdW5kOiAncmdiYSgwLCAwLCAwLCAwLjUpJyxcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgIHpJbmRleDogOTk5OSxcbiAgfTtcblxuICBjb25zdCBkaWFsb2dDb250ZW50U3R5bGVzID0ge1xuICAgIGJhY2tncm91bmQ6ICd3aGl0ZScsXG4gICAgcGFkZGluZzogJzIwcHgnLFxuICAgIGJvcmRlclJhZGl1czogJzhweCcsXG4gICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgfTtcblxuICBjb25zdCBkaWFsb2dCdXR0b25TdHlsZXMgPSB7XG4gICAgbWFyZ2luOiAnMCAxMHB4JyxcbiAgfTtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsIGhlaWdodDogJzEwMHZoJyB9fT5cbiAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgbWFyZ2luQm90dG9tOiAnMTBweCcgfX0+XG4gICAgICAgIDxwIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiAnMTBweCcgfX0+e3NlbGVjdGVkRmlsZS50aXRsZX08L3A+XG4gICAgICAgIDxCdXR0b24gb25DbGljaz17aGFuZGxlQnVnRGV0ZWN0aW9uQ2xpY2t9Pua8j+a0nuajgOa1izwvQnV0dG9uPlxuICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e2hhbmRsZVBhdGNoR2VuZXJhdGlvbkNsaWNrfT7ooaXkuIHkv67lpI08L0J1dHRvbj5cbiAgICAgICAge3Nob3dEaWFsb2cgJiYgKFxuICAgICAgICAgIDxkaXYgc3R5bGU9e2RpYWxvZ1N0eWxlc30+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXtkaWFsb2dDb250ZW50U3R5bGVzfT5cbiAgICAgICAgICAgICAgPHA+6YCJ5oup5ryP5rSe57G75YirPC9wPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZTF9IHN0eWxlPXtkaWFsb2dCdXR0b25TdHlsZXN9PuaVsOe7hOi2iueVjDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZTJ9IHN0eWxlPXtkaWFsb2dCdXR0b25TdHlsZXN9PuWGheWtmOazhOa8jzwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxFZGl0b3JcbiAgICAgICAgaGVpZ2h0PXtgY2FsYygxMDB2aCAtICR7dGFibGVIZWlnaHQgKyA1MH1weClgfVxuICAgICAgICBkZWZhdWx0TGFuZ3VhZ2U9XCJjcHBcIlxuICAgICAgICB2YWx1ZT17c2VsZWN0ZWRGaWxlLmNvbnRlbnR9XG4gICAgICAgIG9uTW91bnQ9e2hhbmRsZUVkaXRvckRpZE1vdW50fVxuICAgICAgLz5cbiAgICAgIDxkaXYgc3R5bGU9e3sgaGVpZ2h0OiBgJHt0YWJsZUhlaWdodH1weGAsIG92ZXJmbG93OiAnYXV0bycsIG1hcmdpblRvcDogJzIwcHgnLCBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fT5cbiAgICAgICAgPFRhYmxlIGNvbHVtbnM9e2NvbHVtbnN9IGRhdGFTb3VyY2U9e2ZpbHRlZCA/IGZpbHRlZERhdGEgOiB0YWJsZURhdGF9IG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9IHBhZ2luYXRpb249e2ZhbHNlfSAvPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIGhlaWdodDogJzVweCcsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdncmF5JyxcbiAgICAgICAgICAgIGN1cnNvcjogJ25zLXJlc2l6ZScsXG4gICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgfX1cbiAgICAgICAgICBvbk1vdXNlRG93bj17c3RhcnRSZXNpemluZ31cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRmlsZUVkaXRvcldpdGhCdWdUYWJsZTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0EsSUFBQUEsTUFBQSxHQUFBQyx1QkFBQSxD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","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_antd","_react2","_interopRequireDefault","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","FileEditorWithBugTable","_ref","selectedFile","onBugDetection","tableData","onPatchGeneration","editorRef","useRef","tableHeight","setTableHeight","useState","isResizing","setIsResizing","sortedInfo","setSortedInfo","showDialog","setShowDialog","filted","setFilted","filtedData","setFiltedData","bugLabel","setBugLabel","bugID","setBugID","handleChange","pagination","filters","sorter","handleEditorDidMount","editor","monaco","current","handleCellClick","location","lineNumber","colNumber","match","map","Number","revealLineInCenter","setPosition","column","focus","handleIDClick","id","console","log","startResizing","document","body","style","cursor","stopResizing","resizeTable","newHeight","window","innerHeight","clientY","React","useEffect","addEventListener","removeEventListener","columns","title","dataIndex","key","onCell","record","onClick","b","severity","localeCompare","sortOrder","columnKey","order","handleBugDetectionClick","editorValue","getValue","message","error","handle1","flag","newDataList","item","type","handle2","handlePatchGenerationClick","dialogStyles","position","top","left","width","height","background","display","justifyContent","alignItems","zIndex","dialogContentStyles","padding","borderRadius","textAlign","dialogButtonStyles","margin","createElement","flexDirection","marginBottom","marginRight","Button","concat","defaultLanguage","value","content","onMount","overflow","marginTop","Table","dataSource","onChange","backgroundColor","onMouseDown","_default","exports"],"sourceRoot":"/home/njucs/bugDetection&Repair/code/src/","sources":["FileEditorWithBugTable.js"],"sourcesContent":["// src/FileEditorWithBugTable.js\nimport React, { useRef, useState, useEffect } from 'react';\nimport { Button, Table, message } from 'antd';\nimport Editor from '@monaco-editor/react';\n\nconst FileEditorWithBugTable = ({ selectedFile, onBugDetection ,tableData, onPatchGeneration }) => {\n  const editorRef = useRef(null);\n  const [tableHeight, setTableHeight] = useState(200);\n  const [isResizing, setIsResizing] = useState(false);\n  const [sortedInfo, setSortedInfo] = useState({});\n  const [showDialog, setShowDialog] = useState(false);\n  const [filted, setFilted] = useState(false);\n  const [filtedData, setFiltedData] = useState(null);\n  const [bugLabel, setBugLabel] = useState(null);\n  const [bugID, setBugID] = useState(null);\n  const handleChange = (pagination, filters, sorter) => {\n    setSortedInfo(sorter);\n  };\n  const handleEditorDidMount = (editor, monaco) => {\n    editorRef.current = editor;\n  };\n\n  const handleCellClick = (location) => {\n    const [lineNumber, colNumber] = location.match(/\\d+/g).map(Number);\n    if (editorRef.current) {\n      editorRef.current.revealLineInCenter(lineNumber);\n      editorRef.current.setPosition({ lineNumber, column: colNumber });\n      editorRef.current.focus();\n    }\n  };\n\n  const handleIDClick = (id) => {\n    if (filted === true) {\n      console.log(id);\n      console.log(bugLabel);\n      onPatchGeneration(bugLabel, id);\n      setFilted(false);\n    }\n  };\n  const startResizing = (e) => {\n    setIsResizing(true);\n    document.body.style.cursor = 'ns-resize';\n  };\n\n  const stopResizing = () => {\n    setIsResizing(false);\n    document.body.style.cursor = 'default';\n  };\n\n  const resizeTable = (e) => {\n    if (isResizing) {\n      const newHeight = window.innerHeight - e.clientY;\n      setTableHeight(newHeight);\n    }\n  };\n\n  React.useEffect(() => {\n    window.addEventListener('mousemove', resizeTable);\n    window.addEventListener('mouseup', stopResizing);\n    return () => {\n      window.removeEventListener('mousemove', resizeTable);\n      window.removeEventListener('mouseup', stopResizing);\n    };\n  }, [isResizing]);\n\n  const columns = [\n    {\n      title: 'Id',\n      dataIndex: 'id',\n      key: 'id',\n      onCell: (record) => ({\n        onClick: () => handleIDClick(record.id),\n      }),\n    },\n    {\n      title: 'Severity',\n      dataIndex: 'severity',\n      key: 'severity',\n      sorter: (a, b) => a.severity.localeCompare(b.severity),\n      sortOrder: sortedInfo.columnKey === 'severity' && sortedInfo.order\n    },\n    {\n      title: 'Type',\n      dataIndex: 'type',\n      key: 'type',\n    },\n    {\n      title: 'Qualifier',\n      dataIndex: 'qualifier',\n      key: 'qualifier',\n    },\n    {\n      title: 'Location',\n      dataIndex: 'location',\n      key: 'location',\n      onCell: (record) => ({\n        onClick: () => handleCellClick(record.location),\n      }),\n    },\n  ];\n  const handleBugDetectionClick = () => {\n    if (editorRef.current) {\n      const editorValue = editorRef.current.getValue();\n      onBugDetection(editorValue);\n    } else {\n      message.error('Editor is not ready');\n    }\n  };\n  const handle1 = () => {\n    setShowDialog(false);\n    setFilted(true);\n    setBugLabel('INDEX_ERROR'); // 数组越界\n    let flag = 0\n    let newDataList = tableData.map(item => {\n      if (item.type === 'INDEX_ERROR') {\n        flag =1;\n        return item;\n      }\n    });\n    if (flag === 0) {\n      newDataList = [];\n    }\n    setFiltedData(newDataList);\n  };\n  const handle2 = () => {\n    setShowDialog(false);\n    setFilted(true);\n    setBugLabel('MEMORY_LEAK'); // 内存泄漏\n    let flag = 0;\n    let newDataList = tableData.map(item => {\n      if (item.type === 'MEMORY_LEAK') {\n        flag =1;\n        return item;\n      }\n    });\n    if (flag === 0) {\n      newDataList = [];\n    }\n    setFiltedData(newDataList);\n    console.log(newDataList);\n  };\n  const handlePatchGenerationClick = () => {\n    setShowDialog(true);\n  };\n  const dialogStyles = {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%',\n    background: 'rgba(0, 0, 0, 0.5)',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    zIndex: 9999,\n  };\n\n  const dialogContentStyles = {\n    background: 'white',\n    padding: '20px',\n    borderRadius: '8px',\n    textAlign: 'center',\n  };\n\n  const dialogButtonStyles = {\n    margin: '0 10px',\n  };\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', height: '100vh' }}>\n      <div style={{ display: 'flex', alignItems: 'center', marginBottom: '10px' }}>\n        <p style={{ marginRight: '10px' }}>{selectedFile.title}</p>\n        <Button onClick={handleBugDetectionClick}>漏洞检测</Button>\n        <Button onClick={handlePatchGenerationClick}>补丁修复</Button>\n        {showDialog && (\n          <div style={dialogStyles}>\n            <div style={dialogContentStyles}>\n              <p>选择漏洞类别</p>\n              <button onClick={handle1} style={dialogButtonStyles}>数组越界</button>\n              <button onClick={handle2} style={dialogButtonStyles}>内存泄漏</button>\n            </div>\n          </div>\n        )}\n      </div>\n      <Editor\n        height={`calc(100vh - ${tableHeight + 50}px)`}\n        defaultLanguage=\"cpp\"\n        value={selectedFile.content}\n        onMount={handleEditorDidMount}\n      />\n      <div style={{ height: `${tableHeight}px`, overflow: 'auto', marginTop: '20px', position: 'relative' }}>\n        <Table columns={columns} dataSource={filted ? filtedData : tableData} onChange={handleChange} pagination={false} />\n        <div\n          style={{\n            height: '5px',\n            backgroundColor: 'gray',\n            cursor: 'ns-resize',\n            position: 'absolute',\n            top: 0,\n            width: '100%',\n          }}\n          onMouseDown={startResizing}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default FileEditorWithBugTable;\n"],"mappings":";;;;;;AACA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AACA,IAAAE,OAAA,GAAAC,sBAAA,CAAAH,OAAA;AAA0C,SAAAG,uBAAAC,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,SAAAG,yBAAAH,CAAA,6BAAAI,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAD,wBAAA,YAAAA,CAAAH,CAAA,WAAAA,CAAA,GAAAM,CAAA,GAAAD,CAAA,KAAAL,CAAA;AAAA,SAAAL,wBAAAK,CAAA,EAAAK,CAAA,SAAAA,CAAA,IAAAL,CAAA,IAAAA,CAAA,CAAAC,UAAA,SAAAD,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAE,OAAA,EAAAF,CAAA,QAAAM,CAAA,GAAAH,wBAAA,CAAAE,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAC,GAAA,CAAAP,CAAA,UAAAM,CAAA,CAAAE,GAAA,CAAAR,CAAA,OAAAS,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAf,CAAA,oBAAAe,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAe,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAd,CAAA,EAAAe,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAf,CAAA,CAAAe,CAAA,YAAAN,CAAA,CAAAP,OAAA,GAAAF,CAAA,EAAAM,CAAA,IAAAA,CAAA,CAAAa,GAAA,CAAAnB,CAAA,EAAAS,CAAA,GAAAA,CAAA;AAH1C;;AAKA,MAAMW,sBAAsB,GAAGC,IAAA,IAAoE;EAAA,IAAnE;IAAEC,YAAY;IAAEC,cAAc;IAAEC,SAAS;IAAEC;EAAkB,CAAC,GAAAJ,IAAA;EAC5F,MAAMK,SAAS,GAAG,IAAAC,aAAM,EAAC,IAAI,CAAC;EAC9B,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAG,IAAAC,eAAQ,EAAC,GAAG,CAAC;EACnD,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAG,IAAAF,eAAQ,EAAC,KAAK,CAAC;EACnD,MAAM,CAACG,UAAU,EAAEC,aAAa,CAAC,GAAG,IAAAJ,eAAQ,EAAC,CAAC,CAAC,CAAC;EAChD,MAAM,CAACK,UAAU,EAAEC,aAAa,CAAC,GAAG,IAAAN,eAAQ,EAAC,KAAK,CAAC;EACnD,MAAM,CAACO,MAAM,EAAEC,SAAS,CAAC,GAAG,IAAAR,eAAQ,EAAC,KAAK,CAAC;EAC3C,MAAM,CAACS,UAAU,EAAEC,aAAa,CAAC,GAAG,IAAAV,eAAQ,EAAC,IAAI,CAAC;EAClD,MAAM,CAACW,QAAQ,EAAEC,WAAW,CAAC,GAAG,IAAAZ,eAAQ,EAAC,IAAI,CAAC;EAC9C,MAAM,CAACa,KAAK,EAAEC,QAAQ,CAAC,GAAG,IAAAd,eAAQ,EAAC,IAAI,CAAC;EACxC,MAAMe,YAAY,GAAGA,CAACC,UAAU,EAAEC,OAAO,EAAEC,MAAM,KAAK;IACpDd,aAAa,CAACc,MAAM,CAAC;EACvB,CAAC;EACD,MAAMC,oBAAoB,GAAGA,CAACC,MAAM,EAAEC,MAAM,KAAK;IAC/CzB,SAAS,CAAC0B,OAAO,GAAGF,MAAM;EAC5B,CAAC;EAED,MAAMG,eAAe,GAAIC,QAAQ,IAAK;IACpC,MAAM,CAACC,UAAU,EAAEC,SAAS,CAAC,GAAGF,QAAQ,CAACG,KAAK,CAAC,MAAM,CAAC,CAACC,GAAG,CAACC,MAAM,CAAC;IAClE,IAAIjC,SAAS,CAAC0B,OAAO,EAAE;MACrB1B,SAAS,CAAC0B,OAAO,CAACQ,kBAAkB,CAACL,UAAU,CAAC;MAChD7B,SAAS,CAAC0B,OAAO,CAACS,WAAW,CAAC;QAAEN,UAAU;QAAEO,MAAM,EAAEN;MAAU,CAAC,CAAC;MAChE9B,SAAS,CAAC0B,OAAO,CAACW,KAAK,CAAC,CAAC;IAC3B;EACF,CAAC;EAED,MAAMC,aAAa,GAAIC,EAAE,IAAK;IAC5B,IAAI5B,MAAM,KAAK,IAAI,EAAE;MACnB6B,OAAO,CAACC,GAAG,CAACF,EAAE,CAAC;MACfC,OAAO,CAACC,GAAG,CAAC1B,QAAQ,CAAC;MACrBhB,iBAAiB,CAACgB,QAAQ,EAAEwB,EAAE,CAAC;MAC/B3B,SAAS,CAAC,KAAK,CAAC;IAClB;EACF,CAAC;EACD,MAAM8B,aAAa,GAAIpE,CAAC,IAAK;IAC3BgC,aAAa,CAAC,IAAI,CAAC;IACnBqC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,MAAM,GAAG,WAAW;EAC1C,CAAC;EAED,MAAMC,YAAY,GAAGA,CAAA,KAAM;IACzBzC,aAAa,CAAC,KAAK,CAAC;IACpBqC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,MAAM,GAAG,SAAS;EACxC,CAAC;EAED,MAAME,WAAW,GAAI1E,CAAC,IAAK;IACzB,IAAI+B,UAAU,EAAE;MACd,MAAM4C,SAAS,GAAGC,MAAM,CAACC,WAAW,GAAG7E,CAAC,CAAC8E,OAAO;MAChDjD,cAAc,CAAC8C,SAAS,CAAC;IAC3B;EACF,CAAC;EAEDI,cAAK,CAACC,SAAS,CAAC,MAAM;IACpBJ,MAAM,CAACK,gBAAgB,CAAC,WAAW,EAAEP,WAAW,CAAC;IACjDE,MAAM,CAACK,gBAAgB,CAAC,SAAS,EAAER,YAAY,CAAC;IAChD,OAAO,MAAM;MACXG,MAAM,CAACM,mBAAmB,CAAC,WAAW,EAAER,WAAW,CAAC;MACpDE,MAAM,CAACM,mBAAmB,CAAC,SAAS,EAAET,YAAY,CAAC;IACrD,CAAC;EACH,CAAC,EAAE,CAAC1C,UAAU,CAAC,CAAC;EAEhB,MAAMoD,OAAO,GAAG,CACd;IACEC,KAAK,EAAE,IAAI;IACXC,SAAS,EAAE,IAAI;IACfC,GAAG,EAAE,IAAI;IACTC,MAAM,EAAGC,MAAM,KAAM;MACnBC,OAAO,EAAEA,CAAA,KAAMzB,aAAa,CAACwB,MAAM,CAACvB,EAAE;IACxC,CAAC;EACH,CAAC,EACD;IACEmB,KAAK,EAAE,UAAU;IACjBC,SAAS,EAAE,UAAU;IACrBC,GAAG,EAAE,UAAU;IACftC,MAAM,EAAEA,CAACrC,CAAC,EAAE+E,CAAC,KAAK/E,CAAC,CAACgF,QAAQ,CAACC,aAAa,CAACF,CAAC,CAACC,QAAQ,CAAC;IACtDE,SAAS,EAAE5D,UAAU,CAAC6D,SAAS,KAAK,UAAU,IAAI7D,UAAU,CAAC8D;EAC/D,CAAC,EACD;IACEX,KAAK,EAAE,MAAM;IACbC,SAAS,EAAE,MAAM;IACjBC,GAAG,EAAE;EACP,CAAC,EACD;IACEF,KAAK,EAAE,WAAW;IAClBC,SAAS,EAAE,WAAW;IACtBC,GAAG,EAAE;EACP,CAAC,EACD;IACEF,KAAK,EAAE,UAAU;IACjBC,SAAS,EAAE,UAAU;IACrBC,GAAG,EAAE,UAAU;IACfC,MAAM,EAAGC,MAAM,KAAM;MACnBC,OAAO,EAAEA,CAAA,KAAMpC,eAAe,CAACmC,MAAM,CAAClC,QAAQ;IAChD,CAAC;EACH,CAAC,CACF;EACD,MAAM0C,uBAAuB,GAAGA,CAAA,KAAM;IACpC,IAAItE,SAAS,CAAC0B,OAAO,EAAE;MACrB,MAAM6C,WAAW,GAAGvE,SAAS,CAAC0B,OAAO,CAAC8C,QAAQ,CAAC,CAAC;MAChD3E,cAAc,CAAC0E,WAAW,CAAC;IAC7B,CAAC,MAAM;MACLE,aAAO,CAACC,KAAK,CAAC,qBAAqB,CAAC;IACtC;EACF,CAAC;EACD,MAAMC,OAAO,GAAGA,CAAA,KAAM;IACpBjE,aAAa,CAAC,KAAK,CAAC;IACpBE,SAAS,CAAC,IAAI,CAAC;IACfI,WAAW,CAAC,aAAa,CAAC,CAAC,CAAC;IAC5B,IAAI4D,IAAI,GAAG,CAAC;IACZ,IAAIC,WAAW,GAAG/E,SAAS,CAACkC,GAAG,CAAC8C,IAAI,IAAI;MACtC,IAAIA,IAAI,CAACC,IAAI,KAAK,aAAa,EAAE;QAC/BH,IAAI,GAAE,CAAC;QACP,OAAOE,IAAI;MACb;IACF,CAAC,CAAC;IACF,IAAIF,IAAI,KAAK,CAAC,EAAE;MACdC,WAAW,GAAG,EAAE;IAClB;IACA/D,aAAa,CAAC+D,WAAW,CAAC;EAC5B,CAAC;EACD,MAAMG,OAAO,GAAGA,CAAA,KAAM;IACpBtE,aAAa,CAAC,KAAK,CAAC;IACpBE,SAAS,CAAC,IAAI,CAAC;IACfI,WAAW,CAAC,aAAa,CAAC,CAAC,CAAC;IAC5B,IAAI4D,IAAI,GAAG,CAAC;IACZ,IAAIC,WAAW,GAAG/E,SAAS,CAACkC,GAAG,CAAC8C,IAAI,IAAI;MACtC,IAAIA,IAAI,CAACC,IAAI,KAAK,aAAa,EAAE;QAC/BH,IAAI,GAAE,CAAC;QACP,OAAOE,IAAI;MACb;IACF,CAAC,CAAC;IACF,IAAIF,IAAI,KAAK,CAAC,EAAE;MACdC,WAAW,GAAG,EAAE;IAClB;IACA/D,aAAa,CAAC+D,WAAW,CAAC;IAC1BrC,OAAO,CAACC,GAAG,CAACoC,WAAW,CAAC;EAC1B,CAAC;EACD,MAAMI,0BAA0B,GAAGA,CAAA,KAAM;IACvCvE,aAAa,CAAC,IAAI,CAAC;EACrB,CAAC;EACD,MAAMwE,YAAY,GAAG;IACnBC,QAAQ,EAAE,OAAO;IACjBC,GAAG,EAAE,CAAC;IACNC,IAAI,EAAE,CAAC;IACPC,KAAK,EAAE,MAAM;IACbC,MAAM,EAAE,MAAM;IACdC,UAAU,EAAE,oBAAoB;IAChCC,OAAO,EAAE,MAAM;IACfC,cAAc,EAAE,QAAQ;IACxBC,UAAU,EAAE,QAAQ;IACpBC,MAAM,EAAE;EACV,CAAC;EAED,MAAMC,mBAAmB,GAAG;IAC1BL,UAAU,EAAE,OAAO;IACnBM,OAAO,EAAE,MAAM;IACfC,YAAY,EAAE,KAAK;IACnBC,SAAS,EAAE;EACb,CAAC;EAED,MAAMC,kBAAkB,GAAG;IACzBC,MAAM,EAAE;EACV,CAAC;EACD,oBACElI,MAAA,CAAAQ,OAAA,CAAA2H,aAAA;IAAKtD,KAAK,EAAE;MAAE4C,OAAO,EAAE,MAAM;MAAEW,aAAa,EAAE,QAAQ;MAAEb,MAAM,EAAE;IAAQ;EAAE,gBACxEvH,MAAA,CAAAQ,OAAA,CAAA2H,aAAA;IAAKtD,KAAK,EAAE;MAAE4C,OAAO,EAAE,MAAM;MAAEE,UAAU,EAAE,QAAQ;MAAEU,YAAY,EAAE;IAAO;EAAE,gBAC1ErI,MAAA,CAAAQ,OAAA,CAAA2H,aAAA;IAAGtD,KAAK,EAAE;MAAEyD,WAAW,EAAE;IAAO;EAAE,GAAE1G,YAAY,CAAC8D,KAAS,CAAC,eAC3D1F,MAAA,CAAAQ,OAAA,CAAA2H,aAAA,CAAChI,KAAA,CAAAoI,MAAM;IAACxC,OAAO,EAAEO;EAAwB,GAAC,0BAAY,CAAC,eACvDtG,MAAA,CAAAQ,OAAA,CAAA2H,aAAA,CAAChI,KAAA,CAAAoI,MAAM;IAACxC,OAAO,EAAEkB;EAA2B,GAAC,0BAAY,CAAC,EACzDxE,UAAU,iBACTzC,MAAA,CAAAQ,OAAA,CAAA2H,aAAA;IAAKtD,KAAK,EAAEqC;EAAa,gBACvBlH,MAAA,CAAAQ,OAAA,CAAA2H,aAAA;IAAKtD,KAAK,EAAEgD;EAAoB,gBAC9B7H,MAAA,CAAAQ,OAAA,CAAA2H,aAAA,YAAG,sCAAS,CAAC,eACbnI,MAAA,CAAAQ,OAAA,CAAA2H,aAAA;IAAQpC,OAAO,EAAEY,OAAQ;IAAC9B,KAAK,EAAEoD;EAAmB,GAAC,0BAAY,CAAC,eAClEjI,MAAA,CAAAQ,OAAA,CAAA2H,aAAA;IAAQpC,OAAO,EAAEiB,OAAQ;IAACnC,KAAK,EAAEoD;EAAmB,GAAC,0BAAY,CAC9D,CACF,CAEJ,CAAC,eACNjI,MAAA,CAAAQ,OAAA,CAAA2H,aAAA,CAAC/H,OAAA,CAAAI,OAAM;IACL+G,MAAM,kBAAAiB,MAAA,CAAkBtG,WAAW,GAAG,EAAE,QAAM;IAC9CuG,eAAe,EAAC,KAAK;IACrBC,KAAK,EAAE9G,YAAY,CAAC+G,OAAQ;IAC5BC,OAAO,EAAErF;EAAqB,CAC/B,CAAC,eACFvD,MAAA,CAAAQ,OAAA,CAAA2H,aAAA;IAAKtD,KAAK,EAAE;MAAE0C,MAAM,KAAAiB,MAAA,CAAKtG,WAAW,OAAI;MAAE2G,QAAQ,EAAE,MAAM;MAAEC,SAAS,EAAE,MAAM;MAAE3B,QAAQ,EAAE;IAAW;EAAE,gBACpGnH,MAAA,CAAAQ,OAAA,CAAA2H,aAAA,CAAChI,KAAA,CAAA4I,KAAK;IAACtD,OAAO,EAAEA,OAAQ;IAACuD,UAAU,EAAErG,MAAM,GAAGE,UAAU,GAAGf,SAAU;IAACmH,QAAQ,EAAE9F,YAAa;IAACC,UAAU,EAAE;EAAM,CAAE,CAAC,eACnHpD,MAAA,CAAAQ,OAAA,CAAA2H,aAAA;IACEtD,KAAK,EAAE;MACL0C,MAAM,EAAE,KAAK;MACb2B,eAAe,EAAE,MAAM;MACvBpE,MAAM,EAAE,WAAW;MACnBqC,QAAQ,EAAE,UAAU;MACpBC,GAAG,EAAE,CAAC;MACNE,KAAK,EAAE;IACT,CAAE;IACF6B,WAAW,EAAEzE;EAAc,CAC5B,CACE,CACF,CAAC;AAEV,CAAC;AAAC,IAAA0E,QAAA,GAAAC,OAAA,CAAA7I,OAAA,GAEakB,sBAAsB","ignoreList":[]}},"mtime":1718077416009}}